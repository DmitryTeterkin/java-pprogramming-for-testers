(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"++xk":function(n,e,t){"use strict";t.d(e,"a",function(){return l}),t("YquS"),t("U+aR");var l=function(){}},"12JI":function(n,e,t){"use strict";t.d(e,"a",function(){return m});var l=t("9fSo"),i=t("TcM7"),o=t("MiBj"),u=t("I7SJ"),s=(t("gFDQ"),t("Dy+N"),t("hDTF")),r=t("G5J1"),a=t("VNr4"),c=t("xMyE"),d=t("9Z1F"),m=(t("3P9I"),t("zFH7"),t("LYuz"),t("U+74"),function(){function n(n,e,t,l,i,o){this.logger=n,this.meProfileService=e,this.discussionBackendClient=t,this.discussionService=l,this.discussionExceptionService=i,this.commentsService=o,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.changeLikeStatus=function(n,e,t){return e?this.changeLikeStatusOfComment(n,e,t,t===o.a.SOLUTION||t===o.a.HELPFUL):this.changeLikeStatusOfDiscussion(n,t)},n.prototype.changeLikeStatusOfDiscussion=function(n,e,t){var l=this;void 0===t&&(t=!1);var i=new u.a;return i.status=e,this.discussionBackendClient.voteDiscussion(n.id,i).pipe(Object(c.a)(function(n){l.logger.info("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430 \u043e\u0446\u0435\u043d\u043a\u0430 \u0434\u0438\u0441\u043a\u0443\u0441\u0441\u0438\u0438",n)}),Object(d.a)(function(n){return l.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f"),r.a}))},n.prototype.changeLikeStatusOfComment=function(n,e,t,i){var m=this;void 0===i&&(i=!1);var p=new u.a;return p.status=t,this.discussionBackendClient.voteComment(n.id,e.id,p).pipe(Object(c.a)(function(u){m.logger.info("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430 \u043e\u0446\u0435\u043d\u043a\u0430 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f",u),i&&m.commentsService.reloadComment(e),n.type===l.a.QUESTION&&t===o.a.SOLUTION&&Object(a.a)(m.meProfileService.isUserModerator(),m.discussionService.isMeOwnerOfQuestionTopic()).subscribe(function(n){(n[0]||n[1])&&(m.discussionService.getDiscussionTopicInfo().status=s.a.SOLVED)})}),Object(d.a)(function(n){return m.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f"),r.a}))},n.prototype.getSuitableLikeStatuses=function(n,e,t){switch(n){case l.a.QUESTION:return this.getLikeStatusesForQuestions(e,t);case l.a.POST:return this.getLikeStatusesForGroups(e,t);case l.a.LECTURE:return this.getLikeStatusesForLectures(e,t);case l.a.TASK:case l.a.QUIZ:return this.getLikeStatusesForTasks(e,t);case l.a.QUEST:return this.getLikeStatusesForQuests(e,t);case l.a.STORY:return this.getLikeStatusesForSuccessStories(e,t);default:return this.getDefaultLikeStatuses(e,t)}},n.prototype.getLikeStatusesForQuestions=function(n,e){var t=[];return e?n?(t.push(o.a.SOLUTION),t.push(o.a.HELPFUL),t.push(o.a.ARTICLE),t.push(o.a.HOT),t.push(o.a.FOLLOW),t.push(o.a.FAVORITE)):(t.push(i.a.WRONG),t.push(i.a.DIRTY),t.push(i.a.OUTDATED),t.push(i.a.SPAM),t.push(i.a.ABUSE),t.push(i.a.FOUL)):n?(t.push(o.a.HOT),t.push(o.a.FOLLOW),t.push(o.a.FAVORITE)):(t.push(i.a.DUPLICATE),t.push(i.a.DIRTY),t.push(i.a.OUTDATED),t.push(i.a.SPAM),t.push(i.a.ABUSE),t.push(i.a.FOUL)),t},n.prototype.getLikeStatusesForGroups=function(n,e){var t=[];return e?n?(t.push(o.a.HOT),t.push(o.a.FOLLOW),t.push(o.a.FAVORITE),t.push(o.a.ARTICLE)):(t.push(i.a.TROLLING),t.push(i.a.SPAM),t.push(i.a.ABUSE),t.push(i.a.FOUL)):n?(t.push(o.a.HOT),t.push(o.a.FOLLOW),t.push(o.a.FAVORITE),t.push(o.a.OSCAR)):(t.push(i.a.OFFTOPIC),t.push(i.a.DIRTY),t.push(i.a.OUTDATED),t.push(i.a.FAKE),t.push(i.a.SPAM),t.push(i.a.ABUSE),t.push(i.a.FOUL)),t},n.prototype.getLikeStatusesForLectures=function(n,e){var t=[];return e?n?(t.push(o.a.HOT),t.push(o.a.FAVORITE),t.push(o.a.FOLLOW),t.push(o.a.ARTICLE)):(t.push(i.a.TROLLING),t.push(i.a.SPAM),t.push(i.a.ABUSE),t.push(i.a.FOUL)):n?(t.push(o.a.HOT),t.push(o.a.FAVORITE)):(t.push(i.a.BORING),t.push(i.a.UNCLEAR),t.push(i.a.HARD),t.push(i.a.EASY),t.push(i.a.OUTDATED)),t},n.prototype.getLikeStatusesForTasks=function(n,e){var t=[];return e?n?(t.push(o.a.HOT),t.push(o.a.FAVORITE),t.push(o.a.FOLLOW),t.push(o.a.ARTICLE)):(t.push(i.a.TROLLING),t.push(i.a.SPAM),t.push(i.a.ABUSE),t.push(i.a.FOUL)):n?(t.push(o.a.HOT),t.push(o.a.FAVORITE)):(t.push(i.a.BORING),t.push(i.a.UNCLEAR),t.push(i.a.HARD),t.push(i.a.EASY)),t},n.prototype.getLikeStatusesForQuests=function(n,e){var t=[];return e?n?(t.push(o.a.HOT),t.push(o.a.FAVORITE),t.push(o.a.FOLLOW),t.push(o.a.ARTICLE)):(t.push(i.a.TROLLING),t.push(i.a.SPAM),t.push(i.a.ABUSE),t.push(i.a.FOUL)):n?t.push(o.a.HOT):(t.push(i.a.BORING),t.push(i.a.UNCLEAR),t.push(i.a.HARD),t.push(i.a.EASY)),t},n.prototype.getLikeStatusesForSuccessStories=function(n,e){var t=[];return e?n?(t.push(o.a.HOT),t.push(o.a.FAVORITE),t.push(o.a.FOLLOW),t.push(o.a.ARTICLE)):(t.push(i.a.TROLLING),t.push(i.a.SPAM),t.push(i.a.ABUSE),t.push(i.a.FOUL)):n?(t.push(o.a.HOT),t.push(o.a.FAVORITE)):(t.push(i.a.BORING),t.push(i.a.SHAM)),t},n.prototype.getDefaultLikeStatuses=function(n,e){var t=[];return e?n?(t.push(o.a.HOT),t.push(o.a.FAVORITE),t.push(o.a.FOLLOW),t.push(o.a.ARTICLE)):(t.push(i.a.TROLLING),t.push(i.a.SPAM),t.push(i.a.ABUSE),t.push(i.a.FOUL)):t.push(n?o.a.HOT:i.a.BORING),t},n}())},"1dnJ":function(n,e,t){"use strict";t.d(e,"a",function(){return o}),t("gFDQ");var l=t("K9Ia"),i=t("HgFO"),o=(t("5uw7"),function(){function n(n,e){this.logger=n,this.transformationsService=e,this.transformLauncherSource=new l.a,this.transformLauncher$=this.transformLauncherSource.asObservable(),this.insertUrlModalSource=new l.a,this.insertUrlModal$=this.insertUrlModalSource.asObservable(),this.insertImageModalSource=new l.a,this.insertImageModal$=this.insertImageModalSource.asObservable(),this.logger.debug(this.constructor.name+" is created.")}return n.prototype.launchTextTransform=function(n){this.transformLauncherSource.next(n)},n.prototype.processTransformRequest=function(n){switch(this.logger.debug("Performing editor transformation",n),n.type){case i.a.BOLD:this.transformationsService.wrapOrUnwrapText(n,"<strong>","</strong>");break;case i.a.ITALIC:this.transformationsService.wrapOrUnwrapText(n,"<em>","</em>");break;case i.a.UNDERLINE:this.transformationsService.wrapOrUnwrapText(n,"<u>","</u>");break;case i.a.STRIKE_THROUGH:this.transformationsService.wrapOrUnwrapText(n,"<s>","</s>");break;case i.a.INSERT_URL:this.insertUrlModalSource.next(n);break;case i.a.INSERT_IMAGE:this.insertImageModalSource.next(n);break;case i.a.CODE:this.transformationsService.wrapOrUnwrapText(n,"<pre class='lang-java line-numbers'><code>\n","\n</code></pre>")}},n}())},"1on1":function(n,e,t){"use strict";var l=t("CcnG"),i=function(){function n(){this.type="button"}return n.prototype.onMouseDown=function(n){n.preventDefault()},n}(),o=t("BofX"),u=t("T5bw"),s=t("gFDQ"),r=t("HgFO"),a=t("1dnJ"),c=function(){function n(n,e){this.logger=n,this.richEditorService=e,this.TransformType=r.a,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.runTransform=function(n){this.richEditorService.launchTextTransform(n)},n}(),d=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}.toolbar[_ngcontent-%COMP%]{display:block;overflow:hidden;font-size:0;background-color:#304d61;border-top:1px solid #5a7485;border-bottom:1px solid transparent;border-left:1px solid #426179;border-right:1px solid #426179;border-radius:3px 3px 0 0;box-shadow:rgba(232,247,255,.15) 0 1px 1px inset}.toolbar__container[_ngcontent-%COMP%]{margin-top:-1px;margin-bottom:-2px}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;display:inline-block;min-width:25%;height:38px;margin:0;padding:4px 12px 2px;line-height:1;color:#fff;font-size:15px;font-weight:400;background-color:transparent;border:none;border-right:1px solid #192a37;border-bottom:1px solid #192a37;box-shadow:1px 1px 0 0 #5a7485;cursor:pointer}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#426179}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{box-shadow:1px 1px 0 0 #5a7485,rgba(0,0,0,.5) 0 1px 1px inset}@media (min-width:480px){.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:44px}}.light[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]{background-color:#4d545f;border-color:transparent}.light[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:rgba(255,255,255,.7);border-right:1px solid #646b77;box-shadow:1px 0 0 0 #383d45}.light[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.15)}.light[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .light   [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:rgba(0,0,0,.25);box-shadow:1px 0 0 0 #383d45,rgba(0,0,0,.5) 0 1px 1px inset}"]],data:{}});function m(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,29,"div",[["class","toolbar"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,28,"div",[["class","toolbar__container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,3,"button",[["jrEditorButton",""],["title","\u0416\u0438\u0440\u043d\u044b\u0439 (Ctrl+B)"]],[[8,"type",0]],[[null,"click"],[null,"mousedown"]],function(n,e,t){var i=!0,o=n.component;return"mousedown"===e&&(i=!1!==l["\u0275nov"](n,3).onMouseDown(t)&&i),"click"===e&&(i=!1!==o.runTransform(o.TransformType.BOLD)&&i),i},null,null)),l["\u0275did"](3,16384,null,0,i,[],null,null),(n()(),l["\u0275eld"](4,0,null,null,1,"jr-icon",[["name","rich-editor-bold"]],null,null,null,o.b,o.a)),l["\u0275did"](5,114688,null,0,u.a,[],{name:[0,"name"]},null),(n()(),l["\u0275eld"](6,0,null,null,3,"button",[["jrEditorButton",""],["title","\u041a\u0443\u0440\u0441\u0438\u0432 (Ctrl+I)"]],[[8,"type",0]],[[null,"click"],[null,"mousedown"]],function(n,e,t){var i=!0,o=n.component;return"mousedown"===e&&(i=!1!==l["\u0275nov"](n,7).onMouseDown(t)&&i),"click"===e&&(i=!1!==o.runTransform(o.TransformType.ITALIC)&&i),i},null,null)),l["\u0275did"](7,16384,null,0,i,[],null,null),(n()(),l["\u0275eld"](8,0,null,null,1,"jr-icon",[["name","rich-editor-italic"]],null,null,null,o.b,o.a)),l["\u0275did"](9,114688,null,0,u.a,[],{name:[0,"name"]},null),(n()(),l["\u0275eld"](10,0,null,null,3,"button",[["jrEditorButton",""],["title","\u041f\u043e\u0434\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439 (Ctrl+U)"]],[[8,"type",0]],[[null,"click"],[null,"mousedown"]],function(n,e,t){var i=!0,o=n.component;return"mousedown"===e&&(i=!1!==l["\u0275nov"](n,11).onMouseDown(t)&&i),"click"===e&&(i=!1!==o.runTransform(o.TransformType.UNDERLINE)&&i),i},null,null)),l["\u0275did"](11,16384,null,0,i,[],null,null),(n()(),l["\u0275eld"](12,0,null,null,1,"jr-icon",[["name","rich-editor-underline"]],null,null,null,o.b,o.a)),l["\u0275did"](13,114688,null,0,u.a,[],{name:[0,"name"]},null),(n()(),l["\u0275eld"](14,0,null,null,3,"button",[["jrEditorButton",""],["title","\u0417\u0430\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439 (Ctrl+S)"]],[[8,"type",0]],[[null,"click"],[null,"mousedown"]],function(n,e,t){var i=!0,o=n.component;return"mousedown"===e&&(i=!1!==l["\u0275nov"](n,15).onMouseDown(t)&&i),"click"===e&&(i=!1!==o.runTransform(o.TransformType.STRIKE_THROUGH)&&i),i},null,null)),l["\u0275did"](15,16384,null,0,i,[],null,null),(n()(),l["\u0275eld"](16,0,null,null,1,"jr-icon",[["name","rich-editor-strike"]],null,null,null,o.b,o.a)),l["\u0275did"](17,114688,null,0,u.a,[],{name:[0,"name"]},null),(n()(),l["\u0275eld"](18,0,null,null,3,"button",[["jrEditorButton",""],["title","\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"]],[[8,"type",0]],[[null,"click"],[null,"mousedown"]],function(n,e,t){var i=!0,o=n.component;return"mousedown"===e&&(i=!1!==l["\u0275nov"](n,19).onMouseDown(t)&&i),"click"===e&&(i=!1!==o.runTransform(o.TransformType.INSERT_URL)&&i),i},null,null)),l["\u0275did"](19,16384,null,0,i,[],null,null),(n()(),l["\u0275eld"](20,0,null,null,1,"jr-icon",[["name","rich-editor-link"]],null,null,null,o.b,o.a)),l["\u0275did"](21,114688,null,0,u.a,[],{name:[0,"name"]},null),(n()(),l["\u0275eld"](22,0,null,null,3,"button",[["jrEditorButton",""],["title","\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"]],[[8,"type",0]],[[null,"click"],[null,"mousedown"]],function(n,e,t){var i=!0,o=n.component;return"mousedown"===e&&(i=!1!==l["\u0275nov"](n,23).onMouseDown(t)&&i),"click"===e&&(i=!1!==o.runTransform(o.TransformType.INSERT_IMAGE)&&i),i},null,null)),l["\u0275did"](23,16384,null,0,i,[],null,null),(n()(),l["\u0275eld"](24,0,null,null,1,"jr-icon",[["name","rich-editor-image"]],null,null,null,o.b,o.a)),l["\u0275did"](25,114688,null,0,u.a,[],{name:[0,"name"]},null),(n()(),l["\u0275eld"](26,0,null,null,3,"button",[["jrEditorButton",""],["title","\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u043a\u043e\u0434"]],[[8,"type",0]],[[null,"click"],[null,"mousedown"]],function(n,e,t){var i=!0,o=n.component;return"mousedown"===e&&(i=!1!==l["\u0275nov"](n,27).onMouseDown(t)&&i),"click"===e&&(i=!1!==o.runTransform(o.TransformType.CODE)&&i),i},null,null)),l["\u0275did"](27,16384,null,0,i,[],null,null),(n()(),l["\u0275eld"](28,0,null,null,1,"jr-icon",[["name","rich-editor-code"]],null,null,null,o.b,o.a)),l["\u0275did"](29,114688,null,0,u.a,[],{name:[0,"name"]},null)],function(n,e){n(e,5,0,"rich-editor-bold"),n(e,9,0,"rich-editor-italic"),n(e,13,0,"rich-editor-underline"),n(e,17,0,"rich-editor-strike"),n(e,21,0,"rich-editor-link"),n(e,25,0,"rich-editor-image"),n(e,29,0,"rich-editor-code")},function(n,e){n(e,2,0,l["\u0275nov"](e,3).type),n(e,6,0,l["\u0275nov"](e,7).type),n(e,10,0,l["\u0275nov"](e,11).type),n(e,14,0,l["\u0275nov"](e,15).type),n(e,18,0,l["\u0275nov"](e,19).type),n(e,22,0,l["\u0275nov"](e,23).type),n(e,26,0,l["\u0275nov"](e,27).type)})}var p=t("wCGo"),g=function(){function n(n){this.richEditorService=n}return n.prototype.onKeydown=function(n){if(n.ctrlKey)switch(n.keyCode){case 66:this.richEditorService.launchTextTransform(r.a.BOLD),n.preventDefault();break;case 73:this.richEditorService.launchTextTransform(r.a.ITALIC),n.preventDefault();break;case 85:this.richEditorService.launchTextTransform(r.a.UNDERLINE),n.preventDefault();break;case 83:this.richEditorService.launchTextTransform(r.a.STRIKE_THROUGH),n.preventDefault()}},n}(),f=t("gIcY"),h=t("Ip0R"),C=t("5uw7"),v=function(){function n(n,e,t,l){this.logger=n,this.formBuilder=e,this.richEditorService=t,this.transformationsService=l,this.isShown=!1,this.componentSubscriptions=[],this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnInit=function(){var n=this;this.componentSubscriptions[0]=this.richEditorService.insertUrlModal$.subscribe(function(e){n.openModalAndInitForm(e)})},n.prototype.openModalAndInitForm=function(n){this.isShown=!0,this.wasSubmitted=!1,this.transformRequest=n;var e=n.selectedText.length>100?n.selectedText.substring(0,100)+"...":n.selectedText;this.insertUrlForm=this.formBuilder.group({url:["",f.Validators.compose([f.Validators.pattern(/^((https?):\/\/).+$/),f.Validators.required])],urlName:[e]})},n.prototype.onSubmit=function(){this.wasSubmitted=!0,this.insertUrlForm.valid&&(this.transformationsService.insertUrl(this.transformRequest,this.insertUrlForm.value.url,this.insertUrlForm.value.urlName),this.close())},n.prototype.close=function(){this.isShown=!1},n.prototype.ngOnDestroy=function(){this.componentSubscriptions.forEach(function(n){return n.unsubscribe()})},n}(),b=l["\u0275crt"]({encapsulation:0,styles:[[".mdl[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.4);z-index:9999}.mdl-win[_ngcontent-%COMP%]{width:40%;min-width:300px;background-color:#1f2024;border:1px solid #4d87af;border-radius:2px;font-size:18px;line-height:1;box-shadow:rgba(61,67,81,.46) 0 0 5px}.mdl-win-close[_ngcontent-%COMP%]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:15px}.head[_ngcontent-%COMP%]{position:relative;padding:15px 40px 15px 20px;line-height:1;font-size:14px;color:#fff;background-color:#37607e}.body[_ngcontent-%COMP%]{padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.alert.alert-danger[_ngcontent-%COMP%]{overflow:hidden;background:0 0;padding:5px 10px;font-size:12px;margin-top:5px}.alert.alert-danger[_ngcontent-%COMP%]:before{display:none}@media (max-width:767px){.mdl-win[_ngcontent-%COMP%]{width:100%;min-width:0}}.light[_nghost-%COMP%]   .mdl-win[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .mdl-win[_ngcontent-%COMP%]{background-color:#fff;border:none}.light[_nghost-%COMP%]   .head[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .head[_ngcontent-%COMP%]{background-color:#424d59}"]],data:{}});function O(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,35,"div",[["class","mdl"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,34,"div",[["class","mdl-win"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,4,"div",[["class","head"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u0438 \u0435\u0435 \u0438\u043c\u044f "])),(n()(),l["\u0275eld"](4,0,null,null,2,"button",[["class","mdl-win-close close"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.close()&&l),l},null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,":svg:svg",[["class","icon icon--common-cross"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,0,":svg:use",[[":xlink:href","/assets/icons/site.svg#icon-common-cross"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,28,"div",[["class","body"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,27,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,e,t){var i=!0,o=n.component;return"submit"===e&&(i=!1!==l["\u0275nov"](n,10).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,10).onReset()&&i),"ngSubmit"===e&&(i=!1!==o.onSubmit()&&i),i},null,null)),l["\u0275did"](9,16384,null,0,f["\u0275angular_packages_forms_forms_bg"],[],null,null),l["\u0275did"](10,540672,null,0,f.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),l["\u0275prd"](2048,null,f.ControlContainer,null,[f.FormGroupDirective]),l["\u0275did"](12,16384,null,0,f.NgControlStatusGroup,[[4,f.ControlContainer]],null,null),(n()(),l["\u0275eld"](13,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](14,0,null,null,5,"input",[["class","form-control"],["formControlName","url"],["placeholder","http://"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var i=!0;return"input"===e&&(i=!1!==l["\u0275nov"](n,15)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,15).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,15)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,15)._compositionEnd(t.target.value)&&i),i},null,null)),l["\u0275did"](15,16384,null,0,f.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,f.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,f.NG_VALUE_ACCESSOR,function(n){return[n]},[f.DefaultValueAccessor]),l["\u0275did"](17,671744,null,0,f.FormControlName,[[3,f.ControlContainer],[8,null],[8,null],[6,f.NG_VALUE_ACCESSOR],[2,f["\u0275angular_packages_forms_forms_j"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,f.NgControl,null,[f.FormControlName]),l["\u0275did"](19,16384,null,0,f.NgControlStatus,[[4,f.NgControl]],null,null),(n()(),l["\u0275eld"](20,0,null,null,1,"div",[["class","hint-text text-danger"],["role","alert"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435 "])),(n()(),l["\u0275eld"](22,0,null,null,1,"div",[["class","hint-text text-danger"],["role","alert"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432 \u043f\u043e\u043b\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 "])),(n()(),l["\u0275eld"](24,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](25,0,null,null,5,"input",[["class","form-control"],["formControlName","urlName"],["placeholder","\u0418\u043c\u044f \u0441\u0441\u044b\u043b\u043a\u0438"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var i=!0;return"input"===e&&(i=!1!==l["\u0275nov"](n,26)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,26).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,26)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,26)._compositionEnd(t.target.value)&&i),i},null,null)),l["\u0275did"](26,16384,null,0,f.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,f.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,f.NG_VALUE_ACCESSOR,function(n){return[n]},[f.DefaultValueAccessor]),l["\u0275did"](28,671744,null,0,f.FormControlName,[[3,f.ControlContainer],[8,null],[8,null],[6,f.NG_VALUE_ACCESSOR],[2,f["\u0275angular_packages_forms_forms_j"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,f.NgControl,null,[f.FormControlName]),l["\u0275did"](30,16384,null,0,f.NgControlStatus,[[4,f.NgControl]],null,null),(n()(),l["\u0275eld"](31,0,null,null,4,"div",[["class","text-sm-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](32,0,null,null,1,"button",[["class","button button--wide button--cancel text-uppercase"],["type","reset"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.close()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"])),(n()(),l["\u0275eld"](34,0,null,null,1,"button",[["class","button button--wide button--success text-uppercase"],["type","submit"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u043a"]))],function(n,e){n(e,10,0,e.component.insertUrlForm),n(e,17,0,"url"),n(e,28,0,"urlName")},function(n,e){var t=e.component;n(e,8,0,l["\u0275nov"](e,12).ngClassUntouched,l["\u0275nov"](e,12).ngClassTouched,l["\u0275nov"](e,12).ngClassPristine,l["\u0275nov"](e,12).ngClassDirty,l["\u0275nov"](e,12).ngClassValid,l["\u0275nov"](e,12).ngClassInvalid,l["\u0275nov"](e,12).ngClassPending),n(e,14,0,l["\u0275nov"](e,19).ngClassUntouched,l["\u0275nov"](e,19).ngClassTouched,l["\u0275nov"](e,19).ngClassPristine,l["\u0275nov"](e,19).ngClassDirty,l["\u0275nov"](e,19).ngClassValid,l["\u0275nov"](e,19).ngClassInvalid,l["\u0275nov"](e,19).ngClassPending),n(e,20,0,!(t.wasSubmitted&&null!=t.insertUrlForm.get("url").errors&&t.insertUrlForm.get("url").errors.required)),n(e,22,0,!(t.wasSubmitted&&null!=t.insertUrlForm.get("url").errors&&t.insertUrlForm.get("url").errors.pattern)),n(e,25,0,l["\u0275nov"](e,30).ngClassUntouched,l["\u0275nov"](e,30).ngClassTouched,l["\u0275nov"](e,30).ngClassPristine,l["\u0275nov"](e,30).ngClassDirty,l["\u0275nov"](e,30).ngClassValid,l["\u0275nov"](e,30).ngClassInvalid,l["\u0275nov"](e,30).ngClassPending)})}function _(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,O)),l["\u0275did"](1,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){n(e,1,0,e.component.isShown)},null)}var M=t("9uU2"),I=t("sdDj"),S=t("P3jN"),E=t("nciF"),y=t("hPRa"),T=t("yOV5"),P=t("ucEb"),w=t("MLWW"),R=function(){function n(n,e,t){this.logger=n,this.richEditorService=e,this.transformationsService=t,this.isShown=!1,this.externalImage=new f.FormControl("",f.Validators.pattern(/^http.*$/)),this.uploadedImage=new f.FormControl(""),this.insertImageMode=new f.FormControl(w.a.LARGE),this.insertModeItems=[],this.componentSubscriptions=[],this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnInit=function(){var n=this;this.componentSubscriptions.push(this.richEditorService.insertImageModal$.subscribe(function(e){return n.openModalAndInitForm(e)})),this.componentSubscriptions.push(this.uploadedImage.valueChanges.subscribe(function(e){e&&n.externalImage.setValue("")})),this.insertModeItems=this.getImageModeItems()},n.prototype.openModalAndInitForm=function(n){this.isShown=!0,this.wasSubmitted=!1,this.transformRequest=n,this.externalImage.setValue(""),this.uploadedImage.setValue(""),this.insertImageMode.setValue(this.thumbnailImageOnly?w.a.THUMBNAIL_LEFT:w.a.LARGE)},n.prototype.insertImage=function(){this.wasSubmitted=!0,this.externalImage.value&&this.externalImage.valid?(this.transformationsService.insertImage(this.transformRequest,this.externalImage.value,this.insertImageMode.value),this.close()):this.uploadedImage.value&&this.uploadedImage.valid&&(this.transformationsService.insertImage(this.transformRequest,this.uploadedImage.value,this.insertImageMode.value),this.close())},n.prototype.close=function(){this.isShown=!1},n.prototype.getImageModeItems=function(){var n=[];return n.push({label:"\u041f\u0440\u0435\u0432\u044c\u044e \u0441\u043b\u0435\u0432\u0430 - 64px",value:w.a.THUMBNAIL_LEFT}),n.push({label:"\u041f\u0440\u0435\u0432\u044c\u044e \u0441\u043f\u0440\u0430\u0432\u0430 - 64px",value:w.a.THUMBNAIL_RIGHT}),n.push({label:"\u041c\u0430\u043b\u0435\u043d\u044c\u043a\u0430\u044f - 256px",value:w.a.SMALL}),n.push({label:"\u0411\u043e\u043b\u044c\u0448\u0430\u044f - 1024px",value:w.a.LARGE}),n.push({label:"\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440",value:w.a.FULL}),n},n.prototype.ngOnDestroy=function(){this.componentSubscriptions.forEach(function(n){return n.unsubscribe()})},n}(),k=l["\u0275crt"]({encapsulation:0,styles:[[".mdl[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.4);z-index:9999}.mdl-win[_ngcontent-%COMP%]{width:55%;min-width:300px;background-color:#1f2024;border:1px solid #4d87af;border-radius:2px;font-size:18px;line-height:1;box-shadow:rgba(61,67,81,.46) 0 0 5px}.mdl-win-close[_ngcontent-%COMP%]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:15px}.head[_ngcontent-%COMP%]{position:relative;padding:15px 40px 15px 20px;line-height:1;color:#fff;font-size:14px;background-color:#37607e}.body[_ngcontent-%COMP%]{padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.drag-an-drop[_ngcontent-%COMP%]{display:block;background-color:#26272b;border:2px dashed #636366;text-align:center;font-size:14px;line-height:1.4;color:#7d7e7f;padding:40px 0;position:relative}.drag-an-drop[_ngcontent-%COMP%]:hover{background-color:rgba(100,144,176,.2);border-color:#6490b0;color:#6490b0}.drag-an-drop[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:12px}.drag-an-drop[_ngcontent-%COMP%]   div.ico[_ngcontent-%COMP%]{text-align:center;font-size:42px}.inputfile[_ngcontent-%COMP%]{display:block;position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;filter:alpha(opacity=0);cursor:pointer}.alert.alert-danger[_ngcontent-%COMP%]{overflow:hidden;background:0 0;padding:10px;font-size:14px;margin-top:10px}.alert.alert-danger[_ngcontent-%COMP%]:before{display:none}label[_ngcontent-%COMP%]{padding:10px 0;font-size:13px;white-space:nowrap}@media (max-width:767px){.mdl-win[_ngcontent-%COMP%]{width:100%;min-width:0}}.light[_nghost-%COMP%]   .mdl-win[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .mdl-win[_ngcontent-%COMP%]{background-color:#fff;border:none}.light[_nghost-%COMP%]   .head[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .head[_ngcontent-%COMP%]{background-color:#424d59}"]],data:{}});function x(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,11,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,5,"input",[["class","form-control"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var i=!0;return"input"===e&&(i=!1!==l["\u0275nov"](n,3)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,3).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,3)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,3)._compositionEnd(t.target.value)&&i),i},null,null)),l["\u0275did"](3,16384,null,0,f.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,f.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,f.NG_VALUE_ACCESSOR,function(n){return[n]},[f.DefaultValueAccessor]),l["\u0275did"](5,540672,null,0,f.FormControlDirective,[[8,null],[8,null],[6,f.NG_VALUE_ACCESSOR],[2,f["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,f.NgControl,null,[f.FormControlDirective]),l["\u0275did"](7,16384,null,0,f.NgControlStatus,[[4,f.NgControl]],null,null),(n()(),l["\u0275eld"](8,0,null,null,1,"div",[["class","hint-text text-danger"],["role","alert"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432 \u043f\u043e\u043b\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443 "])),(n()(),l["\u0275eld"](10,0,null,null,1,"div",[["class","form-group text-center text-size-small"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u0438\u043b\u0438"]))],function(n,e){n(e,5,0,e.component.externalImage)},function(n,e){var t=e.component;n(e,2,0,l["\u0275nov"](e,7).ngClassUntouched,l["\u0275nov"](e,7).ngClassTouched,l["\u0275nov"](e,7).ngClassPristine,l["\u0275nov"](e,7).ngClassDirty,l["\u0275nov"](e,7).ngClassValid,l["\u0275nov"](e,7).ngClassInvalid,l["\u0275nov"](e,7).ngClassPending),n(e,8,0,!(t.wasSubmitted&&t.externalImage.invalid))})}function L(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","col-12 col-sm-auto text-center text-sm-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"label",[["for","image-size"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u0420\u0430\u0437\u043c\u0435\u0440 \u0432\u0441\u0442\u0430\u0432\u043a\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"])),(n()(),l["\u0275eld"](4,0,null,null,10,"div",[["class","col-12 col-sm"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,8,"p-dropdown",[["inputId","image-size"],["scrollHeight","600px"],["styleClass","boxin"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,M.b,M.a)),l["\u0275prd"](512,null,I.DomHandler,I.DomHandler,[]),l["\u0275prd"](512,null,S.ObjectUtils,S.ObjectUtils,[]),l["\u0275did"](9,13877248,null,1,E.Dropdown,[l.ElementRef,I.DomHandler,l.Renderer2,l.ChangeDetectorRef,S.ObjectUtils,l.NgZone],{scrollHeight:[0,"scrollHeight"],styleClass:[1,"styleClass"],inputId:[2,"inputId"],options:[3,"options"]},null),l["\u0275qud"](603979776,1,{templates:1}),l["\u0275prd"](1024,null,f.NG_VALUE_ACCESSOR,function(n){return[n]},[E.Dropdown]),l["\u0275did"](12,540672,null,0,f.FormControlDirective,[[8,null],[8,null],[6,f.NG_VALUE_ACCESSOR],[2,f["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,f.NgControl,null,[f.FormControlDirective]),l["\u0275did"](14,16384,null,0,f.NgControlStatus,[[4,f.NgControl]],null,null)],function(n,e){var t=e.component;n(e,9,0,"600px","boxin","image-size",t.insertModeItems),n(e,12,0,t.insertImageMode)},function(n,e){n(e,6,0,l["\u0275nov"](e,9).filled,l["\u0275nov"](e,9).focused,l["\u0275nov"](e,14).ngClassUntouched,l["\u0275nov"](e,14).ngClassTouched,l["\u0275nov"](e,14).ngClassPristine,l["\u0275nov"](e,14).ngClassDirty,l["\u0275nov"](e,14).ngClassValid,l["\u0275nov"](e,14).ngClassInvalid,l["\u0275nov"](e,14).ngClassPending)})}function N(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,21,"div",[["class","mdl"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,20,"div",[["class","mdl-win"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,4,"div",[["class","head"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f "])),(n()(),l["\u0275eld"](4,0,null,null,2,"button",[["class","mdl-win-close close"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.close()&&l),l},null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,":svg:svg",[["class","icon icon--common-cross"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,0,":svg:use",[[":xlink:href","/assets/icons/site.svg#icon-common-cross"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,14,"div",[["class","body"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,x)),l["\u0275did"](9,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](10,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](11,0,null,null,5,"jr-image-input",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,y.b,y.a)),l["\u0275did"](12,49152,null,0,T.a,[P.a],null,null),l["\u0275prd"](1024,null,f.NG_VALUE_ACCESSOR,function(n){return[n]},[T.a]),l["\u0275did"](14,540672,null,0,f.FormControlDirective,[[8,null],[8,null],[6,f.NG_VALUE_ACCESSOR],[2,f["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,f.NgControl,null,[f.FormControlDirective]),l["\u0275did"](16,16384,null,0,f.NgControlStatus,[[4,f.NgControl]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,L)),l["\u0275did"](18,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](19,0,null,null,2,"div",[["class","text-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](20,0,null,null,1,"button",[["class","button button--wide button--success text-uppercase"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.insertImage()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,[" \u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c "]))],function(n,e){var t=e.component;n(e,9,0,!t.uploadedImage.value),n(e,14,0,t.uploadedImage),n(e,18,0,!t.thumbnailImageOnly)},function(n,e){var t=e.component;n(e,11,0,l["\u0275nov"](e,16).ngClassUntouched,l["\u0275nov"](e,16).ngClassTouched,l["\u0275nov"](e,16).ngClassPristine,l["\u0275nov"](e,16).ngClassDirty,l["\u0275nov"](e,16).ngClassValid,l["\u0275nov"](e,16).ngClassInvalid,l["\u0275nov"](e,16).ngClassPending),n(e,20,0,!t.externalImage.value&&!t.uploadedImage.value)})}function A(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,N)),l["\u0275did"](1,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){n(e,1,0,e.component.isShown)},null)}t("5Ggd"),t.d(e,"a",function(){return D}),t.d(e,"b",function(){return U});var D=l["\u0275crt"]({encapsulation:0,styles:[["textarea.form-control[_ngcontent-%COMP%]{height:100%;max-height:80vh;overflow:auto}html[_nghost-%COMP%]:not(.light)   textarea.form-control[_ngcontent-%COMP%], html:not(.light)   [_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{border-radius:0 0 3px 3px}html[_nghost-%COMP%]:not(.light)   textarea.form-control[_ngcontent-%COMP%]:focus, html:not(.light)   [_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%]:focus{border-top-color:#487080}jr-editor-toolbar[_ngcontent-%COMP%] + textarea.form-control[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.light[_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{border-top-color:#383d45}"]],data:{}});function U(n){return l["\u0275vid"](0,[l["\u0275qud"](402653184,1,{editorElement:0}),(n()(),l["\u0275eld"](1,0,null,null,9,"div",[["style","position: relative"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"jr-editor-toolbar",[],null,null,null,m,d)),l["\u0275did"](3,49152,null,0,c,[s.a,a.a],null,null),(n()(),l["\u0275eld"](4,0,[[1,0],["editor",1]],null,2,"textarea",[["class","form-control"],["jrEditorHotkeys",""]],[[4,"min-height","px"]],[[null,"input"],[null,"keydown"]],function(n,e,t){var i=!0,o=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,5).onInput(t.target)&&i),"keydown"===e&&(i=!1!==l["\u0275nov"](n,6).onKeydown(t)&&i),"input"===e&&(i=!1!==o.emitChangedTextEvent()&&i),i},null,null)),l["\u0275did"](5,2179072,null,0,p.a,[l.ElementRef],{autosize:[0,"autosize"]},null),l["\u0275did"](6,16384,null,0,g,[a.a],null,null),(n()(),l["\u0275eld"](7,0,null,null,1,"jr-insert-url-modal",[],null,null,null,_,b)),l["\u0275did"](8,245760,null,0,v,[s.a,f.FormBuilder,a.a,C.a],null,null),(n()(),l["\u0275eld"](9,0,null,null,1,"jr-insert-image-modal",[],null,null,null,A,k)),l["\u0275did"](10,245760,null,0,R,[s.a,a.a,C.a],{thumbnailImageOnly:[0,"thumbnailImageOnly"]},null)],function(n,e){var t=e.component;n(e,5,0,t.autosize),n(e,8,0),n(e,10,0,t.thumbnailImageOnly)},function(n,e){n(e,4,0,e.component.minHeight)})}},"3P9I":function(n,e,t){"use strict";t("J4K4"),t("gFDQ"),t("Dy+N");var l=t("0/uQ"),i=t("p0ib"),o=t("F/XL"),u=t("26FU"),s=t("K9Ia"),r=t("VNr4"),a=t("G5J1"),c=t("67Y/"),d=t("9Z1F"),m=t("psW0"),p=t("mrSG"),g=t("FFOo"),f=function(){function n(n,e,t,l){this.predicate=n,this.source=e,this.yieldIndex=t,this.thisArg=l}return n.prototype.call=function(n,e){return e.subscribe(new h(n,this.predicate,this.source,this.yieldIndex,this.thisArg))},n}(),h=function(n){function e(e,t,l,i,o){var u=n.call(this,e)||this;return u.predicate=t,u.source=l,u.yieldIndex=i,u.thisArg=o,u.index=0,u}return p.__extends(e,n),e.prototype.notifyComplete=function(n){var e=this.destination;e.next(n),e.complete()},e.prototype._next=function(n){var e=this.predicate,t=this.thisArg,l=this.index++;try{e.call(t||this,n,l,this.source)&&this.notifyComplete(this.yieldIndex?l:n)}catch(n){this.destination.error(n)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(g.a),C=t("ad02"),v=t("xMyE"),b=t("oHtu"),O=t("s34m"),_=t("VbCB"),M=t("wbUM");t("zFH7"),t("LYuz"),t("U+74"),t("y2HU"),t.d(e,"a",function(){return I});var I=function(){function n(n,e,t,l,i,o,r){var a=this;this.logger=n,this.discussionExceptionService=e,this.externalNotificationAdapter=t,this.discussionBackendClient=l,this.discussionService=i,this.meProfileService=o,this.dateTimeService=r,this.COMMENT_LENGTH_LIMIT=2e3,this.COMMENT_PROJECTION=null,this.commentsSource=new u.a(void 0),this.comments$=this.commentsSource.asObservable(),this.commentsCountSource=new u.a(void 0),this.commentsCount$=this.commentsCountSource.asObservable(),this.viewRequestSource=new u.a(void 0),this.viewRequest$=this.viewRequestSource.asObservable(),this.commentAddingSource=new s.a,this.commentDeletionSource=new s.a,this.replyDataSource=new s.a,this.replyData$=this.replyDataSource.asObservable(),this.editModeSource=new s.a,this.editMode$=this.editModeSource.asObservable(),this.isMoreAvailableSource=new s.a,this.isMoreAvailable$=this.isMoreAvailableSource.asObservable(),this.animationEnabledSource=new u.a(!1),this.animationEnabled$=this.animationEnabledSource.asObservable(),this.logger.debug(this.constructor.name+" is created."),this.commentAdding$=this.commentAddingSource.pipe(Object(C.a)(function(n,e){return n.id===e.id})),this.commentAdding$.subscribe(function(n){return a.addCreatedCommentToTree(n)}),this.commentDeletion$=this.commentDeletionSource.pipe(Object(C.a)(function(n,e){return n.id===e.id})),this.commentDeletion$.subscribe(function(n){return a.deleteCommentFromTree(n)})}return n.prototype.initCommentLoad=function(n,e){var t=this;return n.limit||(n.limit=10),this.viewRequestSource.next(n),this.animationEnabledSource.next(!1),Object(r.a)(this.discussionBackendClient.loadComments(e.id,n,this.COMMENT_PROJECTION),this.meProfileService.getCurrentMeProfile()).pipe(Object(c.a)(function(n){var e=n[0],l=n[1];t.logger.info("\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432",e),t.dateTimeService.updateRelativeDates();var i=e.map(function(n){return b.a.of(n,l)});return t.commentsSource.next(i),setTimeout(function(){return t.animationEnabledSource.next(!0)},1e3),t.loadTopCommentsCount().subscribe(function(n){t.topCommentsCount=n,t.updateMoreAvailableStatus()}),!0}),Object(d.a)(function(n){return t.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"),a.a}))},n.prototype.loadMoreComments=function(){var n=this,e=this.commentsSource.getValue()[this.commentsSource.getValue().length-1],t=new _.a(this.viewRequestSource.getValue().order,10,e.time,e.id);return Object(r.a)(this.discussionBackendClient.loadComments(this.discussionService.getDiscussionInfo().id,t,this.COMMENT_PROJECTION),this.meProfileService.getCurrentMeProfile()).pipe(Object(c.a)(function(e){var t,l=e[0],i=e[1];n.logger.info("\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432",l);var o=l.map(function(n){return b.a.of(n,i)});return(t=n.commentsSource.getValue()).push.apply(t,o),n.updateMoreAvailableStatus(),!0}),Object(d.a)(function(e){return n.discussionExceptionService.handleRequestErrorInfo(e,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"),a.a}))},n.prototype.loadCommentsCount=function(){var n=this;this.discussionBackendClient.loadCommentsCount(this.discussionService.getDiscussionInfo().id,!1).subscribe(function(e){n.logger.info("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432",e),n.commentsCountSource.next(e)},function(e){n.discussionExceptionService.handleRequestErrorInfo(e,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432")})},n.prototype.loadTopCommentsCount=function(){var n=this;return this.discussionBackendClient.loadCommentsCount(this.discussionService.getDiscussionInfo().id,!0).pipe(Object(v.a)(function(e){return n.logger.info("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f",e)}),Object(d.a)(function(e){return n.discussionExceptionService.handleRequestErrorInfo(e,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"),a.a}))},n.prototype.updateMoreAvailableStatus=function(){this.viewRequestSource.getValue()&&this.viewRequestSource.getValue().order===O.a.POPULAR&&this.commentsSource.getValue()&&this.commentsSource.getValue().length>=100?this.isMoreAvailableSource.next(!1):this.commentsSource.getValue()&&this.commentsSource.getValue().length<this.topCommentsCount?this.isMoreAvailableSource.next(!0):this.isMoreAvailableSource.next(!1)},n.prototype.sendNewComment=function(n){var e=this,t=new function(n,e,t){this.message=n,this.parentCommentId=e,this.replyToUserId=t}(n.message,n.parentCommentId,n.replyToComment?n.replyToComment.owner.id:null);return Object(r.a)(this.discussionBackendClient.addComment(this.discussionService.getDiscussionInfo().id,t,this.COMMENT_PROJECTION),this.meProfileService.getCurrentMeProfile()).pipe(Object(c.a)(function(n){var t=n[0];return e.commentAddingSource.next(b.a.of(t,n[1])),e.logger.info("New comment was added.",t),!0}),Object(d.a)(function(n){return e.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"),Object(o.a)(!1)}))},n.prototype.reloadComment=function(n){var e=this;this.discussionBackendClient.loadComment(this.discussionService.getDiscussionInfo().id,n.id,this.COMMENT_PROJECTION).subscribe(function(t){n.update(t),e.logger.info("Comment was updated",t)},function(n){e.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f")})},n.prototype.sendEditRequest=function(n,e){var t=this,l=new function(){};return l.id=n.id,l.message=e,l.visibilityStatus="PUBLIC",this.discussionBackendClient.editComment(this.discussionService.getDiscussionInfo().id,l,this.COMMENT_PROJECTION).pipe(Object(c.a)(function(e){return n.update(e),t.logger.info("Comment was edited.",e),!0}),Object(d.a)(function(n){return t.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"),Object(o.a)(!1)}))},n.prototype.sendDeleteRequest=function(n){var e=this;return this.discussionBackendClient.deleteComment(this.discussionService.getDiscussionInfo().id,n.id).pipe(Object(c.a)(function(){return e.commentDeletionSource.next(n),e.logger.info("Comment was deleted.",n),!0}),Object(d.a)(function(n){return e.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"),Object(o.a)(!1)}))},n.prototype.addComment=function(n){this.commentAddingSource.next(n)},n.prototype.deleteComment=function(n){this.commentDeletionSource.next(n)},n.prototype.complainAboutComment=function(n){this.externalNotificationAdapter.showSuccess("\u0421\u043f\u0430\u0441\u0438\u0431\u043e! \u0422\u0432\u043e\u044f \u0436\u0430\u043b\u043e\u0431\u0430 \u043f\u0440\u0438\u043d\u044f\u0442\u0430")},n.prototype.openReplyToCommentPanel=function(n){if(n){var e=new M.a;e.parentCommentId=n&&n.parentCommentId?this.commentsSource.getValue().find(function(e){return e.id===n.parentCommentId}).id:n.id,e.replyToComment=n,this.replyDataSource.next(e)}else this.replyDataSource.next(null)},n.prototype.getCommentById=function(n){return Object(i.a)(Object(l.a)(this.commentsSource.getValue()),Object(l.a)(this.commentsSource.getValue()).pipe(Object(m.a)(function(n){return Object(l.a)(n.childrenComments)}))).pipe((e=function(e){return e.id===n},function(n){return n.lift(new f(e,n,!1,void 0))}));var e},n.prototype.openEditModePanel=function(n){this.editModeSource.next(n)},n.prototype.addCreatedCommentToTree=function(n){n.parentCommentId?this.commentsSource.getValue().find(function(e){return e.id===n.parentCommentId}).childrenComments.push(n):(this.commentsSource.getValue().unshift(n),this.topCommentsCount++),this.commentsCountSource.next(this.commentsCountSource.getValue()+1)},n.prototype.deleteCommentFromTree=function(n){if(n.parentCommentId){var e=this.commentsSource.getValue().find(function(e){return e.id===n.parentCommentId});e.childrenComments.splice(e.childrenComments.indexOf(n),1)}else this.commentsSource.getValue().splice(this.commentsSource.getValue().indexOf(n),1),this.topCommentsCount--;this.commentsCountSource.next(this.commentsCountSource.getValue()-1)},n.prototype.clearCommentsSource=function(){this.commentsSource.next(void 0),this.commentsCountSource.next(void 0),this.viewRequestSource.next(void 0)},n}()},"5AIX":function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){}},"5Ggd":function(n,e,t){"use strict";t("gFDQ");t("1dnJ"),t("5uw7"),t.d(e,"a",function(){return l});var l=function(){function n(n,e,t,l){this.logger=n,this._renderer=e,this.richEditorService=t,this.transformationsService=l,this.minHeight=100,this.autosize=!1,this.focus=!1,this.thumbnailImageOnly=!1,this.componentSubscriptions=[],this.propagateChange=function(n){},this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnInit=function(){var n=this;this.componentSubscriptions[0]=this.richEditorService.transformLauncher$.subscribe(function(e){n.sendTransformRequest(e)}),this.componentSubscriptions[1]=this.transformationsService.transformResponses$.subscribe(function(e){n.handleTransformResponse(e)}),this.focus&&this.editorElement.nativeElement.focus()},n.prototype.emitChangedTextEvent=function(){this.propagateChange(this.editorElement.nativeElement.value)},n.prototype.writeValue=function(n){this._renderer.setProperty(this.editorElement.nativeElement,"value",n||"")},n.prototype.registerOnChange=function(n){this.propagateChange=n},n.prototype.registerOnTouched=function(n){},n.prototype.setDisabledState=function(n){},n.prototype.sendTransformRequest=function(n){var e=new function(){};e.type=n,e.selectionStart=this.editorElement.nativeElement.selectionStart,e.selectionEnd=this.editorElement.nativeElement.selectionEnd,e.selectedText=this.editorElement.nativeElement.value.substring(e.selectionStart,e.selectionEnd),this.richEditorService.processTransformRequest(e)},n.prototype.handleTransformResponse=function(n){var e=this.editorElement.nativeElement.value;this.editorElement.nativeElement.value=e.substring(0,n.insertFrom)+n.text+e.substring(n.insertTo),this.editorElement.nativeElement.selectionStart=n.insertFrom,this.editorElement.nativeElement.selectionEnd=n.insertFrom+n.text.length,this.editorElement.nativeElement.focus(),this.emitChangedTextEvent()},n.prototype.ngOnDestroy=function(){this.componentSubscriptions.forEach(function(n){return n.unsubscribe()})},n}()},"5uw7":function(n,e,t){"use strict";t("gFDQ");var l=t("K9Ia"),i=t("MLWW"),o=function(){};t.d(e,"a",function(){return u});var u=function(){function n(n){this.logger=n,this.INSERT_URL_TEMPLATE="<a href='{url}' target='_blank'>{urlName}</a>",this.INSERT_EXTERNAL_URL_TEMPLATE="<a href='{url}' rel='nofollow' target='_blank'>{urlName}</a>",this.INSERT_THUMBNAIL_LEFT_IMAGE_TEMPLATE="<a href='{imageUrl}?size=0' target='_blank' class='jr-image-wrap float-left'><img src='{imageUrl}?size=64'></a>",this.INSERT_THUMBNAIL_RIGHT_IMAGE_TEMPLATE="<a href='{imageUrl}?size=0' target='_blank' class='jr-image-wrap float-right'><img src='{imageUrl}?size=64'></a>",this.INSERT_SMALL_IMAGE_TEMPLATE="<div class='jr-image-wrap'><img src='{imageUrl}?size=256' class='img-fluid'></div>",this.INSERT_LARGE_IMAGE_TEMPLATE="<div class='row justify-content-center jr-image-wrap'><div class='col-12 col-sm-10 col-md-8'><img src='{imageUrl}?size=1024' class='img-fluid'></div></div>",this.INSERT_FULL_IMAGE_TEMPLATE="<img src='{imageUrl}?size=0' class='img-fluid'>",this.transformResponsesSource=new l.a,this.transformResponses$=this.transformResponsesSource.asObservable(),this.logger.debug(this.constructor.name+" is created.")}return n.prototype.wrapOrUnwrapText=function(n,e,t){var l=n.selectedText.match("^"+e+"([\\s\\S]*)"+t+"$"),i=new o;l&&null!=l[1]?(i.text=l[1],i.insertFrom=n.selectionStart,i.insertTo=n.selectionEnd):(i.text=e+n.selectedText+t,i.insertFrom=n.selectionStart,i.insertTo=n.selectionEnd),this.transformResponsesSource.next(i)},n.prototype.insertUrl=function(n,e,t){var l;l=this.checkExternalLink(e)?this.INSERT_URL_TEMPLATE.replace("{url}",e).replace("{urlName}",t||e):this.INSERT_EXTERNAL_URL_TEMPLATE.replace("{url}",e).replace("{urlName}",t||e);var i=new o;i.text=l,i.insertFrom=n.selectionStart,i.insertTo=n.selectionEnd,this.transformResponsesSource.next(i)},n.prototype.checkExternalLink=function(n){return n.indexOf("javarush.ru")>=0&&n.indexOf("javarush.ru")<=8},n.prototype.insertImage=function(n,e,t){var l;switch(t){case i.a.FULL:l=this.INSERT_FULL_IMAGE_TEMPLATE.replace(/{imageUrl}/g,e);break;case i.a.LARGE:l=this.INSERT_LARGE_IMAGE_TEMPLATE.replace(/{imageUrl}/g,e);break;case i.a.SMALL:l=this.INSERT_SMALL_IMAGE_TEMPLATE.replace(/{imageUrl}/g,e);break;case i.a.THUMBNAIL_LEFT:l=this.INSERT_THUMBNAIL_LEFT_IMAGE_TEMPLATE.replace(/{imageUrl}/g,e);break;case i.a.THUMBNAIL_RIGHT:l=this.INSERT_THUMBNAIL_RIGHT_IMAGE_TEMPLATE.replace(/{imageUrl}/g,e)}var u=new o;u.text=l,u.insertFrom=n.selectionEnd,u.insertTo=n.selectionEnd,this.transformResponsesSource.next(u)},n}()},"7X0/":function(n,e,t){"use strict";t.d(e,"a",function(){return i});var l=t("K9Ia"),i=function(){function n(){this.menuToggledSource=new l.a,this.$menuToggled=this.menuToggledSource.asObservable()}return n.prototype.toggleMenu=function(n){this.menuToggledSource.next(n)},n.prototype.destroy=function(){this.menuToggledSource.complete()},n}()},"88/G":function(n,e,t){"use strict";t.d(e,"a",function(){return l}),t("i5Iq");var l=function(){function n(n,e,t,l){this.elRef=n,this.zone=e,this.platformId=t,this.prismProcessingService=l}return n.prototype.ngOnChanges=function(n){n.innerHtml.previousValue!==n.innerHtml.currentValue&&(this.elRef.nativeElement.innerHTML=this.innerHtml,this.needsPrismProcessing=!0)},n.prototype.ngAfterViewChecked=function(){this.needsPrismProcessing&&(this.prismSubscription&&this.prismSubscription.unsubscribe(),this.prismSubscription=this.prismProcessingService.processPrismLayout(this.elRef.nativeElement).subscribe(),this.needsPrismProcessing=!1)},n.prototype.ngOnDestroy=function(){this.prismSubscription.unsubscribe()},n}()},"8iOP":function(n,e,t){"use strict";var l;t.d(e,"a",function(){return l}),t.d(e,"b",function(){return i}),function(n){n.PREMIUM="PREMIUM",n.PREMIUM_PRO="PREMIUM_PRO"}(l||(l={}));var i=function(){function n(){}return n.PREMIUM="PREMIUM",n.PREMIUM_PRO="PREMIUM PRO",n}()},"99M4":function(n,e,t){"use strict";var l=t("CcnG"),i=t("BofX"),o=t("T5bw"),u=t("Ip0R"),s=t("gFDQ"),r=t("Y1Zv"),a=function(){function n(n,e,t,l){this.logger=n,this.platformId=e,this.document=t,this.shareCountService=l,this.facebookShareLink="https://www.facebook.com/share.php",this.vkShareLink="https://vk.com/share.php",this.linkedInShareLink="http://www.linkedin.com/shareArticle",this.twitterShareLink="https://twitter.com/share",this.googleShareLink="https://plus.google.com/share",this.facebookShareCount=0,this.vkShareCount=0,this.linkedInShareCount=0,this.twitterShareCount=0,this.googleShareCount=0,this.subscriptionsToClose=[],this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnInit=function(){var n=this;if(Object(u.isPlatformBrowser)(this.platformId)){this.prepareSharingUrls();var e=setInterval(function(){"complete"===n.document.readyState&&(clearInterval(e),setTimeout(function(){n.initGettingOfSharingNumbers()},100))},100)}},n.prototype.prepareSharingUrls=function(){this.sharedUrl=this.getSharedUrl(),this.facebookShareLink="https://www.facebook.com/share.php?u="+this.sharedUrl,this.vkShareLink="https://vk.com/share.php?url="+this.sharedUrl,this.googleShareLink="https://plus.google.com/share?url="+this.sharedUrl,this.linkedInShareLink="http://www.linkedin.com/shareArticle?mini=true&url="+this.sharedUrl+"&source="+this.sharedUrl,this.twitterShareLink="https://twitter.com/share?url="+this.sharedUrl},n.prototype.initGettingOfSharingNumbers=function(){var n=this;this.subscriptionsToClose.push(this.shareCountService.facebookCount$.subscribe(function(e){return n.facebookShareCount=e})),this.subscriptionsToClose.push(this.shareCountService.vkCount$.subscribe(function(e){return n.vkShareCount=e})),this.subscriptionsToClose.push(this.shareCountService.linkedInCount$.subscribe(function(e){return n.linkedInShareCount=e})),this.subscriptionsToClose.push(this.shareCountService.twitterCount$.subscribe(function(e){return n.twitterShareCount=e})),this.subscriptionsToClose.push(this.shareCountService.googleCount$.subscribe(function(e){return n.googleShareCount=e})),this.shareCountService.updateAllSocialCounts(this.sharedUrl)},n.prototype.openSharingWindow=function(n,e){e.preventDefault();var t=screen.height/2-175,l=screen.width/2-260;window.open(n,"sharer","top="+t+",left="+l+",toolbar=0,status=0,width=520,height=350")},n.prototype.getSharedUrl=function(){return window.location!==window.parent.location?document.referrer:document.location.href},n.prototype.ngOnDestroy=function(){this.subscriptionsToClose.forEach(function(n){return n.unsubscribe()})},n}(),c=l["\u0275crt"]({encapsulation:0,styles:[[".share[_ngcontent-%COMP%]   a.vk[_ngcontent-%COMP%]:hover{background-color:#577ca2}.share[_ngcontent-%COMP%]   a.facebook[_ngcontent-%COMP%]:hover{background-color:#3b5998}.share[_ngcontent-%COMP%]   a.linkedin[_ngcontent-%COMP%]:hover{background-color:#0077b5}.share[_ngcontent-%COMP%]   a.twitter[_ngcontent-%COMP%]:hover{background-color:#4cc2ff}.share[_ngcontent-%COMP%]   a.google-plus[_ngcontent-%COMP%]:hover{background-color:#f44336}.share[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] + a[_ngcontent-%COMP%]{margin-left:10px}.share[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;padding:4px 10px 5px;margin:0;min-width:80px;text-decoration:none;font-size:14px;line-height:1;color:#fff;background-color:#2f4e65;border-radius:2px;transition:background .1s,color .1s}.share[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;background-color:#2f6c97}.share[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]     .icon{width:15px;margin-right:20px;-webkit-transform:translateY(1px);transform:translateY(1px)}@media (max-width:575px){.share[_ngcontent-%COMP%]{text-align:center}.share[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .share[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] + a[_ngcontent-%COMP%]{min-width:0;width:46%;margin:0 1.2% 10px}}.light[_nghost-%COMP%]   .share[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .share[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#adb6c4}.light[_nghost-%COMP%]   a.vk[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   a.vk[_ngcontent-%COMP%]:hover{background-color:#577ca2}.light[_nghost-%COMP%]   a.facebook[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   a.facebook[_ngcontent-%COMP%]:hover{background-color:#3b5998}.light[_nghost-%COMP%]   a.linkedin[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   a.linkedin[_ngcontent-%COMP%]:hover{background-color:#0077b5}.light[_nghost-%COMP%]   a.twitter[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   a.twitter[_ngcontent-%COMP%]:hover{background-color:#4cc2ff}.light[_nghost-%COMP%]   a.google-plus[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   a.google-plus[_ngcontent-%COMP%]:hover{background-color:#f44336}"]],data:{}});function d(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,20,"div",[["class","share"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"a",[["class","vk"]],[[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0,i=n.component;return"click"===e&&(l=!1!==i.openSharingWindow(i.vkShareLink,t)&&l),l},null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"jr-icon",[["name","social-vk"]],null,null,null,i.b,i.a)),l["\u0275did"](3,114688,null,0,o.a,[],{name:[0,"name"]},null),(n()(),l["\u0275ted"](4,null,[" "," "])),(n()(),l["\u0275eld"](5,0,null,null,3,"a",[["class","facebook"]],[[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0,i=n.component;return"click"===e&&(l=!1!==i.openSharingWindow(i.facebookShareLink,t)&&l),l},null,null)),(n()(),l["\u0275eld"](6,0,null,null,1,"jr-icon",[["name","social-facebook"]],null,null,null,i.b,i.a)),l["\u0275did"](7,114688,null,0,o.a,[],{name:[0,"name"]},null),(n()(),l["\u0275ted"](8,null,[" "," "])),(n()(),l["\u0275eld"](9,0,null,null,3,"a",[["class","linkedin"]],[[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0,i=n.component;return"click"===e&&(l=!1!==i.openSharingWindow(i.linkedInShareLink,t)&&l),l},null,null)),(n()(),l["\u0275eld"](10,0,null,null,1,"jr-icon",[["name","social-linkedin"]],null,null,null,i.b,i.a)),l["\u0275did"](11,114688,null,0,o.a,[],{name:[0,"name"]},null),(n()(),l["\u0275ted"](12,null,[" "," "])),(n()(),l["\u0275eld"](13,0,null,null,3,"a",[["class","twitter"]],[[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0,i=n.component;return"click"===e&&(l=!1!==i.openSharingWindow(i.twitterShareLink,t)&&l),l},null,null)),(n()(),l["\u0275eld"](14,0,null,null,1,"jr-icon",[["name","social-twitter"]],null,null,null,i.b,i.a)),l["\u0275did"](15,114688,null,0,o.a,[],{name:[0,"name"]},null),(n()(),l["\u0275ted"](16,null,[" "," "])),(n()(),l["\u0275eld"](17,0,null,null,3,"a",[["class","google-plus"]],[[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0,i=n.component;return"click"===e&&(l=!1!==i.openSharingWindow(i.googleShareLink,t)&&l),l},null,null)),(n()(),l["\u0275eld"](18,0,null,null,1,"jr-icon",[["name","social-google-plus"]],null,null,null,i.b,i.a)),l["\u0275did"](19,114688,null,0,o.a,[],{name:[0,"name"]},null),(n()(),l["\u0275ted"](20,null,[" "," "]))],function(n,e){n(e,3,0,"social-vk"),n(e,7,0,"social-facebook"),n(e,11,0,"social-linkedin"),n(e,15,0,"social-twitter"),n(e,19,0,"social-google-plus")},function(n,e){var t=e.component;n(e,1,0,t.vkShareLink),n(e,4,0,t.vkShareCount),n(e,5,0,t.facebookShareLink),n(e,8,0,t.facebookShareCount),n(e,9,0,t.linkedInShareLink),n(e,12,0,t.linkedInShareCount),n(e,13,0,t.twitterShareLink),n(e,16,0,t.twitterShareCount),n(e,17,0,t.googleShareLink),n(e,20,0,t.googleShareCount)})}t("Bdkt");var m=t("TcM7"),p=t("MiBj"),g=t("I7SJ"),f=t("oHtu"),h=t("12JI"),C=function(){function n(n,e){this.logger=n,this.likesService=e,this.LikeStatusPositive=p.a,this.LikeStatusNegative=m.a,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnChanges=function(n){var e=this;this.displayPositiveStatuses=p.a.values().some(function(n){return n===e.likesInfo.status}),this.displayedLikeStatuses=this.likesService.getSuitableLikeStatuses(this.discussion.type,this.displayPositiveStatuses,!!this.comment)},n.prototype.selectAdditionalLikeStatus=function(n){var e=this;this.likesService.changeLikeStatus(this.discussion,this.comment,n).subscribe(function(n){g.a.update(e.likesInfo,n)})},n}(),v=l["\u0275crt"]({encapsulation:0,styles:[[".ui-menu[_ngcontent-%COMP%]   ul.ui-menu-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%], ul.ui-menu-child[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{font-size:12px}"]],data:{}});function b(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"li",[["tabindex","0"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.selectAdditionalLikeStatus(n.context.$implicit)&&l),l},null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"jr-icon",[],null,null,null,i.b,i.a)),l["\u0275did"](2,114688,null,0,o.a,[],{name:[0,"name"]},null),(n()(),l["\u0275ted"](3,null,[" "," "]))],function(n,e){n(e,2,0,l["\u0275inlineInterpolate"](1,"likes-",e.context.$implicit.toLowerCase(),""))},function(n,e){var t=e.component;n(e,3,0,t.displayPositiveStatuses?t.LikeStatusPositive.getDisplayName(e.context.$implicit):t.LikeStatusNegative.getDisplayName(e.context.$implicit))})}function O(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","ui-menu like-dislike"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"ul",[["class","ui-menu-list"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,b)),l["\u0275did"](3,278528,null,0,u.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,e){n(e,3,0,e.component.displayedLikeStatuses)},null)}var _=t("VF+C"),M=t("Bo09"),I=t("Dy+N"),S=t("7X0/"),E=function(){function n(n,e,t){this.logger=n,this.meProfileService=e,this.likesService=t,this.LikeStatusPositive=p.a,this.LikeStatusNegative=m.a,this.likeDropdownMenuHandler=new S.a,this.dislikeDropdownMenuHandler=new S.a,this.subscriptionsToClose=[],this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnInit=function(){var n=this;this.subscriptionsToClose.push(this.meProfileService.meProfile$.subscribe(function(e){n.isMeAuthorized=!!e}))},n.prototype.ngOnChanges=function(n){var e=this;this.likesInfo=this.comment?this.comment.likes:this.discussion.likes,this.isLikePositive=p.a.values().some(function(n){return n===e.likesInfo.status}),this.isLikeNegative=m.a.values().some(function(n){return n===e.likesInfo.status})},n.prototype.toggleLikeStatus=function(n){var e=this;!this.likesInfo.status||this.isLikeNegative?this.likesService.changeLikeStatus(this.discussion,this.comment,p.a.LIKE).subscribe(function(t){e.updateLikeInfo(t),e.likeDropdownMenuHandler.toggleMenu(n)}):this.likesService.changeLikeStatus(this.discussion,this.comment,null).subscribe(function(t){e.updateLikeInfo(t),e.likeDropdownMenuHandler.isMenuShown&&e.likeDropdownMenuHandler.toggleMenu(n)})},n.prototype.toggleDislikeStatus=function(n){var e=this;!this.likesInfo.status||this.isLikePositive?this.likesService.changeLikeStatus(this.discussion,this.comment,m.a.DISLIKE).subscribe(function(t){e.updateLikeInfo(t),e.dislikeDropdownMenuHandler.toggleMenu(n)}):this.likesService.changeLikeStatus(this.discussion,this.comment,null).subscribe(function(t){e.updateLikeInfo(t),e.dislikeDropdownMenuHandler.isMenuShown&&e.dislikeDropdownMenuHandler.toggleMenu(n)})},n.prototype.updateLikeInfo=function(n){var e=this;g.a.update(this.likesInfo,n),this.isLikePositive=p.a.values().some(function(n){return n===e.likesInfo.status}),this.isLikeNegative=m.a.values().some(function(n){return n===e.likesInfo.status})},n.prototype.ngOnDestroy=function(){this.subscriptionsToClose.forEach(function(n){return n.unsubscribe()})},n}(),y=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:inline-flex;vertical-align:middle}.reaction[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;flex-wrap:nowrap;font-size:16px}.reaction--comments[_ngcontent-%COMP%]{font-size:13.75px}.reaction--comments[_ngcontent-%COMP%]   .reaction__dislike[_ngcontent-%COMP%], .reaction--comments[_ngcontent-%COMP%]   .reaction__emotion[_ngcontent-%COMP%], .reaction--comments[_ngcontent-%COMP%]   .reaction__like[_ngcontent-%COMP%]{font-size:1.164em}.reaction--comments[_ngcontent-%COMP%]   .reaction__emotion[_ngcontent-%COMP%]:first-child{margin-left:0}.reaction--comments[_ngcontent-%COMP%]   .reaction__emotion[_ngcontent-%COMP%]:last-child{margin-right:0}.reaction--comments[_ngcontent-%COMP%]   .reaction__count[_ngcontent-%COMP%]{min-width:1.8em;margin-left:.25em;margin-right:.25em}.reaction__dislike[_ngcontent-%COMP%], .reaction__like[_ngcontent-%COMP%]{cursor:pointer;display:inline-flex;margin:0;padding:0;line-height:1;vertical-align:top;color:#4c4d4f;font-size:1.5625em;background-color:transparent;border:none;transition:color .1s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.reaction__dislike[disabled][_ngcontent-%COMP%], .reaction__like[disabled][_ngcontent-%COMP%]{pointer-events:none}.reaction__like--active[_ngcontent-%COMP%], .reaction__like[_ngcontent-%COMP%]:hover{color:#62faff}.reaction__dislike--active[_ngcontent-%COMP%], .reaction__dislike[_ngcontent-%COMP%]:hover{color:#f34d46}.reaction__emotion[_ngcontent-%COMP%]{display:inline-flex;margin-left:.4em;margin-right:.4em;vertical-align:middle;font-size:1.5625em}.reaction__emotion[_ngcontent-%COMP%]:first-child{margin-left:0}.reaction__emotion[_ngcontent-%COMP%]:last-child{margin-right:0}.reaction__dropdown[_ngcontent-%COMP%]{position:relative}.reaction__count[_ngcontent-%COMP%]{display:inline-flex;min-width:1.6em;margin-left:.325em;margin-right:.325em;justify-content:center;align-items:center;vertical-align:middle;font-size:.875em}.likes-count[_ngcontent-%COMP%]{line-height:1;color:rgba(255,255,255,.75);font-weight:600;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.likes-count--positive[_ngcontent-%COMP%]{color:#62faff}.likes-count--negative[_ngcontent-%COMP%]{color:#f34d46}.light[_nghost-%COMP%]   .likes-count[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .likes-count[_ngcontent-%COMP%]{color:rgba(23,43,83,.5)}.light[_nghost-%COMP%]   .reaction__dislike[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .reaction__dislike[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .reaction__like[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .reaction__like[_ngcontent-%COMP%]{color:#c4ccd6}.light[_nghost-%COMP%]   .likes-count--positive[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .likes-count--positive[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .reaction__like--active[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .reaction__like--active[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .reaction__like[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .reaction__like[_ngcontent-%COMP%]:hover{color:#3d95cf}.light[_nghost-%COMP%]   .likes-count--negative[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .likes-count--negative[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .reaction__dislike--active[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .reaction__dislike--active[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .reaction__dislike[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .reaction__dislike[_ngcontent-%COMP%]:hover{color:#ff5b47}"]],data:{}});function T(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","reaction__emotion"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"jr-icon",[],null,null,null,i.b,i.a)),l["\u0275did"](2,114688,null,0,o.a,[],{name:[0,"name"]},null)],function(n,e){n(e,2,0,l["\u0275inlineInterpolate"](1,"likes-",e.component.likesInfo.status.toLowerCase(),""))},null)}function P(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"jr-likes-menu",[],[[4,"display",null],[4,"height",null],[4,"width",null],[4,"z-index",null],[4,"visibility",null],[4,"position",null],[4,"left",null],[4,"right",null],[4,"top",null],[4,"bottom",null],[4,"marginLeft",null],[4,"marginright",null],[4,"marginTop",null],[4,"marginBottom",null]],[["window","resize"],["document","click"],["document","contextmenu"]],function(n,e,t){var i=!0;return"window:resize"===e&&(i=!1!==l["\u0275nov"](n,1).adjustMenuPosition()&&i),"document:click"===e&&(i=!1!==l["\u0275nov"](n,1).closeMenu(t)&&i),"document:contextmenu"===e&&(i=!1!==l["\u0275nov"](n,1).closeContextMenu(t)&&i),i},O,v)),l["\u0275did"](1,4210688,null,0,_.a,[l.ElementRef,l.ChangeDetectorRef],{dropdownMenuHandler:[0,"dropdownMenuHandler"]},null),l["\u0275did"](2,573440,null,0,C,[s.a,h.a],{likesInfo:[0,"likesInfo"],discussion:[1,"discussion"],comment:[2,"comment"]},null)],function(n,e){var t=e.component;n(e,1,0,t.dislikeDropdownMenuHandler),n(e,2,0,t.likesInfo,t.discussion,t.comment)},function(n,e){n(e,0,1,[l["\u0275nov"](e,1).display,l["\u0275nov"](e,1).height,l["\u0275nov"](e,1).width,l["\u0275nov"](e,1).zIndex,l["\u0275nov"](e,1).visibility,l["\u0275nov"](e,1).position,l["\u0275nov"](e,1).left,l["\u0275nov"](e,1).right,l["\u0275nov"](e,1).top,l["\u0275nov"](e,1).bottom,l["\u0275nov"](e,1).offsetLeft,l["\u0275nov"](e,1).offsetRight,l["\u0275nov"](e,1).offsetTop,l["\u0275nov"](e,1).offsetBottom])})}function w(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"jr-likes-menu",[],[[4,"display",null],[4,"height",null],[4,"width",null],[4,"z-index",null],[4,"visibility",null],[4,"position",null],[4,"left",null],[4,"right",null],[4,"top",null],[4,"bottom",null],[4,"marginLeft",null],[4,"marginright",null],[4,"marginTop",null],[4,"marginBottom",null]],[["window","resize"],["document","click"],["document","contextmenu"]],function(n,e,t){var i=!0;return"window:resize"===e&&(i=!1!==l["\u0275nov"](n,1).adjustMenuPosition()&&i),"document:click"===e&&(i=!1!==l["\u0275nov"](n,1).closeMenu(t)&&i),"document:contextmenu"===e&&(i=!1!==l["\u0275nov"](n,1).closeContextMenu(t)&&i),i},O,v)),l["\u0275did"](1,4210688,null,0,_.a,[l.ElementRef,l.ChangeDetectorRef],{dropdownMenuHandler:[0,"dropdownMenuHandler"]},null),l["\u0275did"](2,573440,null,0,C,[s.a,h.a],{likesInfo:[0,"likesInfo"],discussion:[1,"discussion"],comment:[2,"comment"]},null)],function(n,e){var t=e.component;n(e,1,0,t.likeDropdownMenuHandler),n(e,2,0,t.likesInfo,t.discussion,t.comment)},function(n,e){n(e,0,1,[l["\u0275nov"](e,1).display,l["\u0275nov"](e,1).height,l["\u0275nov"](e,1).width,l["\u0275nov"](e,1).zIndex,l["\u0275nov"](e,1).visibility,l["\u0275nov"](e,1).position,l["\u0275nov"](e,1).left,l["\u0275nov"](e,1).right,l["\u0275nov"](e,1).top,l["\u0275nov"](e,1).bottom,l["\u0275nov"](e,1).offsetLeft,l["\u0275nov"](e,1).offsetRight,l["\u0275nov"](e,1).offsetTop,l["\u0275nov"](e,1).offsetBottom])})}function R(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","reaction__emotion"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"jr-icon",[],null,null,null,i.b,i.a)),l["\u0275did"](2,114688,null,0,o.a,[],{name:[0,"name"]},null)],function(n,e){n(e,2,0,l["\u0275inlineInterpolate"](1,"likes-",e.component.likesInfo.status.toLowerCase(),""))},null)}function k(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,29,"div",[["class","reaction"]],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,u.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](2,{"reaction--comments":0}),(n()(),l["\u0275and"](16777216,null,null,1,null,T)),l["\u0275did"](4,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](5,0,null,null,8,"div",[["class","reaction__dropdown"]],null,null,null,null,null)),l["\u0275did"](6,212992,null,0,M.a,[l.ElementRef],{dropdownMenuHandler:[0,"dropdownMenuHandler"]},null),(n()(),l["\u0275eld"](7,0,null,null,4,"button",[["class","reaction__dislike"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.toggleDislikeStatus(t)&&l),l},null,null)),l["\u0275did"](8,278528,null,0,u.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](9,{"reaction__dislike--active":0}),(n()(),l["\u0275eld"](10,0,null,null,1,"jr-icon",[],null,null,null,i.b,i.a)),l["\u0275did"](11,114688,null,0,o.a,[],{name:[0,"name"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,P)),l["\u0275did"](13,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](14,0,null,null,4,"div",[["class","reaction__count"]],null,null,null,null,null)),(n()(),l["\u0275eld"](15,0,null,null,3,"span",[["class","likes-count"]],null,null,null,null,null)),l["\u0275did"](16,278528,null,0,u.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](17,{"likes-count--positive":0,"likes-count--negative":1,"likes-count--active":2}),(n()(),l["\u0275ted"](18,null,[" ",""])),(n()(),l["\u0275eld"](19,0,null,null,8,"div",[["class","reaction__dropdown"]],null,null,null,null,null)),l["\u0275did"](20,212992,null,0,M.a,[l.ElementRef],{dropdownMenuHandler:[0,"dropdownMenuHandler"]},null),(n()(),l["\u0275eld"](21,0,null,null,4,"button",[["class","reaction__like"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.toggleLikeStatus(t)&&l),l},null,null)),l["\u0275did"](22,278528,null,0,u.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](23,{"reaction__like--active":0}),(n()(),l["\u0275eld"](24,0,null,null,1,"jr-icon",[],null,null,null,i.b,i.a)),l["\u0275did"](25,114688,null,0,o.a,[],{name:[0,"name"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,w)),l["\u0275did"](27,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,R)),l["\u0275did"](29,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,1,0,"reaction",n(e,2,0,t.comment)),n(e,4,0,t.isLikeNegative&&t.likesInfo.status!==t.LikeStatusNegative.DISLIKE),n(e,6,0,t.dislikeDropdownMenuHandler),n(e,8,0,"reaction__dislike",n(e,9,0,t.isLikeNegative)),n(e,11,0,l["\u0275inlineInterpolate"](1,"likes-dislike",t.comment?"-small":"","")),n(e,13,0,t.dislikeDropdownMenuHandler.isMenuShown),n(e,16,0,"likes-count",n(e,17,0,t.likesInfo.count>0,t.likesInfo.count<0,t.isLikeNegative||t.isLikePositive)),n(e,20,0,t.likeDropdownMenuHandler),n(e,22,0,"reaction__like",n(e,23,0,t.isLikePositive)),n(e,25,0,l["\u0275inlineInterpolate"](1,"likes-like",t.comment?"-small":"","")),n(e,27,0,t.likeDropdownMenuHandler.isMenuShown),n(e,29,0,t.isLikePositive&&t.likesInfo.status!==t.LikeStatusPositive.LIKE)},function(n,e){var t=e.component;n(e,7,0,!t.isMeAuthorized),n(e,18,0,t.likesInfo.count>0?"+"+t.likesInfo.count:t.likesInfo.count),n(e,21,0,!t.isMeAuthorized)})}var x=t("Pn+I"),L=function(){function n(n,e){this.logger=n,this.commentsAdminService=e,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.deleteAllUserComments=function(n){this.commentsAdminService.deleteAllUserComments(this.comment.owner,n)},n}(),N=l["\u0275crt"]({encapsulation:0,styles:[[".ui-menu[_ngcontent-%COMP%]{box-shadow:rgba(0,0,0,.8) 0 0 10px}.ui-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em}ul.ui-menu-list[_ngcontent-%COMP%]   li.danger[_ngcontent-%COMP%]{color:#f34d47}"]],data:{}});function A(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,9,"div",[["class","ui-menu"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,8,"ul",[["class","ui-menu-list"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"li",[],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.deleteAllUserComments(1)&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0437\u0430 \u043e\u0434\u0438\u043d \u0434\u0435\u043d\u044c"])),(n()(),l["\u0275eld"](4,0,null,null,1,"li",[],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.deleteAllUserComments(7)&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0437\u0430 \u043e\u0434\u043d\u0443 \u043d\u0435\u0434\u0435\u043b\u044e"])),(n()(),l["\u0275eld"](6,0,null,null,1,"li",[],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.deleteAllUserComments(30)&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0437\u0430 \u043c\u0435\u0441\u044f\u0446"])),(n()(),l["\u0275eld"](8,0,null,null,1,"li",[],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.deleteAllUserComments()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]))],null,null)}var D=t("9fSo"),U=t("bG0t"),V=t("y2HU"),F=t("OTB5"),H=t("3P9I"),B=t("U+74"),j=function(){function n(n,e,t,l,i,o,u){this.logger=n,this.meProfileService=e,this.externalNotificationAdapter=t,this.discussionService=l,this.commentsService=i,this.commentsAdminService=o,this.likesService=u,this.CommentStatus=F.a,this.DiscussionType=D.a,this.VisibilityStatus=U.a,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnChanges=function(n){var e=this;this.meProfileService.isUserModerator().subscribe(function(n){n&&(e.dropdownMenuHandler=new S.a),e.isMeModerator=n}),this.discussionType=this.discussionService.getDiscussionInfo().type,this.discussionService.isMeOwnerOfQuestionTopic().subscribe(function(n){return e.isMeOwnerOfQuestionTopic=n})},n.prototype.verifyComment=function(){var n=this;this.commentsAdminService.sendEditRequest(this.comment,null,F.a.VERIFIED,null).subscribe(function(e){e&&n.externalNotificationAdapter.showSuccess("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0432\u0435\u0440\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d")})},n.prototype.openEditPanel=function(){this.commentsService.openEditModePanel(this.comment)},n.prototype.hideComment=function(){var n=this;this.commentsAdminService.sendEditRequest(this.comment,null,null,U.a.PRIVATE).subscribe(function(e){e&&n.externalNotificationAdapter.showSuccess("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0441\u043a\u0440\u044b\u0442")})},n.prototype.showComment=function(){var n=this;this.commentsAdminService.sendEditRequest(this.comment,null,null,U.a.PUBLIC).subscribe(function(e){e&&n.externalNotificationAdapter.showSuccess("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d")})},n.prototype.complain=function(){this.commentsService.complainAboutComment(this.comment)},n.prototype.deleteComment=function(){var n=this;this.isMeModerator&&!this.comment.isMeOwner?this.commentsAdminService.sendDeleteRequest(this.comment).subscribe(function(e){e&&n.externalNotificationAdapter.showSuccess("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043f\u043e\u043c\u0435\u0447\u0435\u043d \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f")}):this.commentsService.sendDeleteRequest(this.comment).subscribe()},n.prototype.eraseComment=function(){this.isMeModerator&&!this.comment.isMeOwner?this.commentsAdminService.sendEditRequest(this.comment,f.a.MODERATOR_ERASE_COMMENT_MESSAGE,null,null).subscribe():this.commentsService.sendEditRequest(this.comment,f.a.AUTHOR_ERASE_COMMENT_MESSAGE).subscribe()},n.prototype.muteUser=function(){this.commentsAdminService.addUserToMutedList(this.comment.owner)},n.prototype.markAsSolution=function(){this.likesService.changeLikeStatus(this.discussionService.getDiscussionInfo(),this.comment,p.a.SOLUTION).subscribe()},n.prototype.markAsHelpful=function(){this.likesService.changeLikeStatus(this.discussionService.getDiscussionInfo(),this.comment,p.a.HELPFUL).subscribe()},n}(),G=l["\u0275crt"]({encapsulation:0,styles:[["ul.ui-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px}ul.ui-menu-list[_ngcontent-%COMP%]   li.danger[_ngcontent-%COMP%]{color:#f34d47}ul.ui-menu-list[_ngcontent-%COMP%]   li.warning[_ngcontent-%COMP%]{color:#ff7337}ul.ui-menu-list[_ngcontent-%COMP%]   li.primary[_ngcontent-%COMP%]{color:#53d5d9}.light[_nghost-%COMP%]   ul.ui-menu-list[_ngcontent-%COMP%]   li.primary[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   ul.ui-menu-list[_ngcontent-%COMP%]   li.primary[_ngcontent-%COMP%]{color:#1267a6}ul.ui-menu-list[_ngcontent-%COMP%]   li.success[_ngcontent-%COMP%]{color:#4cb050}ul.ui-menu-list[_ngcontent-%COMP%]   li.verify[_ngcontent-%COMP%]{color:#40ab47}ul.ui-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{position:absolute;right:10px}ul.ui-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block}"]],data:{}});function z(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","success"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.markAsSolution()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u0440\u0435\u0448\u0435\u043d\u0438\u0435 "]))],null,null)}function K(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","success"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.markAsHelpful()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0439 "]))],null,null)}function q(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","verify"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.verifyComment()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,[" \u0412\u0435\u0440\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u0442\u044c "]))],null,null)}function $(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.openEditPanel()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"]))],null,null)}function W(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","primary"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.complain()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f"]))],null,null)}function Q(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","warning"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.hideComment()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,[" \u0421\u043a\u0440\u044b\u0442\u044c "]))],null,null)}function Y(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","success"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.showComment()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,[" \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c "]))],null,null)}function J(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","danger"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.deleteComment()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0423\u0434\u0430\u043b\u0438\u0442\u044c "]))],null,null)}function X(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","danger"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.eraseComment()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0421\u0442\u0435\u0440\u0435\u0442\u044c "]))],null,null)}function Z(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","warning"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435"]))],null,null)}function nn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"jr-comment-submenu",[],[[4,"display",null],[4,"height",null],[4,"width",null],[4,"z-index",null],[4,"visibility",null],[4,"position",null],[4,"left",null],[4,"right",null],[4,"top",null],[4,"bottom",null],[4,"marginLeft",null],[4,"marginright",null],[4,"marginTop",null],[4,"marginBottom",null]],[["window","resize"],["document","click"],["document","contextmenu"]],function(n,e,t){var i=!0;return"window:resize"===e&&(i=!1!==l["\u0275nov"](n,1).adjustMenuPosition()&&i),"document:click"===e&&(i=!1!==l["\u0275nov"](n,1).closeMenu(t)&&i),"document:contextmenu"===e&&(i=!1!==l["\u0275nov"](n,1).closeContextMenu(t)&&i),i},A,N)),l["\u0275did"](1,4210688,null,0,_.a,[l.ElementRef,l.ChangeDetectorRef],{dropdownMenuHandler:[0,"dropdownMenuHandler"]},null),l["\u0275did"](2,49152,null,0,L,[s.a,x.a],{comment:[0,"comment"]},null)],function(n,e){var t=e.component;n(e,1,0,t.dropdownMenuHandler),n(e,2,0,t.comment)},function(n,e){n(e,0,1,[l["\u0275nov"](e,1).display,l["\u0275nov"](e,1).height,l["\u0275nov"](e,1).width,l["\u0275nov"](e,1).zIndex,l["\u0275nov"](e,1).visibility,l["\u0275nov"](e,1).position,l["\u0275nov"](e,1).left,l["\u0275nov"](e,1).right,l["\u0275nov"](e,1).top,l["\u0275nov"](e,1).bottom,l["\u0275nov"](e,1).offsetLeft,l["\u0275nov"](e,1).offsetRight,l["\u0275nov"](e,1).offsetTop,l["\u0275nov"](e,1).offsetBottom])})}function en(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"li",[["class","danger"]],null,null,null,null,null)),l["\u0275did"](1,212992,null,0,M.a,[l.ElementRef],{dropdownMenuHandler:[0,"dropdownMenuHandler"]},null),(n()(),l["\u0275eld"](2,0,null,null,2,"span",[],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(n.component.dropdownMenuHandler.toggleMenu(t),l=!1!==t.stopPropagation()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 "])),(n()(),l["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-angle-right"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,nn)),l["\u0275did"](6,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,1,0,t.dropdownMenuHandler),n(e,6,0,t.dropdownMenuHandler.isMenuShown)},null)}function tn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","primary"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.muteUser()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0417\u0430\u043f\u0440\u0435\u0442\u0438\u0442\u044c \u043e\u0431\u0449\u0430\u0442\u044c\u0441\u044f"]))],null,null)}function ln(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,25,"div",[["class","ui-menu"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,24,"ul",[["class","ui-menu-list"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,z)),l["\u0275did"](3,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,K)),l["\u0275did"](5,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,q)),l["\u0275did"](7,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,$)),l["\u0275did"](9,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,W)),l["\u0275did"](11,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Q)),l["\u0275did"](13,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Y)),l["\u0275did"](15,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,J)),l["\u0275did"](17,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,X)),l["\u0275did"](19,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Z)),l["\u0275did"](21,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,en)),l["\u0275did"](23,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,tn)),l["\u0275did"](25,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,3,0,t.discussionType===t.DiscussionType.QUESTION&&(t.isMeModerator||t.isMeOwnerOfQuestionTopic)&&!t.comment.attributes.answer),n(e,5,0,t.discussionType===t.DiscussionType.QUESTION&&(t.isMeModerator||t.isMeOwnerOfQuestionTopic)&&!t.comment.attributes.answer&&!t.comment.attributes.useful),n(e,7,0,t.isMeModerator&&t.comment.status!==t.CommentStatus.VERIFIED),n(e,9,0,t.isMeModerator||t.comment.isMeOwner),n(e,11,0,!t.comment.isMeOwner),n(e,13,0,t.isMeModerator&&t.comment.visibilityStatus===t.VisibilityStatus.PUBLIC),n(e,15,0,t.isMeModerator&&t.comment.visibilityStatus!==t.VisibilityStatus.PUBLIC),n(e,17,0,(t.isMeModerator||t.comment.isMeOwner)&&t.comment.visibilityStatus!==t.VisibilityStatus.DELETED&&!t.comment.childrenComments.length),n(e,19,0,(t.isMeModerator||t.comment.isMeOwner)&&t.comment.visibilityStatus!==t.VisibilityStatus.DELETED&&t.comment.childrenComments.length>0),n(e,21,0,t.isMeModerator&&!t.comment.isMeOwner),n(e,23,0,t.isMeModerator&&!t.comment.isMeOwner),n(e,25,0,t.isMeModerator&&!t.comment.isMeOwner)},null)}var on=t("88/G"),un=t("i5Iq"),sn=t("1on1"),rn=t("5uw7"),an=t("1dnJ"),cn=t("5Ggd"),dn=t("gIcY"),mn=t("3lvd"),pn=t("8iOP"),gn=t("J4K4"),fn=t("AytR"),hn=function(){function n(n,e,t,l,i,o){this.logger=n,this.dateTimeService=e,this.meProfileService=t,this.commentsService=l,this.discussionService=i,this.commentsAdminService=o,this.CommentStatus=F.a,this.VisibilityStatus=U.a,this.UserSubscription=pn.a,this.UserSubscriptionDisplayNames=pn.b,this.dropdownMenuHandler=new S.a,this.isEditing=!1,this.subscriptionsToClose=[],this.logger.debug(this.constructor.name+" is created.")}return Object.defineProperty(n.prototype,"comment",{get:function(){return this._comment},set:function(n){this._comment=n,this.localizedTime=this.dateTimeService.getRelativeDateTimeString(n.time),this.userProfileHref=fn.a.displayServerAddress+mn.a.userProfileHref.replace("{userId}",n.owner.id.toString())},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this;this.subscriptionsToClose.push(this.commentsService.animationEnabled$.subscribe(function(e){return n.isAnimationEnabled=e})),this.subscriptionsToClose.push(this.meProfileService.meProfile$.subscribe(function(e){n.isMeAuthorized=!!e,n.meProfileService.isUserModerator().subscribe(function(e){return n.isMeModerator=e})})),this.subscriptionsToClose.push(this.commentsService.editMode$.subscribe(function(e){n.comment===e&&n.showEditPanel()})),this.comment.parentCommentId||this.subscriptionsToClose.push(this.commentsService.replyData$.subscribe(function(e){n.replyData=e&&e.parentCommentId===n.comment.id?e:null})),this.discussionInfo=this.discussionService.getDiscussionInfo()},n.prototype.answerToThisComment=function(){this.commentsService.openReplyToCommentPanel(this.comment)},n.prototype.showEditPanel=function(){this.editedMessageFormControl=new dn.FormControl(this.comment.message,[dn.Validators.required,dn.Validators.maxLength(this.commentsService.COMMENT_LENGTH_LIMIT)]),this.messageLimit=this.commentsService.COMMENT_LENGTH_LIMIT,this.isEditing=!0},n.prototype.editComment=function(){var n=this;this.comment.isMeOwner?this.commentsService.sendEditRequest(this.comment,this.editedMessageFormControl.value).subscribe(function(e){e&&n.closeEditPanel()}):this.commentsAdminService.sendEditRequest(this.comment,this.editedMessageFormControl.value,null,null).subscribe(function(e){e&&n.closeEditPanel()})},n.prototype.closeEditPanel=function(){this.isEditing=!1},n.prototype.ngOnDestroy=function(){this.subscriptionsToClose.forEach(function(n){return n.unsubscribe()})},n}(),Cn=t("ij4C"),vn=t("wbUM"),bn=function(){function n(n,e,t){this.logger=n,this.commentsService=e,this.meProfileService=t,this.minHeight=100,this.previewEditor=!1,this._replyData=new vn.a,this.DEFAULT_BUTTON_NAME="\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",this.buttonName=this.DEFAULT_BUTTON_NAME,this.isLoading=!1,this.subscriptionsToClose=[],this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnInit=function(){var n=this;this.messageFormControl=new dn.FormControl("",[dn.Validators.required,dn.Validators.maxLength(this.commentsService.COMMENT_LENGTH_LIMIT)]),this.messageLimit=this.commentsService.COMMENT_LENGTH_LIMIT,this.subscriptionsToClose.push(this.meProfileService.meProfile$.subscribe(function(e){return n.meProfile=e})),this.serverAddress=fn.a.displayServerAddress},Object.defineProperty(n.prototype,"replyData",{get:function(){return this._replyData},set:function(n){this._replyData=n,this.buttonName="\u041e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f "+this._replyData.replyToComment.owner.displayName},enumerable:!0,configurable:!0}),n.prototype.sendNewComment=function(){var n=this;this.isLoading=!0,this.replyData.message=this.messageFormControl.value,this.commentsService.sendNewComment(this.replyData).subscribe(function(e){n.isLoading=!1,e&&n.clearReplyPanel()})},n.prototype.clearReplyPanel=function(){this.replyData.parentCommentId?this.commentsService.openReplyToCommentPanel(null):(this.previewEditor=!0,this.messageFormControl.patchValue(""))},n.prototype.showEditor=function(){this.previewEditor=!1},n.prototype.toLoginPage=function(){window.top.location.href=this.serverAddress+"/login"},n.prototype.ngOnDestroy=function(){this.subscriptionsToClose.forEach(function(n){return n.unsubscribe()})},n}(),On=l["\u0275crt"]({encapsulation:0,styles:[[".comment-reply[_ngcontent-%COMP%]{position:relative;display:block;padding:0 0 0 50px;margin-bottom:50px}@media (min-width:576px){.comment-reply[_ngcontent-%COMP%]{margin-left:0}}.comment-reply[_ngcontent-%COMP%] > .ava[_ngcontent-%COMP%]{width:40px;height:40px;position:absolute;top:0;left:0}.reply-head[_ngcontent-%COMP%]{position:relative;line-height:1;margin-bottom:5px}.reply-head[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.reply-head[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{font-size:14px;line-height:1;font-weight:700;color:#fff;text-decoration:none}.reply-foot[_ngcontent-%COMP%]{padding-top:7px;margin:0;font-size:14px;white-space:nowrap}.reply-foot[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-top:7px}.my-reply-discard[_ngcontent-%COMP%]{text-decoration:underline}.excess-symbols[_ngcontent-%COMP%], .left-symbols[_ngcontent-%COMP%]{font-size:.667em;line-height:1;padding:5px 0 0}.excess-symbols[_ngcontent-%COMP%]{color:#ff7337}.light[_nghost-%COMP%]   .reply-head[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .reply-head[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{color:#172b53}.light[_nghost-%COMP%]   .excess-symbols[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .excess-symbols[_ngcontent-%COMP%]{color:#ff6c60}.light[_nghost-%COMP%]   .form-control[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:#b7bfcd}"]],data:{animation:[{type:7,name:"flyInOut",definitions:[{type:0,name:"on",styles:{type:6,styles:{},offset:null},options:void 0},{type:1,expr:"void => on",animation:[{type:6,styles:{height:"0px",transform:"scale(1, 0)",opacity:0,marginTop:0,paddingBottom:0,paddingTop:0},offset:null},{type:4,styles:null,timings:"0.3s"}],options:null},{type:1,expr:"on => void",animation:[{type:4,styles:{type:6,styles:{height:"0px",transform:"scale(1, 0)",opacity:0,marginTop:0,paddingBottom:0,paddingTop:0},offset:null},timings:"0.3s"}],options:null}],options:{}}]}});function _n(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"textarea",[["class","form-control"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"],["rows","2"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.showEditor()&&l),l},null,null))],null,null)}function Mn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","col-12 col-sm-auto left-symbols"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" \u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c "," "," "])),l["\u0275pad"](2,3),l["\u0275ppd"](3,2)],null,function(n,e){var t=e.component;n(e,1,0,t.messageLimit-t.messageFormControl.value.length,l["\u0275unv"](e,1,1,n(e,3,0,l["\u0275nov"](e.parent.parent.parent,0),t.messageLimit-t.messageFormControl.value.length,n(e,2,0,"\u0441\u0438\u043c\u0432\u043e\u043b","\u0441\u0438\u043c\u0432\u043e\u043b\u0430","\u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"))))})}function In(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","col-12 col-sm-auto excess-symbols"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" \u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u0438\u0435 \u043b\u0438\u043c\u0438\u0442\u0430 \u043d\u0430 "," "," "])),l["\u0275pad"](2,3),l["\u0275ppd"](3,2)],null,function(n,e){var t=e.component;n(e,1,0,t.messageFormControl.value.length-t.messageLimit,l["\u0275unv"](e,1,1,n(e,3,0,l["\u0275nov"](e.parent.parent.parent,0),t.messageFormControl.value.length-t.messageLimit,n(e,2,0,"\u0441\u0438\u043c\u0432\u043e\u043b","\u0441\u0438\u043c\u0432\u043e\u043b\u0430","\u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"))))})}function Sn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"button",[["class","button button--link button--wide  my-reply-discard"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.clearReplyPanel()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u043c\u0435\u043d\u0430"]))],null,null)}function En(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,21,"div",[],[[24,"@flyInOut",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,7,"jr-rich-editor",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,sn.b,sn.a)),l["\u0275prd"](512,null,rn.a,rn.a,[s.a]),l["\u0275prd"](512,null,an.a,an.a,[s.a,rn.a]),l["\u0275did"](4,245760,null,0,cn.a,[s.a,l.Renderer2,an.a,rn.a],{minHeight:[0,"minHeight"],autosize:[1,"autosize"],focus:[2,"focus"],thumbnailImageOnly:[3,"thumbnailImageOnly"]},null),l["\u0275prd"](1024,null,dn.NG_VALUE_ACCESSOR,function(n){return[n]},[cn.a]),l["\u0275did"](6,540672,null,0,dn.FormControlDirective,[[8,null],[8,null],[6,dn.NG_VALUE_ACCESSOR],[2,dn["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,dn.NgControl,null,[dn.FormControlDirective]),l["\u0275did"](8,16384,null,0,dn.NgControlStatus,[[4,dn.NgControl]],null,null),(n()(),l["\u0275eld"](9,0,null,null,12,"div",[["class","row no-gutters"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Mn)),l["\u0275did"](11,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,In)),l["\u0275did"](13,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](14,0,null,null,7,"div",[["class","col-12 reply-foot text-center text-sm-right"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Sn)),l["\u0275did"](16,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](17,0,null,null,4,"button",[["class","button button--success button--wide"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.sendNewComment()&&l),l},null,null)),(n()(),l["\u0275eld"](18,0,null,null,1,"b",[["class","d-sm-none"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"])),(n()(),l["\u0275eld"](20,0,null,null,1,"b",[["class","d-none d-sm-inline"]],null,null,null,null,null)),(n()(),l["\u0275ted"](21,null,["",""]))],function(n,e){var t=e.component;n(e,4,0,t.minHeight,!0,!0,!0),n(e,6,0,t.messageFormControl),n(e,11,0,t.messageFormControl.value.length>.9*t.messageLimit&&t.messageFormControl.value.length<=t.messageLimit),n(e,13,0,t.messageFormControl.value.length>t.messageLimit),n(e,16,0,t.replyData.parentCommentId)},function(n,e){var t=e.component;n(e,0,0,"on"),n(e,1,0,l["\u0275nov"](e,8).ngClassUntouched,l["\u0275nov"](e,8).ngClassTouched,l["\u0275nov"](e,8).ngClassPristine,l["\u0275nov"](e,8).ngClassDirty,l["\u0275nov"](e,8).ngClassValid,l["\u0275nov"](e,8).ngClassInvalid,l["\u0275nov"](e,8).ngClassPending),n(e,17,0,t.messageFormControl.invalid||t.isLoading),n(e,21,0,t.buttonName)})}function yn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,10,"div",[["class","comment-reply"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"a",[["class","ava"]],null,null,null,null,null)),l["\u0275did"](2,278528,null,0,u.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](3,{"background-image":0}),(n()(),l["\u0275eld"](4,0,null,null,2,"div",[["class","reply-head"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,"span",[["class","user"]],null,null,null,null,null)),(n()(),l["\u0275ted"](6,null,["",""])),(n()(),l["\u0275and"](16777216,null,null,1,null,_n)),l["\u0275did"](8,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,En)),l["\u0275did"](10,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,2,0,n(e,3,0,"url("+(null==t.meProfile?null:t.meProfile.pictureUrl)+")")),n(e,8,0,t.previewEditor),n(e,10,0,!t.previewEditor)},function(n,e){var t=e.component;n(e,6,0,null==t.meProfile?null:t.meProfile.displayName)})}function Tn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"div",[["class","no-content"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,4,"div",[["class","no-content__body"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,3,"span",[["class","text-uppercase"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e \u0431\u044b \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b "])),(n()(),l["\u0275eld"](4,0,null,null,1,"a",[["class","link"]],[[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.toLoginPage()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"]))],null,function(n,e){n(e,4,0,e.component.serverAddress+"/login")})}function Pn(n){return l["\u0275vid"](0,[l["\u0275pid"](0,Cn.a,[]),(n()(),l["\u0275and"](16777216,null,null,1,null,yn)),l["\u0275did"](2,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Tn)),l["\u0275did"](4,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,2,0,t.meProfile),n(e,4,0,null===t.meProfile)},null)}var wn=l["\u0275crt"]({encapsulation:0,styles:[[".comment[_ngcontent-%COMP%]{display:block;padding:0 0 0 50px;margin:0;position:relative}.comment--erased[_ngcontent-%COMP%] > .comment-body[_ngcontent-%COMP%]{font-style:italic;font-weight:400;color:#636365}.comment[_ngcontent-%COMP%] + .comment[_ngcontent-%COMP%]{margin-top:30px}.comment[_ngcontent-%COMP%] > .ava[_ngcontent-%COMP%]{width:40px;height:40px;position:absolute;top:0;left:0}.comment-head[_ngcontent-%COMP%]{line-height:1;margin-bottom:3px}@media (min-width:640px){.comment-head[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;align-items:baseline}}.head-left[_ngcontent-%COMP%]{line-height:1;font-size:16px}.head-left[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .head-left[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-right:6px}.head-right[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:baseline;min-height:17px;margin-top:2px;line-height:1;white-space:nowrap}.head-right[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .head-right[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-right:6px}.head-right[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:last-child, .head-right[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:last-child{margin-right:0}.head-right[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{flex-grow:1}.comment-head[_ngcontent-%COMP%]   .more-setting[_ngcontent-%COMP%]{position:relative;display:inline-block;vertical-align:baseline;line-height:1;font-size:14px}@media (min-width:640px){.head-right[_ngcontent-%COMP%]{display:block;margin-top:0;text-align:right}.head-right[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .head-right[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:6px;margin-right:0}.comment-head[_ngcontent-%COMP%]   .more-setting[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-left:6px;vertical-align:baseline;line-height:1;font-size:14px}}.comment-head[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .comment-head[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:baseline}.comment-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-flex;padding:2px 7px}.comment-head[_ngcontent-%COMP%]   .badge__label[_ngcontent-%COMP%]{font-size:12px;letter-spacing:0}.comment-head[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{font-size:14px;line-height:1;font-weight:700;color:#fff;text-decoration:none}.comment-head[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:hover{text-decoration:underline}.comment-head[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .comment-head[_ngcontent-%COMP%]   .more-info[_ngcontent-%COMP%]{line-height:1;font-size:12px;color:#7b7b7c;right:0}.light[_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   .more-info[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   .more-info[_ngcontent-%COMP%]{color:#7a869a}.visibility[_ngcontent-%COMP%]{font-size:12px;line-height:1.42;color:#62faff}.visibility--private[_ngcontent-%COMP%]{color:#eee}.visibility--deleted[_ngcontent-%COMP%]{color:#f34d47}.light[_nghost-%COMP%]   .visibility[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .visibility[_ngcontent-%COMP%]{color:#3d95cf}.light[_nghost-%COMP%]   .visibility--private[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .visibility--private[_ngcontent-%COMP%]{color:rgba(23,43,83,.5)}.comment-body[_ngcontent-%COMP%]{overflow:hidden;font-size:14px;line-height:1.22;color:#fff;padding:11px 9px 10px;margin:0;border:1px solid #636365;border-radius:2px;-webkit-backface-visibility:hidden;backface-visibility:hidden}.comment-body[_ngcontent-%COMP%]     pre.line-numbers{margin-top:7px;margin-bottom:7px}.comment.verified[_ngcontent-%COMP%] > .comment-body[_ngcontent-%COMP%]{border-left:4px solid #62faff}.comment.claim[_ngcontent-%COMP%] > .comment-body[_ngcontent-%COMP%]{border-left:4px solid #f34d47}.comment.deleted[_ngcontent-%COMP%] > .ava[_ngcontent-%COMP%], .comment.deleted[_ngcontent-%COMP%] > .comment-head[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%], .comment.hidden[_ngcontent-%COMP%]   .ava[_ngcontent-%COMP%], .comment.hidden[_ngcontent-%COMP%]   .comment-body[_ngcontent-%COMP%], .comment.hidden[_ngcontent-%COMP%]   .comment-head[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{opacity:.5}.comment.deleted[_ngcontent-%COMP%] > .comment-body[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAfElEQVQ4ja3TMQrDMAwF0OfQdmqm3v+UGTOokyEEOyG2NIrPQ8NXiYif+9mxIS4yBd8lE8PnDnyEwSsBW/Gui96FQ1gPHMZa4BR2BqexI5iCVTANgxIRJQvDvmRi2K4+5TGG6IFDGO1iD2MtcAo7g9PYEUzBKpiGVTANgz/BDkE9PxQDAwAAAABJRU5ErkJggg==) left top/10px 10px}.comment-foot[_ngcontent-%COMP%]{padding:5px 0 0;margin:0;line-height:1}.comment-foot[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin-top:7px}.comment-foot[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%], .comment-foot[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{vertical-align:top}.comment-foot[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;font-size:12px;line-height:1;color:#7b7b7c;text-decoration:none;padding:0;margin:0;cursor:pointer}.comment-foot[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]:hover{text-decoration:none;color:#62faff}.view-text[_ngcontent-%COMP%]{word-wrap:break-word;white-space:pre-wrap;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.view-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.view-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.comment-layout[_ngcontent-%COMP%]{margin-top:30px}.comment-children[_ngcontent-%COMP%]   .comment-layout[_ngcontent-%COMP%]{margin-top:11px}.comment-edit-buttons[_ngcontent-%COMP%]{margin-top:10px}.left-symbols[_ngcontent-%COMP%]{font-size:.778em;padding-top:15px}.excess-symbols[_ngcontent-%COMP%]{font-size:.778em;padding-top:15px;color:#ff7337}@media (max-width:767px){.comment-children[_ngcontent-%COMP%]{margin-left:-25px}}.comment-answer[_ngcontent-%COMP%]{margin-top:10px}.comment[_ngcontent-%COMP%]     jr-likes-menu, jr-comment-menu[_ngcontent-%COMP%]{margin-top:3px}.menu-button[_ngcontent-%COMP%]{padding-left:4px;padding-right:4px;font-size:13px}.light[_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{color:#172b53}.light[_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:rgba(0,0,0,.7)}.light[_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   i.fa[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   i.fa[_ngcontent-%COMP%]{color:#3498db}.light[_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   i.fa.fa-eye-slash[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   i.fa.fa-eye-slash[_ngcontent-%COMP%]{color:#faa033}.light[_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   i.fa.fa-eye-slash.deleted[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   i.fa.fa-eye-slash.deleted[_ngcontent-%COMP%]{color:#ff6c60}.light[_nghost-%COMP%]   .comment-body[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment-body[_ngcontent-%COMP%]{border:1px solid #d5dae2;color:#172b53;background:#fff}.light[_nghost-%COMP%]   .comment.verified[_ngcontent-%COMP%] > .comment-body[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment.verified[_ngcontent-%COMP%] > .comment-body[_ngcontent-%COMP%]{border-left:4px solid #43aaeb}.light[_nghost-%COMP%]   .comment.claim[_ngcontent-%COMP%] > .comment-body[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment.claim[_ngcontent-%COMP%] > .comment-body[_ngcontent-%COMP%]{border-left:4px solid #ff6c60}.light[_nghost-%COMP%]   .comment-foot[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment-foot[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]{color:#7a869a}.light[_nghost-%COMP%]   .comment-foot[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .comment-foot[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]:hover{color:#172b53}.light[_nghost-%COMP%]   .comment-foot[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]:active, .light   [_nghost-%COMP%]   .comment-foot[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]:active{color:#172b53}"]],data:{animation:[{type:7,name:"flyInOut",definitions:[{type:0,name:"on",styles:{type:6,styles:{},offset:null},options:void 0},{type:1,expr:"void => on",animation:[{type:6,styles:{height:"0px",transform:"scale(1, 0)",opacity:0,marginTop:0,paddingBottom:0,paddingTop:0},offset:null},{type:4,styles:null,timings:"0.3s"}],options:null},{type:1,expr:"on => void",animation:[{type:4,styles:{type:6,styles:{height:"0px",transform:"scale(1, 0)",opacity:0,marginTop:0,paddingBottom:0,paddingTop:0},offset:null},timings:"0.3s"}],options:null}],options:{}}]}});function Rn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"jr-icon",[["name","common-eye-slash"]],null,null,null,i.b,i.a)),l["\u0275did"](1,114688,null,0,o.a,[],{name:[0,"name"]},null)],function(n,e){n(e,1,0,"common-eye-slash")},null)}function kn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"jr-icon",[["name","common-eye"]],null,null,null,i.b,i.a)),l["\u0275did"](1,114688,null,0,o.a,[],{name:[0,"name"]},null)],function(n,e){n(e,1,0,"common-eye")},null)}function xn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"span",[["class","visibility"]],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,u.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](2,{"visibility--deleted":0,"visibility--private":1}),(n()(),l["\u0275and"](16777216,null,null,1,null,Rn)),l["\u0275did"](4,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,kn)),l["\u0275did"](6,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,1,0,"visibility",n(e,2,0,t.comment.visibilityStatus===t.VisibilityStatus.DELETED,t.comment.visibilityStatus===t.VisibilityStatus.PRIVATE)),n(e,4,0,t.comment.visibilityStatus===t.VisibilityStatus.PRIVATE),n(e,6,0,t.comment.visibilityStatus===t.VisibilityStatus.DELETED||t.comment.visibilityStatus===t.VisibilityStatus.PUBLIC)},null)}function Ln(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"span",[["class","badge badge--tiny badge--uppercase"]],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,u.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](2,{"badge--green":0,"badge--orange":1}),(n()(),l["\u0275eld"](3,0,null,null,1,"span",[["class","badge__label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](4,null,["",""]))],function(n,e){var t=e.component;n(e,1,0,"badge badge--tiny badge--uppercase",n(e,2,0,t.comment.owner.subscription==t.UserSubscription.PREMIUM,t.comment.owner.subscription==t.UserSubscription.PREMIUM_PRO))},function(n,e){var t=e.component;n(e,4,0,t.UserSubscriptionDisplayNames[t.comment.owner.subscription])})}function Nn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"span",[["class","badge badge--green badge--tiny badge--uppercase"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"span",[["class","badge__label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u0440\u0435\u0448\u0435\u043d\u0438\u0435"]))],null,null)}function An(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"span",[["class","badge badge--blue badge--tiny badge--uppercase"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"span",[["class","badge__label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0439"]))],null,null)}function Dn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"jr-comment-menu",[],[[4,"display",null],[4,"height",null],[4,"width",null],[4,"z-index",null],[4,"visibility",null],[4,"position",null],[4,"left",null],[4,"right",null],[4,"top",null],[4,"bottom",null],[4,"marginLeft",null],[4,"marginright",null],[4,"marginTop",null],[4,"marginBottom",null]],[["window","resize"],["document","click"],["document","contextmenu"]],function(n,e,t){var i=!0;return"window:resize"===e&&(i=!1!==l["\u0275nov"](n,1).adjustMenuPosition()&&i),"document:click"===e&&(i=!1!==l["\u0275nov"](n,1).closeMenu(t)&&i),"document:contextmenu"===e&&(i=!1!==l["\u0275nov"](n,1).closeContextMenu(t)&&i),i},ln,G)),l["\u0275did"](1,4210688,null,0,_.a,[l.ElementRef,l.ChangeDetectorRef],{dropdownMenuHandler:[0,"dropdownMenuHandler"]},null),l["\u0275did"](2,573440,null,0,j,[s.a,I.a,V.a,B.a,H.a,x.a,h.a],{comment:[0,"comment"]},null)],function(n,e){var t=e.component;n(e,1,0,t.dropdownMenuHandler),n(e,2,0,t.comment)},function(n,e){n(e,0,1,[l["\u0275nov"](e,1).display,l["\u0275nov"](e,1).height,l["\u0275nov"](e,1).width,l["\u0275nov"](e,1).zIndex,l["\u0275nov"](e,1).visibility,l["\u0275nov"](e,1).position,l["\u0275nov"](e,1).left,l["\u0275nov"](e,1).right,l["\u0275nov"](e,1).top,l["\u0275nov"](e,1).bottom,l["\u0275nov"](e,1).offsetLeft,l["\u0275nov"](e,1).offsetRight,l["\u0275nov"](e,1).offsetTop,l["\u0275nov"](e,1).offsetBottom])})}function Un(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,8,"div",[["class","more-setting"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,5,"button",[["class","button menu-button"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.dropdownMenuHandler.toggleMenu(t)&&l),l},null,null)),l["\u0275did"](2,278528,null,0,u.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](3,{"menu-button--open":0}),l["\u0275did"](4,212992,null,0,M.a,[l.ElementRef],{dropdownMenuHandler:[0,"dropdownMenuHandler"]},null),(n()(),l["\u0275eld"](5,0,null,null,1,"jr-icon",[["name","common-more"]],null,null,null,i.b,i.a)),l["\u0275did"](6,114688,null,0,o.a,[],{name:[0,"name"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Dn)),l["\u0275did"](8,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,2,0,"button menu-button",n(e,3,0,t.dropdownMenuHandler.isMenuShown)),n(e,4,0,t.dropdownMenuHandler),n(e,6,0,"common-more"),n(e,8,0,t.dropdownMenuHandler.isMenuShown)},null)}function Vn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","comment-body"]],[[24,"@flyInOut",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"div",[["class","view-text"]],null,null,null,null,null)),l["\u0275did"](2,9060352,null,0,on.a,[l.ElementRef,l.NgZone,l.PLATFORM_ID,un.a],{innerHtml:[0,"innerHtml"]},null)],function(n,e){n(e,2,0,e.component.comment.message)},function(n,e){n(e,0,0,e.component.isAnimationEnabled?"on":"off")})}function Fn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","col-12 col-sm-auto left-symbols"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" \u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c "," "," "])),l["\u0275pad"](2,3),l["\u0275ppd"](3,2)],null,function(n,e){var t=e.component;n(e,1,0,t.messageLimit-t.editedMessageFormControl.value.length,l["\u0275unv"](e,1,1,n(e,3,0,l["\u0275nov"](e.parent.parent,0),t.messageLimit-t.editedMessageFormControl.value.length,n(e,2,0,"\u0441\u0438\u043c\u0432\u043e\u043b","\u0441\u0438\u043c\u0432\u043e\u043b\u0430","\u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"))))})}function Hn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","col-12 col-sm-auto excess-symbols"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" \u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u0438\u0435 \u043b\u0438\u043c\u0438\u0442\u0430 \u043d\u0430 "," "," "])),l["\u0275pad"](2,3),l["\u0275ppd"](3,2)],null,function(n,e){var t=e.component;n(e,1,0,t.editedMessageFormControl.value.length-t.messageLimit,l["\u0275unv"](e,1,1,n(e,3,0,l["\u0275nov"](e.parent.parent,0),t.editedMessageFormControl.value.length-t.messageLimit,n(e,2,0,"\u0441\u0438\u043c\u0432\u043e\u043b","\u0441\u0438\u043c\u0432\u043e\u043b\u0430","\u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"))))})}function Bn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,18,"div",[],[[24,"@flyInOut",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,7,"jr-rich-editor",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,sn.b,sn.a)),l["\u0275prd"](512,null,rn.a,rn.a,[s.a]),l["\u0275prd"](512,null,an.a,an.a,[s.a,rn.a]),l["\u0275did"](4,245760,null,0,cn.a,[s.a,l.Renderer2,an.a,rn.a],{autosize:[0,"autosize"],thumbnailImageOnly:[1,"thumbnailImageOnly"]},null),l["\u0275prd"](1024,null,dn.NG_VALUE_ACCESSOR,function(n){return[n]},[cn.a]),l["\u0275did"](6,540672,null,0,dn.FormControlDirective,[[8,null],[8,null],[6,dn.NG_VALUE_ACCESSOR],[2,dn["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,dn.NgControl,null,[dn.FormControlDirective]),l["\u0275did"](8,16384,null,0,dn.NgControlStatus,[[4,dn.NgControl]],null,null),(n()(),l["\u0275eld"](9,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Fn)),l["\u0275did"](11,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Hn)),l["\u0275did"](13,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](14,0,null,null,4,"div",[["class","col text-right comment-edit-buttons"]],null,null,null,null,null)),(n()(),l["\u0275eld"](15,0,null,null,1,"button",[["class","button button--link button--wide comment-edit-discard"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.closeEditPanel()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u043c\u0435\u043d\u0430 "])),(n()(),l["\u0275eld"](17,0,null,null,1,"button",[["class","button button--success button--md-wide"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.editComment()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,[" \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c "]))],function(n,e){var t=e.component;n(e,4,0,!0,!0),n(e,6,0,t.editedMessageFormControl),n(e,11,0,t.editedMessageFormControl.value.length>.9*t.messageLimit&&t.editedMessageFormControl.value.length<=t.messageLimit),n(e,13,0,t.editedMessageFormControl.value.length>t.messageLimit)},function(n,e){var t=e.component;n(e,0,0,t.isAnimationEnabled?"on":"off"),n(e,1,0,l["\u0275nov"](e,8).ngClassUntouched,l["\u0275nov"](e,8).ngClassTouched,l["\u0275nov"](e,8).ngClassPristine,l["\u0275nov"](e,8).ngClassDirty,l["\u0275nov"](e,8).ngClassValid,l["\u0275nov"](e,8).ngClassInvalid,l["\u0275nov"](e,8).ngClassPending),n(e,17,0,t.editedMessageFormControl.invalid)})}function jn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"span",[["class","answer"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.answerToThisComment()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"]))],null,null)}function Gn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"div",[["class","comment-foot"]],[[24,"@flyInOut",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,5,"div",[["class","row no-gutters"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,jn)),l["\u0275did"](3,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](4,0,null,null,2,"div",[["class","col text-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,"jr-likes-panel",[],null,null,null,k,y)),l["\u0275did"](6,770048,null,0,E,[s.a,I.a,h.a],{discussion:[0,"discussion"],comment:[1,"comment"]},null)],function(n,e){var t=e.component;n(e,3,0,t.isMeAuthorized&&!t.replyData),n(e,6,0,t.discussionInfo,t.comment)},function(n,e){n(e,0,0,e.component.isAnimationEnabled?"on":"off")})}function zn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","comment-layout"]],[[24,"@flyInOut",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"jr-comment",[],null,null,null,$n,wn)),l["\u0275did"](2,245760,null,0,hn,[s.a,gn.a,I.a,H.a,B.a,x.a],{comment:[0,"comment"]},null)],function(n,e){n(e,2,0,e.context.$implicit)},function(n,e){n(e,0,0,e.component.isAnimationEnabled?"on":"off")})}function Kn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","comment-children"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,zn)),l["\u0275did"](2,278528,null,0,u.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,e){n(e,2,0,e.component.comment.childrenComments)},null)}function qn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","comment-answer"]],[[24,"@flyInOut",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"jr-my-reply",[],null,null,null,Pn,On)),l["\u0275did"](2,245760,null,0,bn,[s.a,H.a,I.a],{replyData:[0,"replyData"]},null)],function(n,e){n(e,2,0,e.component.replyData)},function(n,e){n(e,0,0,e.component.isAnimationEnabled?"on":"off")})}function $n(n){return l["\u0275vid"](0,[l["\u0275pid"](0,Cn.a,[]),(n()(),l["\u0275eld"](1,0,null,null,34,"div",[["class","comment"]],null,null,null,null,null)),l["\u0275did"](2,278528,null,0,u.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](3,{verified:0,unverified:1,claim:2,hidden:3,deleted:4,"comment--erased":5}),(n()(),l["\u0275eld"](4,0,null,null,2,"a",[["class","ava"],["tabindex","-1"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),l["\u0275did"](5,278528,null,0,u.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](6,{"background-image":0}),(n()(),l["\u0275eld"](7,0,null,null,18,"div",[["class","comment-head"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,8,"div",[["class","head-left"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,1,"a",[["class","user"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(n()(),l["\u0275ted"](10,null,["",""])),(n()(),l["\u0275eld"](11,0,null,null,1,"span",[["class","more-info"]],null,null,null,null,null)),(n()(),l["\u0275ted"](12,null,[""," \u0443\u0440\u043e\u0432\u0435\u043d\u044c",""])),(n()(),l["\u0275and"](16777216,null,null,1,null,xn)),l["\u0275did"](14,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Ln)),l["\u0275did"](16,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](17,0,null,null,8,"div",[["class","head-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](18,0,null,null,1,"span",[["class","date"]],null,null,null,null,null)),(n()(),l["\u0275ted"](19,null,["",""])),(n()(),l["\u0275and"](16777216,null,null,1,null,Nn)),l["\u0275did"](21,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,An)),l["\u0275did"](23,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Un)),l["\u0275did"](25,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Vn)),l["\u0275did"](27,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Bn)),l["\u0275did"](29,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Gn)),l["\u0275did"](31,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Kn)),l["\u0275did"](33,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,qn)),l["\u0275did"](35,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,2,0,"comment",n(e,3,0,t.isMeModerator&&t.comment.status===t.CommentStatus.VERIFIED,t.isMeModerator&&t.comment.status===t.CommentStatus.UNVERIFIED,t.isMeModerator&&t.comment.status===t.CommentStatus.CLAIM,t.isMeModerator&&t.comment.visibilityStatus===t.VisibilityStatus.PRIVATE,t.isMeModerator&&t.comment.visibilityStatus===t.VisibilityStatus.DELETED,t.comment.isErased)),n(e,5,0,n(e,6,0,"url("+t.comment.owner.pictureUrl+")")),n(e,14,0,t.isMeModerator),n(e,16,0,t.comment.owner.subscription),n(e,21,0,t.comment.attributes.answer),n(e,23,0,t.comment.attributes.useful&&!t.comment.attributes.answer),n(e,25,0,t.isMeAuthorized&&!t.comment.isErased),n(e,27,0,!t.isEditing),n(e,29,0,t.isEditing),n(e,31,0,!t.isEditing),n(e,33,0,t.comment.childrenComments&&t.comment.childrenComments.length>0),n(e,35,0,t.replyData)},function(n,e){var t=e.component;n(e,4,0,t.userProfileHref),n(e,9,0,t.userProfileHref),n(e,10,0,t.comment.owner.displayName),n(e,12,0,t.comment.owner.level,t.comment.owner.city?", "+t.comment.owner.city:""),n(e,19,0,t.localizedTime)})}var Wn=t("uB8/"),Qn=t("MVCs"),Yn=t("s34m"),Jn=t("VbCB"),Xn=t("oF3d"),Zn=function(){function n(n,e,t,l,i,o,u){this.logger=n,this.router=e,this.elementRef=t,this.pageNavigationService=l,this.statiscticService=i,this.commentsWebsocketService=o,this.commentsService=u,this.ELEMENT_ANCHOR="discussion",this.CommentsOrder=Yn.a,this.defaultOrder=Yn.a.CREATED_TIME_DESC,this.subscriptionsToClose=[],this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnChanges=function(n){this.clearComments(),this.isComponentInitialized&&this.initialCommentLoad(this.defaultOrder)},n.prototype.ngOnInit=function(){var n=this;this.subscriptionsToClose.push(this.commentsService.comments$.subscribe(function(e){return n.comments=e})),this.subscriptionsToClose.push(this.commentsService.commentsCount$.subscribe(function(e){return n.commentsCount=e})),this.subscriptionsToClose.push(this.commentsService.isMoreAvailable$.subscribe(function(e){return n.isMoreAvailable=e})),this.subscriptionsToClose.push(this.commentsService.viewRequest$.subscribe(function(e){return n.commentsViewRequest=e})),this.subscriptionsToClose.push(this.commentsService.animationEnabled$.subscribe(function(e){return n.isAnimationEnabled=e})),this.statiscticService.setCurrentCommentsBlock(this.elementRef.nativeElement),this.initialCommentLoad(this.defaultOrder),this.isComponentInitialized=!0},n.prototype.initialCommentLoad=function(n){var e=this,t=new Jn.a(n,10);this.commentsService.initCommentLoad(t,this.discussion).subscribe(function(){return e.setAnchorToCommentsBlock()}),this.commentsWebsocketService.initWebsocketCommentOperations(),this.commentsService.loadCommentsCount()},n.prototype.setAnchorToCommentsBlock=function(){this.pageNavigationService.addVirtualAnchor(this.ELEMENT_ANCHOR,this.elementRef.nativeElement)},n.prototype.loadMoreComments=function(){var n=this;if(this.isLoading=!0,this.commentsViewRequest.order!==Yn.a.POPULAR)this.commentsService.loadMoreComments().subscribe(function(){return n.isLoading=!1});else{var e=new Jn.a(Yn.a.POPULAR,this.commentsViewRequest.limit+10);this.commentsService.initCommentLoad(e,this.discussion).subscribe(function(){return n.isLoading=!1})}},n.prototype.clearComments=function(){this.commentsWebsocketService.removeAllTopicSubscriptions(),this.commentsService.clearCommentsSource(),this.pageNavigationService.removeVirtualAnchor(this.ELEMENT_ANCHOR)},n.prototype.ngOnDestroy=function(){this.clearComments(),this.subscriptionsToClose.forEach(function(n){return n.unsubscribe()}),this.statiscticService.setCurrentCommentsBlock(null)},n}(),ne=t("ZYCi"),ee=l["\u0275crt"]({encapsulation:0,styles:[[".tabs[_ngcontent-%COMP%]{align-self:flex-end;margin-bottom:-1px;border-bottom:0;box-shadow:none}.comments-head[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #42637c;padding:0;margin:0 0 30px;color:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.comments-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .comments-head__title[_ngcontent-%COMP%]{display:inline-block;margin:0;padding:13px 0 14px;line-height:1;font-size:14px;font-weight:600}.comment-layout[_ngcontent-%COMP%]{margin-top:30px}@media (max-width:575px){.comments-head[_ngcontent-%COMP%]   .comments-head__title[_ngcontent-%COMP%], .comments-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:block;text-align:center;font-size:13px}}.light[_nghost-%COMP%]   .comments-head[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comments-head[_ngcontent-%COMP%]{color:#172b53;border-bottom:1px solid #7a869a}"]],data:{animation:[{type:7,name:"flyInOut",definitions:[{type:0,name:"on",styles:{type:6,styles:{},offset:null},options:void 0},{type:1,expr:"void => on",animation:[{type:6,styles:{height:"0px",transform:"scale(1, 0)",opacity:0,marginTop:0,paddingBottom:0,paddingTop:0},offset:null},{type:4,styles:null,timings:"0.3s"}],options:null},{type:1,expr:"on => void",animation:[{type:4,styles:{type:6,styles:{height:"0px",transform:"scale(1, 0)",opacity:0,marginTop:0,paddingBottom:0,paddingTop:0},offset:null},timings:"0.3s"}],options:null}],options:{}}]}});function te(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"div",[["class","no-content"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","no-content__head"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"jr-icon",[["name","common-comments"]],null,null,null,i.b,i.a)),l["\u0275did"](3,114688,null,0,o.a,[],{name:[0,"name"]},null),(n()(),l["\u0275eld"](4,0,null,null,2,"div",[["class","no-content__body"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,"span",[["class","text-uppercase"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u0423 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0435\u0449\u0435 \u043d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"]))],function(n,e){n(e,3,0,"common-comments")},null)}function le(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","comment-layout"]],[[24,"@flyInOut",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"jr-comment",[],null,null,null,$n,wn)),l["\u0275did"](2,245760,null,0,hn,[s.a,gn.a,I.a,H.a,B.a,x.a],{comment:[0,"comment"]},null)],function(n,e){n(e,2,0,e.context.$implicit)},function(n,e){n(e,0,0,e.component.isAnimationEnabled?"on":"off")})}function ie(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","text-center comments-more"]],[[24,"@flyInOut",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,6,"button",[["class","button button--info button--md"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.loadMoreComments()&&l),l},null,null)),(n()(),l["\u0275eld"](2,0,null,null,4,"div",[["class","button__icon"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,3,"jr-icon",[["name","common-reload"]],null,null,null,i.b,i.a)),l["\u0275did"](4,278528,null,0,u.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](5,{spinning:0}),l["\u0275did"](6,114688,null,0,o.a,[],{name:[0,"name"]},null),(n()(),l["\u0275ted"](-1,null,[" \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435 "]))],function(n,e){n(e,4,0,n(e,5,0,e.component.isLoading)),n(e,6,0,"common-reload")},function(n,e){n(e,0,0,e.component.isAnimationEnabled?"on":"off")})}function oe(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,19,"div",[["class","comments-head d-sm-flex justify-content-sm-between"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"div",[["class","comments-head__title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](2,null,["\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 ",""])),(n()(),l["\u0275eld"](3,0,null,null,16,"div",[["class","tabs tabs--small d-flex justify-content-center justify-content-sm-end"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,15,"ul",[["class","tabs__list"],["role","tablist"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,4,"li",[["class","tabs__item"]],null,null,null,null,null)),l["\u0275did"](6,278528,null,0,u.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](7,{"tabs__item--active":0}),(n()(),l["\u0275eld"](8,0,null,null,1,"span",[["class","tabs__button"]],null,[[null,"click"]],function(n,e,t){var l=!0,i=n.component;return"click"===e&&(l=!1!==i.initialCommentLoad(i.CommentsOrder.POPULAR)&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435"])),(n()(),l["\u0275eld"](10,0,null,null,4,"li",[["class","tabs__item"]],null,null,null,null,null)),l["\u0275did"](11,278528,null,0,u.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](12,{"tabs__item--active":0}),(n()(),l["\u0275eld"](13,0,null,null,1,"span",[["class","tabs__button"]],null,[[null,"click"]],function(n,e,t){var l=!0,i=n.component;return"click"===e&&(l=!1!==i.initialCommentLoad(i.CommentsOrder.CREATED_TIME_DESC)&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u043d\u043e\u0432\u044b\u0435"])),(n()(),l["\u0275eld"](15,0,null,null,4,"li",[["class","tabs__item"]],null,null,null,null,null)),l["\u0275did"](16,278528,null,0,u.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](17,{"tabs__item--active":0}),(n()(),l["\u0275eld"](18,0,null,null,1,"span",[["class","tabs__button"]],null,[[null,"click"]],function(n,e,t){var l=!0,i=n.component;return"click"===e&&(l=!1!==i.initialCommentLoad(i.CommentsOrder.CREATED_TIME_ASC)&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0441\u0442\u0430\u0440\u044b\u0435"])),(n()(),l["\u0275eld"](20,0,null,null,7,"div",[["class","comments vertical-gutter-bottom"]],null,null,null,null,null)),(n()(),l["\u0275eld"](21,0,null,null,2,"div",[["class","comment-layout"]],null,null,null,null,null)),(n()(),l["\u0275eld"](22,0,null,null,1,"jr-my-reply",[],null,null,null,Pn,On)),l["\u0275did"](23,245760,null,0,bn,[s.a,H.a,I.a],{minHeight:[0,"minHeight"],previewEditor:[1,"previewEditor"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,te)),l["\u0275did"](25,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,le)),l["\u0275did"](27,278528,null,0,u.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,ie)),l["\u0275did"](29,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,6,0,"tabs__item",n(e,7,0,t.commentsViewRequest.order===t.CommentsOrder.POPULAR)),n(e,11,0,"tabs__item",n(e,12,0,t.commentsViewRequest.order===t.CommentsOrder.CREATED_TIME_DESC)),n(e,16,0,"tabs__item",n(e,17,0,t.commentsViewRequest.order===t.CommentsOrder.CREATED_TIME_ASC)),n(e,23,0,180,!0),n(e,25,0,void 0!==t.comments&&0===t.comments.length),n(e,27,0,t.comments),n(e,29,0,t.isMoreAvailable)},function(n,e){var t=e.component;n(e,2,0,void 0===t.commentsCount?"":"("+t.commentsCount+")")})}var ue=t("YquS"),se=t("GXOz");t.d(e,"b",function(){return re}),t.d(e,"c",function(){return ce}),t.d(e,"a",function(){return de});var re=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;width:100%;padding-top:3px;background:0 0}jr-comments-main[_ngcontent-%COMP%]{display:block;max-width:760px;margin-left:auto;margin-right:auto;padding-bottom:25px}"]],data:{}});function ae(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","share-and-rating"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,6,"div",[["class","share-and-rating__container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,2,"div",[["class","share-and-rating__share"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"jr-sharing",[],null,null,null,d,c)),l["\u0275did"](4,245760,null,0,a,[s.a,l.PLATFORM_ID,u.DOCUMENT,r.a],null,null),(n()(),l["\u0275eld"](5,0,null,null,2,"div",[["class","share-and-rating__rating"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,1,"jr-likes-panel",[],null,null,null,k,y)),l["\u0275did"](7,770048,null,0,E,[s.a,I.a,h.a],{discussion:[0,"discussion"]},null)],function(n,e){var t=e.component;n(e,4,0),n(e,7,0,t.discussion)},null)}function ce(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,ae)),l["\u0275did"](1,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](2,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"jr-comments-main",[],null,null,null,oe,ee)),l["\u0275did"](4,770048,null,0,Zn,[s.a,ne.m,l.ElementRef,Wn.a,Qn.a,Xn.a,H.a],{discussion:[0,"discussion"],defaultOrder:[1,"defaultOrder"]},null)],function(n,e){var t=e.component;n(e,1,0,!t.onlyComments),n(e,4,0,t.discussion,t.defaultCommentsOrder)},null)}var de=l["\u0275ccf"]("jr-discussion",ue.a,function(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"jr-discussion",[],null,null,null,ce,re)),l["\u0275did"](1,770048,null,0,ue.a,[s.a,l.PLATFORM_ID,u.DOCUMENT,l.ElementRef,l.Renderer2,ne.a,B.a,H.a,V.a,se.a],null,null)],function(n,e){n(e,1,0)},null)},{discussion:"discussion",discussionTopic:"discussionTopic",onlyComments:"onlyComments",defaultCommentsOrder:"defaultCommentsOrder",showSubscriptionLabels:"showSubscriptionLabels"},{onCommentAdded:"onCommentAdded",onCommentDeleted:"onCommentDeleted"},[])},"9fSo":function(n,e,t){"use strict";var l;t.d(e,"a",function(){return l}),function(n){n.UNKNOWN="UNKNOWN",n.USER="USER",n.QUEST="QUEST",n.LECTURE="LECTURE",n.TASK="TASK",n.VIDEO="VIDEO",n.GROUP="GROUP",n.POST="POST",n.ARTICLE="ARTICLE",n.STORY="STORY",n.PAGE="PAGE",n.QUESTION="QUESTION",n.QUIZ="QUIZ"}(l||(l={}))},"9uU2":function(n,e,t){"use strict";t.d(e,"a",function(){return o}),t.d(e,"b",function(){return L});var l=t("CcnG"),i=(t("nciF"),t("Ip0R")),o=(t("7LN8"),t("gIcY"),t("sdDj"),t("P3jN"),l["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"panelState",definitions:[{type:0,name:"hidden",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"visible => hidden",animation:{type:4,styles:null,timings:"400ms ease-in"},options:null},{type:1,expr:"hidden => visible",animation:{type:4,styles:null,timings:"400ms ease-out"},options:null}],options:{}}]}}));function u(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"option",[],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,["",""]))],null,function(n,e){n(e,1,0,e.component.placeholder)})}function s(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"option",[],[[8,"value",0],[8,"selected",0]],null,null,null,null)),(n()(),l["\u0275ted"](1,null,["",""]))],null,function(n,e){n(e,0,0,e.context.$implicit.value,e.component.selectedOption==e.context.$implicit),n(e,1,0,e.context.$implicit.label)})}function r(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"optgroup",[],[[1,"label",0]],null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,s)),l["\u0275did"](2,278528,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,e){n(e,2,0,e.context.$implicit.items)},function(n,e){n(e,0,0,e.context.$implicit.label)})}function a(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,r)),l["\u0275did"](2,278528,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275eld"](3,0,null,null,0,"optgroup",[],null,null,null,null,null))],function(n,e){n(e,2,0,e.component.options)},null)}function c(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"option",[],[[8,"value",0],[8,"selected",0]],null,null,null,null)),(n()(),l["\u0275ted"](1,null,["",""]))],null,function(n,e){n(e,0,0,e.context.$implicit.value,e.component.selectedOption==e.context.$implicit),n(e,1,0,e.context.$implicit.label)})}function d(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,c)),l["\u0275did"](2,278528,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275and"](0,null,null,0))],function(n,e){n(e,2,0,e.component.options)},null)}function m(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","ui-helper-hidden-accessible"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,6,"select",[["aria-hidden","true"],["tabindex","-1"]],[[8,"required",0],[1,"name",0],[1,"aria-label",0]],null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,u)),l["\u0275did"](3,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,a)),l["\u0275did"](5,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,d)),l["\u0275did"](7,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,3,0,t.placeholder),n(e,5,0,t.group),n(e,7,0,!t.group)},function(n,e){var t=e.component;n(e,1,0,t.required,t.name,t.selectedOption?t.selectedOption.label:" ")})}function p(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,["",""]))],null,function(n,e){n(e,1,0,e.component.label||"empty")})}function g(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function f(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,7,"label",[],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](2,{"ui-dropdown-label ui-inputtext ui-corner-all":0,"ui-dropdown-label-empty":1}),(n()(),l["\u0275and"](16777216,null,null,1,null,p)),l["\u0275did"](4,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,2,null,g)),l["\u0275did"](6,540672,null,0,i.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l["\u0275pod"](7,{$implicit:0})],function(n,e){var t=e.component;n(e,1,0,n(e,2,0,!0,null==t.label||0===t.label.length)),n(e,4,0,!t.selectedItemTemplate),n(e,6,0,n(e,7,0,t.selectedOption),t.selectedItemTemplate)},null)}function h(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"label",[],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](2,{"ui-dropdown-label ui-inputtext ui-corner-all ui-placeholder":0,"ui-dropdown-label-empty":1}),(n()(),l["\u0275ted"](3,null,["",""]))],function(n,e){var t=e.component;n(e,1,0,n(e,2,0,!0,null==t.placeholder||0===t.placeholder.length))},function(n,e){n(e,3,0,e.component.placeholder||"empty")})}function C(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,[[6,0],["editableInput",1]],null,0,"input",[["class","ui-dropdown-label ui-inputtext ui-corner-all"],["type","text"]],[[1,"aria-label",0],[8,"disabled",0],[1,"placeholder",0]],[[null,"click"],[null,"input"],[null,"focus"],[null,"blur"]],function(n,e,t){var l=!0,i=n.component;return"click"===e&&(l=!1!==i.onEditableInputClick(t)&&l),"input"===e&&(l=!1!==i.onEditableInputChange(t)&&l),"focus"===e&&(l=!1!==i.onEditableInputFocus(t)&&l),"blur"===e&&(l=!1!==i.onInputBlur(t)&&l),l},null,null))],null,function(n,e){var t=e.component;n(e,0,0,t.selectedOption?t.selectedOption.label:" ",t.disabled,t.placeholder)})}function v(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"i",[["class","ui-dropdown-clear-icon pi pi-times"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.clear(t)&&l),l},null,null))],null,null)}function b(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","ui-dropdown-filter-container"]],null,[[null,"input"],[null,"click"]],function(n,e,t){var l=!0;return"input"===e&&(l=!1!==n.component.onFilter(t)&&l),"click"===e&&(l=!1!==t.stopPropagation()&&l),l},null,null)),(n()(),l["\u0275eld"](1,0,[[4,0],["filter",1]],null,0,"input",[["autocomplete","off"],["class","ui-dropdown-filter ui-inputtext ui-widget ui-state-default ui-corner-all"],["type","text"]],[[1,"placeholder",0]],[[null,"keydown.enter"],[null,"keydown"]],function(n,e,t){var l=!0,i=n.component;return"keydown.enter"===e&&(l=!1!==t.preventDefault()&&l),"keydown"===e&&(l=!1!==i.onKeydown(t)&&l),l},null,null)),(n()(),l["\u0275eld"](2,0,null,null,0,"span",[["class","ui-dropdown-filter-icon pi pi-search"]],null,null,null,null,null))],null,function(n,e){n(e,1,0,e.component.filterPlaceholder)})}function O(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,["",""]))],null,function(n,e){n(e,1,0,e.parent.context.$implicit.label||"empty")})}function _(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function M(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function I(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"li",[["class","ui-dropdown-item-group"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,O)),l["\u0275did"](2,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,2,null,_)),l["\u0275did"](4,540672,null,0,i.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l["\u0275pod"](5,{$implicit:0}),(n()(),l["\u0275and"](16777216,null,null,2,null,M)),l["\u0275did"](7,540672,null,0,i.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l["\u0275pod"](8,{$implicit:0,selectedOption:1}),(n()(),l["\u0275and"](0,null,null,0))],function(n,e){var t=e.component;n(e,2,0,!t.groupTemplate),n(e,4,0,n(e,5,0,e.context.$implicit),t.groupTemplate),n(e,7,0,n(e,8,0,e.context.$implicit.items,t.selectedOption),l["\u0275nov"](e.parent.parent,5))},null)}function S(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,I)),l["\u0275did"](2,278528,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275and"](0,null,null,0))],function(n,e){n(e,2,0,e.component.optionsToDisplay)},null)}function E(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function y(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,2,null,E)),l["\u0275did"](2,540672,null,0,i.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l["\u0275pod"](3,{$implicit:0,selectedOption:1}),(n()(),l["\u0275and"](0,null,null,0))],function(n,e){var t=e.component;n(e,2,0,n(e,3,0,t.optionsToDisplay,t.selectedOption),l["\u0275nov"](e.parent,5))},null)}function T(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,["",""]))],null,function(n,e){n(e,1,0,e.parent.context.$implicit.label||"empty")})}function P(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function w(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,7,"li",[],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.onItemClick(t,n.context.$implicit)&&l),l},null,null)),l["\u0275did"](1,278528,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](2,{"ui-dropdown-item ui-corner-all":0,"ui-state-highlight":1,"ui-dropdown-item-empty":2}),(n()(),l["\u0275and"](16777216,null,null,1,null,T)),l["\u0275did"](4,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,2,null,P)),l["\u0275did"](6,540672,null,0,i.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l["\u0275pod"](7,{$implicit:0})],function(n,e){var t=e.component;n(e,1,0,n(e,2,0,!0,e.parent.context.selectedOption==e.context.$implicit,!e.context.$implicit.label||0===e.context.$implicit.label.length)),n(e,4,0,!t.itemTemplate),n(e,6,0,n(e,7,0,e.context.$implicit),t.itemTemplate)},null)}function R(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,w)),l["\u0275did"](1,278528,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275and"](0,null,null,0))],function(n,e){n(e,1,0,e.context.$implicit)},null)}function k(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,["",""]))],null,function(n,e){n(e,1,0,e.component.emptyFilterMessage)})}function x(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,7,"ul",[["class","ui-dropdown-items ui-dropdown-list ui-widget-content ui-widget ui-corner-all ui-helper-reset"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,S)),l["\u0275did"](2,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,y)),l["\u0275did"](4,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](0,[["itemslist",2]],null,0,null,R)),(n()(),l["\u0275and"](16777216,null,null,1,null,k)),l["\u0275did"](7,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,2,0,t.group),n(e,4,0,!t.group),n(e,7,0,t.filter&&t.optionsToDisplay&&0===t.optionsToDisplay.length)},null)}function L(n){return l["\u0275vid"](0,[l["\u0275qud"](402653184,1,{containerViewChild:0}),l["\u0275qud"](402653184,2,{panelViewChild:0}),l["\u0275qud"](402653184,3,{itemsWrapperViewChild:0}),l["\u0275qud"](671088640,4,{filterViewChild:0}),l["\u0275qud"](402653184,5,{focusViewChild:0}),l["\u0275qud"](671088640,6,{editableInputViewChild:0}),(n()(),l["\u0275eld"](6,0,[[1,0],["container",1]],null,26,"div",[],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.onMouseclick(t)&&l),l},null,null)),l["\u0275did"](7,278528,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](8,{"ui-dropdown ui-widget ui-state-default ui-corner-all ui-helper-clearfix":0,"ui-state-disabled":1,"ui-dropdown-open":2,"ui-state-focus":3,"ui-dropdown-clearable":4}),l["\u0275did"](9,278528,null,0,i.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,m)),l["\u0275did"](11,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](12,0,null,null,1,"div",[["class","ui-helper-hidden-accessible"]],null,null,null,null,null)),(n()(),l["\u0275eld"](13,0,[[5,0],["in",1]],null,0,"input",[["readonly",""],["role","listbox"],["type","text"]],[[1,"id",0],[1,"aria-label",0],[8,"disabled",0],[1,"tabindex",0],[1,"autofocus",0]],[[null,"focus"],[null,"blur"],[null,"keydown"]],function(n,e,t){var l=!0,i=n.component;return"focus"===e&&(l=!1!==i.onInputFocus(t)&&l),"blur"===e&&(l=!1!==i.onInputBlur(t)&&l),"keydown"===e&&(l=!1!==i.onKeydown(t)&&l),l},null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,f)),l["\u0275did"](15,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,h)),l["\u0275did"](17,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,C)),l["\u0275did"](19,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,v)),l["\u0275did"](21,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](22,0,null,null,2,"div",[["class","ui-dropdown-trigger ui-state-default ui-corner-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](23,0,null,null,1,"span",[["class","ui-dropdown-trigger-icon ui-clickable"]],null,null,null,null,null)),l["\u0275did"](24,278528,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),l["\u0275eld"](25,0,[[2,0],["panel",1]],null,7,"div",[],[[24,"@panelState",0],[4,"display",null]],null,null,null,null)),l["\u0275did"](26,278528,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275did"](27,278528,null,0,i.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,b)),l["\u0275did"](29,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](30,0,[[3,0],["itemswrapper",1]],null,2,"div",[["class","ui-dropdown-items-wrapper"]],[[4,"max-height",null]],null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,x)),l["\u0275did"](32,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,7,0,t.styleClass,n(e,8,0,!0,t.disabled,t.panelVisible,t.focused,t.showClear&&!t.disabled)),n(e,9,0,t.style),n(e,11,0,t.autoWidth),n(e,15,0,!t.editable&&null!=t.label),n(e,17,0,!t.editable&&null==t.label),n(e,19,0,t.editable),n(e,21,0,null!=t.value&&t.showClear&&!t.disabled),n(e,24,0,"ui-dropdown-trigger-icon ui-clickable",t.dropdownIcon),n(e,26,0,t.panelStyleClass,"ui-dropdown-panel ui-widget-content ui-corner-all ui-shadow"),n(e,27,0,t.panelStyle),n(e,29,0,t.filter),n(e,32,0,!t.lazy||t.panelVisible)},function(n,e){var t=e.component;n(e,13,0,t.inputId,t.selectedOption?t.selectedOption.label:" ",t.disabled,t.tabindex,t.autofocus),n(e,25,0,t.panelVisible?"visible":"hidden",t.panelVisible?"block":"none"),n(e,30,0,t.scrollHeight||"auto")})}},Bdkt:function(n,e,t){"use strict"},Bo09:function(n,e,t){"use strict";t.d(e,"a",function(){return l}),t("7X0/");var l=function(){function n(n){this.elementRef=n,this.subscriptionsToClose=[]}return n.prototype.ngOnInit=function(){var n=this;this.subscriptionsToClose.push(this.dropdownMenuHandler.$menuToggled.subscribe(function(e){return n.toggleMenu(e)}))},n.prototype.toggleMenu=function(n){this.dropdownMenuHandler.targetElement=n.target,this.dropdownMenuHandler.buttonElement=this.elementRef.nativeElement,this.dropdownMenuHandler.isMenuShown=!this.dropdownMenuHandler.isMenuShown},n.prototype.ngOnDestroy=function(){this.subscriptionsToClose.forEach(function(n){return n.unsubscribe()}),this.dropdownMenuHandler.destroy()},n}()},HgFO:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(n){return n[n.BOLD=0]="BOLD",n[n.ITALIC=1]="ITALIC",n[n.UNDERLINE=2]="UNDERLINE",n[n.STRIKE_THROUGH=3]="STRIKE_THROUGH",n[n.INSERT_URL=4]="INSERT_URL",n[n.INSERT_IMAGE=5]="INSERT_IMAGE",n[n.CODE=6]="CODE",n}({})},I7SJ:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){function n(){}return n.update=function(n,e){n.count=e.count,n.status=e.status},n}()},LYuz:function(n,e,t){"use strict";t.d(e,"a",function(){return l}),t("oilu"),t("gFDQ"),t("y2HU");var l=function(){function n(n,e,t){this.logger=n,this.exceptionService=e,this.externalNotificationAdapter=t,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.handleRequestErrorInfo=function(n,e){var t;switch(this.logger.error("\u0421\u0435\u0440\u0432\u0435\u0440 \u0432\u0435\u0440\u043d\u0443\u043b \u043e\u0448\u0438\u0431\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0430: ",n),n.code){case"INVALID_ARGUMENT":t="\u041e\u0448\u0438\u0431\u043e\u0447\u043d\u044b\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442";break;case"SENDING_COMMENT_IS_FORBIDDEN":t="\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c";break;case"LEVEL_0_USERS_CANNOT_SEND_COMMENTS":t="\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 0-\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438";break;case"COMMENTS_DAILY_LIMIT_IS_EXCEEDED":t="\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d \u0434\u043d\u0435\u0432\u043d\u043e\u0439 \u043b\u0438\u043c\u0438\u0442 \u043d\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 (\u043b\u0438\u043c\u0438\u0442 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0443\u0440\u043e\u0432\u043d\u044f)";break;case"ACCESS_RULE_VIOLATION_MUTE":t=n.message;break;case"AUTHORIZATION_ERROR":t="\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438";break;default:return void this.exceptionService.handleRequestErrorInfo(n,e)}this.externalNotificationAdapter.showError(t,e)},n}()},MLWW:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(n){return n[n.THUMBNAIL_LEFT=0]="THUMBNAIL_LEFT",n[n.THUMBNAIL_RIGHT=1]="THUMBNAIL_RIGHT",n[n.SMALL=2]="SMALL",n[n.LARGE=3]="LARGE",n[n.FULL=4]="FULL",n}({})},MiBj:function(n,e,t){"use strict";var l;t.d(e,"a",function(){return l}),function(n){n.LIKE="LIKE",n.HOT="HOT",n.FOLLOW="FOLLOW",n.FAVORITE="FAVORITE",n.SOLUTION="SOLUTION",n.HELPFUL="HELPFUL",n.ARTICLE="ARTICLE",n.OSCAR="OSCAR"}(l||(l={})),function(n){n.values=function(){return e.map(function(n){return n.value})},n.getDisplayName=function(n){return e.find(function(e){return e.value===n}).displayName};var e=[{value:n.LIKE,displayName:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"},{value:n.HOT,displayName:"\u041e\u0447\u0435\u043d\u044c \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"},{value:n.FOLLOW,displayName:"\u0421\u043b\u0435\u0434\u0438\u0442\u044c"},{value:n.FAVORITE,displayName:"\u0412 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438"},{value:n.SOLUTION,displayName:"\u0420\u0435\u0448\u0435\u043d\u0438\u0435"},{value:n.HELPFUL,displayName:"\u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0439"},{value:n.ARTICLE,displayName:"\u0422\u044f\u043d\u0435\u0442 \u043d\u0430 \u0441\u0442\u0430\u0442\u044c\u044e"},{value:n.OSCAR,displayName:"\u0410\u0432\u0442\u043e\u0440 \u043f\u0438\u0448\u0438 \u0435\u0449\u0435"}]}(l||(l={}))},OTB5:function(n,e,t){"use strict";var l;t.d(e,"a",function(){return l}),function(n){n.UNVERIFIED="UNVERIFIED",n.VERIFIED="VERIFIED",n.CLAIM="CLAIM"}(l||(l={}))},"Pn+I":function(n,e,t){"use strict";var l=t("bG0t"),i=(t("J4K4"),t("gFDQ"),t("y2HU"),t("F/XL")),o=t("67Y/"),u=t("9Z1F"),s=t("oHtu");t("3P9I"),t("zFH7"),t("LYuz"),t.d(e,"a",function(){return r});var r=function(){function n(n,e,t,l,i,o){this.logger=n,this.dateTimeService=e,this.discussionBackendClient=t,this.discussionExceptionService=l,this.externalNotificationAdapter=i,this.commentsService=o,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.sendEditRequest=function(n,e,t,l){var s=this,r=new function(n,e,t){this.message=n,this.status=e,this.visibilityStatus=t}(e,t,l);return this.discussionBackendClient.adminUpdateComment(n.id,r).pipe(Object(o.a)(function(e){return n.adminUpdate(e),s.logger.info("\u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",n),!0}),Object(u.a)(function(n){return s.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"),Object(i.a)(!1)}))},n.prototype.sendDeleteRequest=function(n){var e=this;return this.discussionBackendClient.adminDeleteComment(n.id).pipe(Object(o.a)(function(){return n.visibilityStatus=l.a.DELETED,e.logger.info("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043f\u043e\u043c\u0435\u0447\u0435\u043d \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f",n),!0}),Object(u.a)(function(n){return e.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"),Object(i.a)(!1)}))},n.prototype.deleteAllUserComments=function(n,e){var t=this;this.discussionBackendClient.deleteAllUserComments(n.id,s.a.MODERATOR_ERASE_COMMENT_MESSAGE,e).subscribe(function(){var l="\u0412\u0441\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f "+n.displayName+" \u0437\u0430 "+(e?e+" \u0434\u043d\u0435\u0439":"\u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f")+" \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u044b \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f";t.externalNotificationAdapter.showSuccess(l),t.logger.info(l)},function(n){t.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432")})},n.prototype.addUserToMutedList=function(n){var e=this,t=new function(){};t.id=n.id,t.message="\u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u043c \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0431\u0449\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0430\u0439\u0442\u0435",t.endDate=1e3*this.dateTimeService.getMomentObject().add(3,"days").unix(),this.discussionBackendClient.addUserToMutedList(t).subscribe(function(){var t="\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e "+n.displayName+"\u0431\u044b\u043b\u043e \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u043d\u0430 3 \u0434\u043d\u044f";e.externalNotificationAdapter.showSuccess(t),e.logger.info(t)},function(n){e.discussionExceptionService.handleRequestErrorInfo(n)})},n}()},TcM7:function(n,e,t){"use strict";var l;t.d(e,"a",function(){return l}),function(n){n.DISLIKE="DISLIKE",n.WRONG="WRONG",n.SPAM="SPAM",n.ABUSE="ABUSE",n.FOUL="FOUL",n.TROLLING="TROLLING",n.OFFTOPIC="OFFTOPIC",n.DUPLICATE="DUPLICATE",n.DIRTY="DIRTY",n.OUTDATED="OUTDATED",n.BORING="BORING",n.UNCLEAR="UNCLEAR",n.HARD="HARD",n.EASY="EASY",n.FAKE="FAKE",n.SHAM="SHAM",n.AWFUL="AWFUL"}(l||(l={})),function(n){n.values=function(){return e.map(function(n){return n.value})},n.getDisplayName=function(n){return e.find(function(e){return e.value===n}).displayName};var e=[{value:n.DISLIKE,displayName:"\u041d\u0435 \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"},{value:n.WRONG,displayName:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442"},{value:n.SPAM,displayName:"\u0421\u043f\u0430\u043c/\u0420\u0435\u043a\u043b\u0430\u043c\u0430"},{value:n.ABUSE,displayName:"\u041e\u0441\u043a\u043e\u0440\u0431\u043b\u0435\u043d\u0438\u0435"},{value:n.FOUL,displayName:"\u041d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b"},{value:n.TROLLING,displayName:"\u0422\u0440\u043e\u043b\u043b\u0438\u043d\u0433"},{value:n.OFFTOPIC,displayName:"\u041f\u043e\u0441\u0442 \u043d\u0435 \u043f\u043e \u0442\u0435\u043c\u0435 \u0433\u0440\u0443\u043f\u043f\u044b"},{value:n.DUPLICATE,displayName:"\u0414\u0443\u0431\u043b\u0438\u043a\u0430\u0442/\u0423\u0436\u0435 \u0441\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u043b\u0438"},{value:n.DIRTY,displayName:"\u041f\u043b\u043e\u0445\u043e \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d"},{value:n.OUTDATED,displayName:"\u0423\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u0439"},{value:n.BORING,displayName:"\u0421\u043a\u0443\u0447\u043d\u043e"},{value:n.UNCLEAR,displayName:"\u041d\u0435\u043f\u043e\u043d\u044f\u0442\u043d\u043e"},{value:n.HARD,displayName:"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0441\u043b\u043e\u0436\u043d\u043e"},{value:n.EASY,displayName:"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043f\u0440\u043e\u0441\u0442\u043e"},{value:n.FAKE,displayName:"\u0424\u0435\u0439\u043a"},{value:n.SHAM,displayName:"\u041d\u0435 \u0432\u0435\u0440\u044e!"},{value:n.AWFUL,displayName:"\u041e\u0447\u0435\u043d\u044c \u043f\u043b\u043e\u0445\u043e/\u0423\u0436\u0430\u0441\u043d\u043e"}]}(l||(l={}))},"U+74":function(n,e,t){"use strict";t.d(e,"a",function(){return o});var l=t("9fSo"),i=(t("gFDQ"),t("Dy+N"),t("F/XL")),o=function(){function n(n,e){this.logger=n,this.meProfileService=e,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.setCurrentDiscussionInfo=function(n){this.currentDiscussionInfo=n},n.prototype.getDiscussionInfo=function(){return this.currentDiscussionInfo},n.prototype.getDiscussionTopicInfo=function(){return this.currentDiscussionTopicInfo},n.prototype.setDiscussionTopicInfo=function(n){this.currentDiscussionTopicInfo=n},n.prototype.isMeOwnerOfQuestionTopic=function(){return this.currentDiscussionInfo.type===l.a.QUESTION&&this.currentDiscussionTopicInfo?this.meProfileService.isCurrentUserHasId(this.currentDiscussionTopicInfo.userInfo.id):Object(i.a)(!1)},n}()},"U+aR":function(n,e,t){"use strict";t.d(e,"a",function(){return u}),t("gFDQ");var l=t("F/XL"),i=t("67Y/"),o=t("9Z1F"),u=(t("zFH7"),t("LYuz"),function(){function n(n,e,t,l){this.logger=n,this.router=e,this.discussionBackendClient=t,this.discussionExceptionService=l,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.resolve=function(n,e){var t=this,u=n.params.discussionId;return this.discussionBackendClient.loadDiscussionInfo(u).pipe(Object(i.a)(function(n){return t.logger.info("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u0434\u0438\u0441\u043a\u0443\u0441\u0441\u0438\u0438 "+u,n),n}),Object(o.a)(function(n){return t.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0438\u0441\u043a\u0443\u0441\u0441\u0438\u0438"),Object(l.a)(null)}))},n}())},"VF+C":function(n,e,t){"use strict";t.d(e,"a",function(){return l}),t("7X0/");var l=function(){function n(n,e){this.elementRef=n,this.changeDetector=e,this.menuPosition="auto",this.menuOffset="3px",this.display="block",this.height="auto",this.width="auto",this.zIndex="1000",this.visibility="hidden",this.position="fixed",this.left="0px",this.right="auto",this.top="0px",this.bottom="auto",this.offsetLeft="0",this.offsetRight="0",this.offsetTop="0",this.offsetBottom="0"}return n.prototype.ngAfterViewInit=function(){var n=this;setTimeout(function(){switch(n.menuPosition){case"bottomRight":n.onBottomRight();break;case"bottomLeft":n.onBottomLeft();break;case"topRight":n.onTopRight();break;case"topLeft":n.onTopLeft();break;case"leftBottom":n.onLeftBottom();break;default:n.adjustMenuPosition()}n.changeDetector.markForCheck()})},n.prototype.onBottomRight=function(){this.left="0px",this.right="auto",this.top="100%",this.bottom="auto",this.offsetTop=this.menuOffset,this.makeMenuVisible()},n.prototype.onBottomLeft=function(){this.left="auto",this.right="0px",this.top="100%",this.bottom="auto",this.offsetTop=this.menuOffset,this.makeMenuVisible()},n.prototype.onTopRight=function(){this.left="0px",this.right="auto",this.top="auto",this.bottom="100%",this.offsetBottom=this.menuOffset,this.makeMenuVisible()},n.prototype.onTopLeft=function(){this.left="auto",this.right="0px",this.top="auto",this.bottom="100%",this.offsetBottom=this.menuOffset,this.makeMenuVisible()},n.prototype.onLeftBottom=function(){this.left="auto",this.right="100%",this.top="0px",this.bottom="auto",this.offsetRight=this.menuOffset,this.makeMenuVisible()},n.prototype.makeMenuVisible=function(){this.position="absolute",this.visibility="visible"},n.prototype.adjustMenuPosition=function(){if("auto"===this.menuPosition){var n=this.dropdownMenuHandler.buttonElement.getBoundingClientRect(),e=this.elementRef.nativeElement.firstElementChild.getBoundingClientRect(),t=document.documentElement.scrollHeight,l=document.documentElement.scrollWidth,i=t-pageYOffset-n.bottom-10>e.height,o=l-pageXOffset-n.left-10>e.width;i?o?this.onBottomRight():this.onBottomLeft():o?this.onTopRight():this.onTopLeft()}},n.prototype.closeMenu=function(n){n.target!==this.dropdownMenuHandler.targetElement&&(this.dropdownMenuHandler.isMenuShown=!1)},n.prototype.closeContextMenu=function(n){this.closeMenu(n)},n}()},VbCB:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(n,e,t,l){this.order=n,this.limit=e,this.lastTimestamp=t,this.lastCommentId=l}},X3mJ:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){}},Y1Zv:function(n,e,t){"use strict";t.d(e,"a",function(){return s});var l=t("Ip0R"),i=(t("gFDQ"),t("K9Ia")),o=t("G5J1"),u=t("9Z1F"),s=function(){function n(n,e,t,l){this.logger=n,this.zone=e,this.platformId=t,this.httpClient=l,this.FACEBOOK_URL_PATH="https://graph.facebook.com/{url}",this.VKONTAKTE_URL_PATH="https://vk.com/share.php?act=count&index=1&url={url}",this.LINKEDIN_URL_PATH="https://www.linkedin.com/countserv/count/share?url={url}&callback=JSONP_CALLBACK",this.GOOGLE_URL_PATH="https://clients6.google.com/rpc",this.TWITTER_URL_PATH="https://opensharecount.com/count.json?url={url}",this.facebookCountSource=new i.a,this.facebookCount$=this.facebookCountSource.asObservable(),this.vkCountSource=new i.a,this.vkCount$=this.vkCountSource.asObservable(),this.linkedInCountSource=new i.a,this.linkedInCount$=this.linkedInCountSource.asObservable(),this.googleCountSource=new i.a,this.googleCount$=this.googleCountSource.asObservable(),this.twitterCountSource=new i.a,this.twitterCount$=this.twitterCountSource.asObservable(),this.logger.debug(this.constructor.name+" is created."),this.initVkShareCountFunction()}return n.prototype.updateAllSocialCounts=function(n){var e=this;this.zone.runOutsideAngular(function(){e.updateFbCount(n),e.updateVkCount(n),e.updateLiCount(n),e.updateGoogleCount(n),e.updateTwitterCount(n)})},n.prototype.updateFbCount=function(n){var e=this,t=this.FACEBOOK_URL_PATH.replace("{url}",n);this.httpClient.get(t).subscribe(function(n){e.facebookCountSource.next(n.share.share_count)})},n.prototype.updateVkCount=function(n){var e=this.VKONTAKTE_URL_PATH.replace("{url}",n);return this.httpClient.jsonp(e,"VK_Share").pipe(Object(u.a)(function(){return o.a})).subscribe()},n.prototype.updateLiCount=function(n){var e=this,t=this.LINKEDIN_URL_PATH.replace("{url}",n);this.httpClient.jsonp(t,"LinkedIn_Share").subscribe(function(n){e.linkedInCountSource.next(n.count)})},n.prototype.updateGoogleCount=function(n){var e=this,t=this.GOOGLE_URL_PATH.replace("{url}",n);this.httpClient.post(t,{method:"pos.plusones.get",id:n,params:{nolog:!0,id:n,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"}).subscribe(function(n){e.googleCountSource.next(n.result.metadata.globalCounts.count)})},n.prototype.updateTwitterCount=function(n){var e=this,t=this.TWITTER_URL_PATH.replace("{url}",n);this.httpClient.get(t).subscribe(function(n){e.twitterCountSource.next(n.count)})},n.prototype.initVkShareCountFunction=function(){var n=this;Object(l.isPlatformBrowser)(this.platformId)&&(window.VK={},window.VK.Share={},window.VK.Share.count=function(e,t){n.vkCountSource.next(t)})},n}()},YquS:function(n,e,t){"use strict";var l,i=t("Ip0R"),o=t("CcnG"),u=(t("Bdkt"),t("GXOz"),t("gFDQ"),t("s34m"));!function(n){n.OWNER_WITH_SUBSCRIPTION="OWNER_WITH_SUBSCRIPTION"}(l||(l={})),t("3P9I"),t("U+74"),t("y2HU"),t.d(e,"a",function(){return s});var s=function(){function n(n,e,t,l,i,s,r,a,c,d){this.logger=n,this.platformId=e,this.document=t,this.elementRef=l,this.renderer=i,this.route=s,this.discussionService=r,this.commentsService=a,this.externalNotificationAdapter=c,this.dayNightService=d,this.defaultCommentsOrder=u.a.CREATED_TIME_DESC,this.onCommentAdded=new o.EventEmitter,this.onCommentDeleted=new o.EventEmitter,this.subscriptionsToClose=[],this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnChanges=function(n){this.discussionService.setCurrentDiscussionInfo(this.discussion),this.discussionService.setDiscussionTopicInfo(this.discussionTopic)},n.prototype.ngOnInit=function(){var n=this;this.showSubscriptionLabels&&(this.commentsService.COMMENT_PROJECTION=l.OWNER_WITH_SUBSCRIPTION),this.route.data.subscribe(function(e){e.discussionInfo&&n.initDiscussionBlockAsWidget(e.discussionInfo)}),this.subscriptionsToClose.push(this.commentsService.commentAdding$.subscribe(function(){return n.onCommentAdded.next()})),this.subscriptionsToClose.push(this.commentsService.commentDeletion$.subscribe(function(){return n.onCommentDeleted.next()}))},n.prototype.initDiscussionBlockAsWidget=function(n){var e=this;this.discussion=n,this.discussionService.setCurrentDiscussionInfo(this.discussion),this.externalNotificationAdapter.sendNotificationsToExternalSite(),this.renderer.addClass(this.document.documentElement,"iframe"),Object(i.isPlatformBrowser)(this.platformId)&&this.enableSyncingHeightWithParent(),this.route.queryParamMap.subscribe(function(n){"sale"===n.get("layout")&&(e.onlyComments=!0,e.commentsService.COMMENT_PROJECTION=l.OWNER_WITH_SUBSCRIPTION,e.defaultCommentsOrder=u.a.POPULAR)})},n.prototype.enableSyncingHeightWithParent=function(){var n=this,e=window.frameElement,t=document.body;e&&(t.style.overflowY="hidden",setInterval(function(){n.lastWindowHeight!==n.elementRef.nativeElement.scrollHeight&&(n.lastWindowHeight=n.elementRef.nativeElement.scrollHeight,e.style.height=n.lastWindowHeight+"px")},200))},n.prototype.ngOnDestroy=function(){this.subscriptionsToClose.forEach(function(n){return n.unsubscribe()})},n}()},bG0t:function(n,e,t){"use strict";var l;t.d(e,"a",function(){return l}),function(n){n.UNKNOWN="UNKNOWN",n.RESTRICTED="RESTRICTED",n.PUBLIC="PUBLIC",n.PROTECTED="PROTECTED",n.PRIVATE="PRIVATE",n.DISABLED="DISABLED",n.DELETED="DELETED"}(l||(l={}))},hDTF:function(n,e,t){"use strict";var l;t.d(e,"a",function(){return l}),function(n){n.UNKNOWN="UNKNOWN",n.NEW="NEW",n.ACTIVE="ACTIVE",n.SOLVED="SOLVED",n.ARCHIVE="ARCHIVE",n.DUBLICATE="DUBLICATE",n.DELETED="DELETED"}(l||(l={})),function(n){n.values=function(){return e.map(function(n){return n.value})},n.getDisplayName=function(n){return e.find(function(e){return e.value===n}).displayName};var e=[{value:n.UNKNOWN,displayName:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"},{value:n.NEW,displayName:"\u041d\u043e\u0432\u044b\u0439"},{value:n.ACTIVE,displayName:"\u041e\u0431\u0441\u0443\u0436\u0434\u0430\u0435\u0442\u0441\u044f"},{value:n.SOLVED,displayName:"\u0420\u0435\u0448\u0435\u043d"},{value:n.ARCHIVE,displayName:"\u0417\u0430\u0431\u0440\u043e\u0448\u0435\u043d"},{value:n.DUBLICATE,displayName:"\u0414\u0443\u0431\u043b\u0438\u043a\u0430\u0442"},{value:n.DELETED,displayName:"\u0423\u0434\u0430\u043b\u0435\u043d"}]}(l||(l={}))},hPRa:function(n,e,t){"use strict";var l=t("CcnG"),i=function(){function n(){this.filesChangeEmitter=new l.EventEmitter}return n.prototype.onDrop=function(n){n.preventDefault();var e=n.dataTransfer.files;e.length>0&&this.filesChangeEmitter.emit(e)},n.prototype.allowDrop=function(n){n.preventDefault()},n}(),o=t("Ip0R");t("gIcY"),t("yOV5"),t("ucEb"),t.d(e,"a",function(){return u}),t.d(e,"b",function(){return d});var u=l["\u0275crt"]({encapsulation:0,styles:[[".drag-an-drop[_ngcontent-%COMP%]{display:block;background-color:#26272b;border:2px dashed #636366;text-align:center;font-size:14px;line-height:1.4;color:#7d7e7f;padding:40px 0;position:relative;-webkit-font-smoothing:antialiased}.drag-an-drop[_ngcontent-%COMP%]:hover{background-color:rgba(100,144,176,.2);border-color:#6490b0;color:#6490b0}.drag-an-drop[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:12px}.drag-an-drop[_ngcontent-%COMP%]   div.ico[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;text-align:center;font-size:20px;margin-right:10px}.inputfile[_ngcontent-%COMP%]{display:block;position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;filter:alpha(opacity=0);cursor:pointer}.preview-cover[_ngcontent-%COMP%]{display:block;width:100%;background-color:#213747;padding:8px 15px;border:1px solid #426179;text-align:center;position:relative}.preview-cover[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;width:auto;height:auto;max-width:100%;max-height:200px}.preview-cover[_ngcontent-%COMP%]   .button--danger[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:15px}.light[_nghost-%COMP%]   .drag-an-drop[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .drag-an-drop[_ngcontent-%COMP%]{background-color:#f7f9fb;border:2px dashed #bcc7d3;color:#7d7e7f}.light[_nghost-%COMP%]   .drag-an-drop[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .drag-an-drop[_ngcontent-%COMP%]:hover{background-color:#f7f9fb;border-color:#a1aab3;color:#6490b0}.light[_nghost-%COMP%]   .preview-cover[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .preview-cover[_ngcontent-%COMP%]{background-color:#f7f9fb;border:1px solid #a1aab3}"]],data:{}});function s(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","preview-cover"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"img",[["height","200"]],[[8,"src",4]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"button",[["class","button button--danger"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.clearImage()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"]))],null,function(n,e){n(e,1,0,e.component.imageUrl)})}function r(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"label",[["class","drag-an-drop"],["for","file"]],null,[[null,"jrDropFilesArea"],[null,"drop"],[null,"dragover"]],function(n,e,t){var i=!0,o=n.component;return"drop"===e&&(i=!1!==l["\u0275nov"](n,1).onDrop(t)&&i),"dragover"===e&&(i=!1!==l["\u0275nov"](n,1).allowDrop(t)&&i),"jrDropFilesArea"===e&&(i=!1!==o.onFilesAccept(t)&&i),i},null,null)),l["\u0275did"](1,16384,null,0,i,[],null,{filesChangeEmitter:"jrDropFilesArea"}),(n()(),l["\u0275eld"](2,0,null,null,0,"input",[["accept","image/*"],["class","inputfile"],["id","file"],["name","file"],["type","file"]],null,[[null,"change"]],function(n,e,t){var l=!0;return"change"===e&&(l=!1!==n.component.onFilesAccept(t.target.files)&&l),l},null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"div",[["class","ico"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,0,"span",[["class","icon-upload"]],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,[" "," "]))],null,function(n,e){n(e,5,0,e.component.labelText)})}function a(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","loader"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Loading..."]))],null,null)}function c(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","alert alert-danger"],["role","alert"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" \u0424\u0430\u0439\u043b "," \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u043c "]))],null,function(n,e){n(e,1,0,e.component.wrongFileDropped)})}function d(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,s)),l["\u0275did"](1,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,r)),l["\u0275did"](3,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,a)),l["\u0275did"](5,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,c)),l["\u0275did"](7,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,1,0,t.imageUrl),n(e,3,0,!t.imageUrl&&!t.isLoading),n(e,5,0,t.isLoading),n(e,7,0,t.wrongFileDropped)},null)}},ij4C:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){function n(){}return n.prototype.transform=function(e,t){return t[e%100>4&&e%100<20?2:n.CASES[e%10<5?e%10:5]]},n.CASES=[2,0,1,1,1,2],n}()},oF3d:function(n,e,t){"use strict";t.d(e,"a",function(){return o}),t("gFDQ"),t("Dy+N"),t("cLgh");var l=t("/PH2"),i=t("oHtu"),o=(t("3P9I"),t("U+74"),function(){function n(n,e,t,l,i){this.logger=n,this.meProfileService=e,this.websocketStompService=t,this.discussionService=l,this.commentsService=i,this.TOPIC_COMMENT_ADDED="/topic/discussion{discussionId}/comments/added",this.TOPIC_COMMENT_UPDATED="/topic/discussion{discussionId}/comments/updated",this.TOPIC_COMMENT_DELETED="/topic/discussion{discussionId}/comments/deleted",this.subscriptionsToTopics=[],this.logger.debug(this.constructor.name+" is created.")}return n.prototype.initWebsocketCommentOperations=function(){this.initCommentAdding(),this.initCommentUpdating(),this.initCommentDeleting()},n.prototype.removeAllTopicSubscriptions=function(){this.subscriptionsToTopics.forEach(function(n){return n.unsubscribe()}),this.subscriptionsToTopics=[]},n.prototype.initCommentAdding=function(){var n=this,e=this.TOPIC_COMMENT_ADDED.replace("{discussionId}",this.discussionService.getDiscussionInfo().id.toString()),t=this.websocketStompService.createSubscriptionToMessages(e,{}).pipe(Object(l.a)(this.meProfileService.getCurrentMeProfile())).subscribe(function(e){var t=i.a.of(e[0].body,e[1]);t.isUpdatedAsync=!0,n.commentsService.addComment(t)});this.subscriptionsToTopics.push(t)},n.prototype.initCommentUpdating=function(){var n=this,e=this.TOPIC_COMMENT_UPDATED.replace("{discussionId}",this.discussionService.getDiscussionInfo().id.toString()),t=this.websocketStompService.createSubscriptionToMessages(e,{}).subscribe(function(e){n.commentsService.getCommentById(e.body.id).subscribe(function(n){n&&(n.update(e.body),n.isUpdatedAsync=!0)})});this.subscriptionsToTopics.push(t)},n.prototype.initCommentDeleting=function(){var n=this,e=this.TOPIC_COMMENT_DELETED.replace("{discussionId}",this.discussionService.getDiscussionInfo().id.toString()),t=this.websocketStompService.createSubscriptionToMessages(e,{}).subscribe(function(e){n.commentsService.getCommentById(e.body).subscribe(function(e){e&&n.commentsService.deleteComment(e)})});this.subscriptionsToTopics.push(t)},n}())},oHtu:function(n,e,t){"use strict";t.d(e,"a",function(){return i});var l=t("I7SJ"),i=function(){function n(){}return n.of=function(e,t){var l=new n;return l.id=e.id,l.message=e.message,l.time=e.time,l.owner=e.owner,l.answerTo=e.answerTo,l.parentCommentId=e.parentCommentId,l.status=e.status,l.likes=e.likes,l.attributes=e.attributes,l.visibilityStatus=e.visibilityStatus,l.childrenComments=e.childrenComments?e.childrenComments.map(function(e){return n.of(e,t)}):[],l.isMeOwner=t?t.id===e.owner.id:null,l.isErased=e.message===n.AUTHOR_ERASE_COMMENT_MESSAGE||e.message===n.MODERATOR_ERASE_COMMENT_MESSAGE,l},n.prototype.update=function(e){this.message=e.message,l.a.update(this.likes,e.likes),this.attributes=e.attributes,this.status=e.status,this.visibilityStatus=e.visibilityStatus,this.isErased=e.message===n.AUTHOR_ERASE_COMMENT_MESSAGE},n.prototype.adminUpdate=function(e){this.message=e.message,this.status=e.status,this.visibilityStatus=e.visibilityStatus,this.isErased=e.message===n.MODERATOR_ERASE_COMMENT_MESSAGE},n.AUTHOR_ERASE_COMMENT_MESSAGE="<span><i>/* \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0443\u0434\u0430\u043b\u0435\u043d */</i></span>",n.MODERATOR_ERASE_COMMENT_MESSAGE="<span><i>/* \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0443\u0434\u0430\u043b\u0435\u043d */</i></span>",n}()},s34m:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(n){return n[n.CREATED_TIME_ASC=0]="CREATED_TIME_ASC",n[n.CREATED_TIME_DESC=1]="CREATED_TIME_DESC",n[n.POPULAR=2]="POPULAR",n}({})},wCGo:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){function n(n){this._element=n,this.autosize=!0}return n.prototype.onInput=function(n){this.adjust()},n.prototype.ngAfterContentChecked=function(){this.autosize&&this.adjust()},n.prototype.ngOnInit=function(){var n=this;this.autosize&&setTimeout(function(){return n.adjust()})},n.prototype.adjust=function(){var n=this._element.nativeElement.scrollHeight;this.autosize&&this.lastHeight!==n&&(this._element.nativeElement.style.height=n+2*this._element.nativeElement.clientTop+"px",this.lastHeight=n)},n}()},wbUM:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){this.message="",this.parentCommentId=null,this.replyToComment=null}},y2HU:function(n,e,t){"use strict";t.d(e,"a",function(){return i});var l=t("Ip0R"),i=(t("gFDQ"),t("FAJc"),function(){function n(n,e,t){this.logger=n,this.platformId=e,this.notificationService=t,this.logger.debug(this.constructor.name+" is created."),Object(l.isPlatformBrowser)(this.platformId)&&(this.notifications=window.top.NOTIFICATIONS)}return n.prototype.sendNotificationsToExternalSite=function(){this.sendToExternalSite=!0},n.prototype.showError=function(n,e){if(this.sendToExternalSite){var t=e?e+": "+n:n;this.notifications&&this.notifications.addHtmlMessageToContainer("danger",t,3e3),this.logger.info("Error window on external site was shown:",t)}else this.notificationService.showError(n,e)},n.prototype.showSuccess=function(n,e){if(this.sendToExternalSite){var t=e?e+": "+n:n;this.notifications&&this.notifications.addHtmlMessageToContainer("success",t,3e3),this.logger.info("Success window on external site was shown:",t)}else this.notificationService.showSuccess(n,e)},n}())},yOV5:function(n,e,t){"use strict";t.d(e,"a",function(){return l}),t("ucEb");var l=function(){function n(n){this.fileUploadService=n,this.labelText="\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0435\u0433\u043e \u043c\u044b\u0448\u044c\u044e",this.propagateChange=function(n){}}return n.prototype.writeValue=function(n){this.imageUrl=n||""},n.prototype.registerOnChange=function(n){this.propagateChange=n},n.prototype.registerOnTouched=function(n){},n.prototype.setDisabledState=function(n){},n.prototype.clearImage=function(){this.imageUrl="",this.propagateChange(this.imageUrl)},n.prototype.onFilesAccept=function(n){n[0].type.startsWith("image")?(this.wrongFileDropped=null,this.uploadImage(n[0])):this.wrongFileDropped=n[0].name},n.prototype.uploadImage=function(n){var e=this;this.isLoading=!0,this.fileUploadService.uploadNewImage(n).subscribe(function(n){e.imageUrl=n,e.propagateChange(e.imageUrl)},null,function(){return e.isLoading=!1})},n}()},zFH7:function(n,e,t){"use strict";t.d(e,"a",function(){return u});var l=t("t/Na"),i=t("3lvd"),o=(t("CQiu"),t("gFDQ"),t("s34m")),u=function(){function n(n,e){this.logger=n,this.httpClient=e,this.DISCUSSION_URL_PATH="/discussions/discussion{discussionId}",this.DISCUSSION_LIKES_URL_PATH="/discussions/discussion{discussionId}/likes",this.DISCUSSION_COMMENTS_URL_PATH="/discussions/discussion{discussionId}/comments",this.DISCUSSION_COMMENTS_COUNT_URL_PATH="/discussions/discussion{discussionId}/comments/count",this.DISCUSSION_COMMENT_URL_PATH="/discussions/discussion{discussionId}/comments/{commentId}",this.DISCUSSION_COMMENT_LIKES_URL_PATH="/discussions/discussion{discussionId}/comments/{commentId}/likes",this.ADMIN_DISCUSSION_COMMENT_URL_PATH="/admin/comments/comment{id}",this.ADMIN_DISCUSSION_COMMENT_DELETE_ALL_URL_PATH="/admin/comments",this.ADMIN_ADD_USER_TO_MUTED_LIST_URL_PATH="/admin/users/muted",this.logger.debug(this.constructor.name+" is created.")}return n.prototype.loadDiscussionInfo=function(n){var e=i.a.apiUrl+this.DISCUSSION_URL_PATH.replace("{discussionId}",n.toString());return this.httpClient.get(e)},n.prototype.voteDiscussion=function(n,e){var t=i.a.apiUrl+this.DISCUSSION_LIKES_URL_PATH.replace("{discussionId}",n.toString());return this.httpClient.post(t,e)},n.prototype.loadComments=function(n,e,t){var u=i.a.apiUrl+this.DISCUSSION_COMMENTS_URL_PATH.replace("{discussionId}",n.toString()),s=new l.i;return null!=e.order&&(s=s.set("order",o.a[e.order])),null!=e.limit&&(s=s.set("limit",e.limit.toString())),null!=e.lastTimestamp&&(s=s.set("last_time",e.lastTimestamp.toString())),null!=e.lastCommentId&&(s=s.set("last_comment_id",e.lastCommentId.toString())),null!=t&&(s=s.set("projection",t)),this.httpClient.get(u,s)},n.prototype.loadCommentsCount=function(n,e){var t=i.a.apiUrl+this.DISCUSSION_COMMENTS_COUNT_URL_PATH.replace("{discussionId}",n.toString()),o=new l.i;return o=o.set("firstLevelOnly",e?"true":"false"),this.httpClient.get(t,o)},n.prototype.loadComment=function(n,e,t){var o=i.a.apiUrl+this.DISCUSSION_COMMENT_URL_PATH.replace("{discussionId}",n.toString()).replace("{commentId}",e.toString()),u=new l.i;return null!=t&&(u=u.set("projection",t)),this.httpClient.get(o,u)},n.prototype.addComment=function(n,e,t){var o=i.a.apiUrl+this.DISCUSSION_COMMENTS_URL_PATH.replace("{discussionId}",n.toString()),u=new l.i;return null!=t&&(u=u.set("projection",t)),this.httpClient.post(o,e,u)},n.prototype.editComment=function(n,e,t){var o=i.a.apiUrl+this.DISCUSSION_COMMENT_URL_PATH.replace("{discussionId}",n.toString()).replace("{commentId}",e.id.toString()),u=new l.i;return null!=t&&(u=u.set("projection",t)),this.httpClient.post(o,e,u)},n.prototype.deleteComment=function(n,e){var t=i.a.apiUrl+this.DISCUSSION_COMMENT_URL_PATH.replace("{discussionId}",n.toString()).replace("{commentId}",e.toString());return this.httpClient.delete(t)},n.prototype.voteComment=function(n,e,t){var l=i.a.apiUrl+this.DISCUSSION_COMMENT_LIKES_URL_PATH.replace("{discussionId}",n.toString()).replace("{commentId}",e.toString());return this.httpClient.post(l,t)},n.prototype.addUserToMutedList=function(n){return this.httpClient.post(i.a.apiUrl+this.ADMIN_ADD_USER_TO_MUTED_LIST_URL_PATH,n)},n.prototype.adminUpdateComment=function(n,e){var t=i.a.apiUrl+this.ADMIN_DISCUSSION_COMMENT_URL_PATH.replace("{id}",n.toString());return this.httpClient.post(t,e)},n.prototype.adminDeleteComment=function(n){var e=i.a.apiUrl+this.ADMIN_DISCUSSION_COMMENT_URL_PATH.replace("{id}",n.toString());return this.httpClient.delete(e)},n.prototype.deleteAllUserComments=function(n,e,t){var o=i.a.apiUrl+this.ADMIN_DISCUSSION_COMMENT_DELETE_ALL_URL_PATH,u=new l.i;return null!=n&&(u=u.set("id",n.toString())),null!=e&&(u=u.set("eraseMessage",e)),null!=t&&(u=u.set("days",t.toString())),this.httpClient.delete(o,null,u)},n}()}}]);