(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"++xk":function(n,t,e){"use strict";e.d(t,"a",function(){return l}),e("YquS"),e("U+aR");var l=function(){}},"12JI":function(n,t,e){"use strict";e.d(t,"a",function(){return h});var l=e("9fSo"),o=e("TcM7"),i=e("MiBj"),s=e("I7SJ"),u=(e("gFDQ"),e("Dy+N"),e("hDTF")),r=e("VNr4"),a=e("G5J1"),c=e("15JJ"),d=e("9Z1F"),m=e("xMyE"),p=e("67Y/"),g=(e("3P9I"),e("zFH7"),e("LYuz"),e("U+74"),e("I65S")),h=function(){function n(n,t,e,l,o,i){this.logger=n,this.meProfileService=t,this.discussionBackendClient=e,this.discussionService=l,this.discussionExceptionService=o,this.commentsService=i,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.changeLikeStatus=function(n,t,e){var l=this;if(t){var o=e===i.a.SOLUTION||e===i.a.HELPFUL;return this.changeLikeStatusOfComment(n,t,e,o).pipe(Object(c.a)(function(n){return Object(r.a)(Object(g.of)(n),o?l.commentsService.reloadComment(t):Object(g.of)(null))}),Object(d.a)(function(n){return l.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"),a.a}),Object(m.a)(function(n){var e=n[1];e&&(t.update(e),l.logger.info("Comment was updated",e))}),Object(p.a)(function(n){return n[0]}))}return this.changeLikeStatusOfDiscussion(n,e)},n.prototype.changeLikeStatusOfDiscussion=function(n,t,e){var l=this;void 0===e&&(e=!1);var o=new s.a;return o.status=t,this.discussionBackendClient.voteDiscussion(n.id,o).pipe(Object(m.a)(function(n){l.logger.info("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430 \u043e\u0446\u0435\u043d\u043a\u0430 \u0434\u0438\u0441\u043a\u0443\u0441\u0441\u0438\u0438",n)}),Object(d.a)(function(n){return l.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f"),a.a}))},n.prototype.changeLikeStatusOfComment=function(n,t,e,o){var c=this;void 0===o&&(o=!1);var p=new s.a;return p.status=e,this.discussionBackendClient.voteComment(n.id,t.id,p).pipe(Object(m.a)(function(t){c.logger.info("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430 \u043e\u0446\u0435\u043d\u043a\u0430 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f",t),n.type===l.a.QUESTION&&e===i.a.SOLUTION&&Object(r.a)(c.meProfileService.isUserModerator(),c.discussionService.isMeOwnerOfQuestionTopic()).subscribe(function(n){(n[0]||n[1])&&(c.discussionService.getDiscussionTopicInfo().status=u.a.SOLVED)})}),Object(d.a)(function(n){return c.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f"),a.a}))},n.prototype.getSuitableLikeStatuses=function(n,t,e){switch(n){case l.a.QUESTION:return this.getLikeStatusesForQuestions(t,e);case l.a.POST:return this.getLikeStatusesForGroups(t,e);case l.a.LECTURE:return this.getLikeStatusesForLectures(t,e);case l.a.TASK:case l.a.QUIZ:return this.getLikeStatusesForTasks(t,e);case l.a.QUEST:return this.getLikeStatusesForQuests(t,e);case l.a.STORY:return this.getLikeStatusesForSuccessStories(t,e);default:return this.getDefaultLikeStatuses(t,e)}},n.prototype.getLikeStatusesForQuestions=function(n,t){var e=[];return t?n?(e.push(i.a.SOLUTION),e.push(i.a.HELPFUL),e.push(i.a.ARTICLE),e.push(i.a.HOT),e.push(i.a.FOLLOW),e.push(i.a.FAVORITE)):(e.push(o.a.WRONG),e.push(o.a.DIRTY),e.push(o.a.OUTDATED),e.push(o.a.SPAM),e.push(o.a.ABUSE),e.push(o.a.FOUL)):n?(e.push(i.a.HOT),e.push(i.a.FOLLOW),e.push(i.a.FAVORITE)):(e.push(o.a.DUPLICATE),e.push(o.a.DIRTY),e.push(o.a.OUTDATED),e.push(o.a.SPAM),e.push(o.a.ABUSE),e.push(o.a.FOUL)),e},n.prototype.getLikeStatusesForGroups=function(n,t){var e=[];return t?n?(e.push(i.a.HOT),e.push(i.a.FOLLOW),e.push(i.a.FAVORITE),e.push(i.a.ARTICLE)):(e.push(o.a.TROLLING),e.push(o.a.SPAM),e.push(o.a.ABUSE),e.push(o.a.FOUL)):n?(e.push(i.a.HOT),e.push(i.a.FOLLOW),e.push(i.a.FAVORITE),e.push(i.a.OSCAR)):(e.push(o.a.OFFTOPIC),e.push(o.a.DIRTY),e.push(o.a.OUTDATED),e.push(o.a.FAKE),e.push(o.a.SPAM),e.push(o.a.ABUSE),e.push(o.a.FOUL)),e},n.prototype.getLikeStatusesForLectures=function(n,t){var e=[];return t?n?(e.push(i.a.HOT),e.push(i.a.FAVORITE),e.push(i.a.FOLLOW),e.push(i.a.ARTICLE)):(e.push(o.a.TROLLING),e.push(o.a.SPAM),e.push(o.a.ABUSE),e.push(o.a.FOUL)):n?(e.push(i.a.HOT),e.push(i.a.FAVORITE)):(e.push(o.a.BORING),e.push(o.a.UNCLEAR),e.push(o.a.HARD),e.push(o.a.EASY),e.push(o.a.OUTDATED)),e},n.prototype.getLikeStatusesForTasks=function(n,t){var e=[];return t?n?(e.push(i.a.HOT),e.push(i.a.FAVORITE),e.push(i.a.FOLLOW),e.push(i.a.ARTICLE)):(e.push(o.a.TROLLING),e.push(o.a.SPAM),e.push(o.a.ABUSE),e.push(o.a.FOUL)):n?(e.push(i.a.HOT),e.push(i.a.FAVORITE)):(e.push(o.a.BORING),e.push(o.a.UNCLEAR),e.push(o.a.HARD),e.push(o.a.EASY)),e},n.prototype.getLikeStatusesForQuests=function(n,t){var e=[];return t?n?(e.push(i.a.HOT),e.push(i.a.FAVORITE),e.push(i.a.FOLLOW),e.push(i.a.ARTICLE)):(e.push(o.a.TROLLING),e.push(o.a.SPAM),e.push(o.a.ABUSE),e.push(o.a.FOUL)):n?e.push(i.a.HOT):(e.push(o.a.BORING),e.push(o.a.UNCLEAR),e.push(o.a.HARD),e.push(o.a.EASY)),e},n.prototype.getLikeStatusesForSuccessStories=function(n,t){var e=[];return t?n?(e.push(i.a.HOT),e.push(i.a.FAVORITE),e.push(i.a.FOLLOW),e.push(i.a.ARTICLE)):(e.push(o.a.TROLLING),e.push(o.a.SPAM),e.push(o.a.ABUSE),e.push(o.a.FOUL)):n?(e.push(i.a.HOT),e.push(i.a.FAVORITE)):(e.push(o.a.BORING),e.push(o.a.SHAM)),e},n.prototype.getDefaultLikeStatuses=function(n,t){var e=[];return t?n?(e.push(i.a.HOT),e.push(i.a.FAVORITE),e.push(i.a.FOLLOW),e.push(i.a.ARTICLE)):(e.push(o.a.TROLLING),e.push(o.a.SPAM),e.push(o.a.ABUSE),e.push(o.a.FOUL)):e.push(n?i.a.HOT:o.a.BORING),e},n}()},"1dnJ":function(n,t,e){"use strict";e.d(t,"a",function(){return i}),e("gFDQ");var l=e("K9Ia"),o=e("HgFO"),i=(e("5uw7"),function(){function n(n,t){this.logger=n,this.transformationsService=t,this.transformLauncherSource=new l.a,this.transformLauncher$=this.transformLauncherSource.asObservable(),this.insertUrlModalSource=new l.a,this.insertUrlModal$=this.insertUrlModalSource.asObservable(),this.insertImageModalSource=new l.a,this.insertImageModal$=this.insertImageModalSource.asObservable(),this.logger.debug(this.constructor.name+" is created.")}return n.prototype.launchTextTransform=function(n){this.transformLauncherSource.next(n)},n.prototype.processTransformRequest=function(n){switch(this.logger.debug("Performing editor transformation",n),n.type){case o.a.BOLD:this.transformationsService.wrapOrUnwrapText(n,"<strong>","</strong>");break;case o.a.ITALIC:this.transformationsService.wrapOrUnwrapText(n,"<em>","</em>");break;case o.a.UNDERLINE:this.transformationsService.wrapOrUnwrapText(n,"<u>","</u>");break;case o.a.STRIKE_THROUGH:this.transformationsService.wrapOrUnwrapText(n,"<s>","</s>");break;case o.a.INSERT_URL:this.insertUrlModalSource.next(n);break;case o.a.INSERT_IMAGE:this.insertImageModalSource.next(n);break;case o.a.CODE:this.transformationsService.wrapOrUnwrapText(n,"<pre class='lang-java line-numbers'><code>\n","\n</code></pre>")}},n}())},"1on1":function(n,t,e){"use strict";var l=e("CcnG"),o=function(){function n(){this.type="button"}return n.prototype.onMouseDown=function(n){n.preventDefault()},n}(),i=e("BofX"),s=e("T5bw"),u=e("gFDQ"),r=e("HgFO"),a=e("1dnJ"),c=function(){function n(n,t){this.logger=n,this.richEditorService=t,this.TransformType=r.a,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.runTransform=function(n){this.richEditorService.launchTextTransform(n)},n}(),d=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}.toolbar[_ngcontent-%COMP%]{display:block;overflow:hidden;font-size:0;background-color:#304d61;border-top:1px solid #5a7485;border-bottom:1px solid transparent;border-left:1px solid #426179;border-right:1px solid #426179;border-radius:3px 3px 0 0;box-shadow:rgba(232,247,255,.15) 0 1px 1px inset}.toolbar__container[_ngcontent-%COMP%]{margin-top:-1px;margin-bottom:-2px}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;display:inline-block;min-width:25%;height:38px;margin:0;padding:4px 12px 2px;line-height:1;color:#fff;font-size:15px;font-weight:400;background-color:transparent;border:none;border-right:1px solid #192a37;border-bottom:1px solid #192a37;box-shadow:1px 1px 0 0 #5a7485;cursor:pointer}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#426179}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{box-shadow:1px 1px 0 0 #5a7485,rgba(0,0,0,.5) 0 1px 1px inset}@media (min-width:480px){.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:44px}}.light[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]{background-color:#4d545f;border-color:transparent}.light[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:rgba(255,255,255,.7);border-right:1px solid #646b77;box-shadow:1px 0 0 0 #383d45}.light[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.15)}.light[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .light   [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:rgba(0,0,0,.25);box-shadow:1px 0 0 0 #383d45,rgba(0,0,0,.5) 0 1px 1px inset}"]],data:{}});function m(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,29,"div",[["class","toolbar"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,28,"div",[["class","toolbar__container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,3,"button",[["jrEditorButton",""],["title","\u0416\u0438\u0440\u043d\u044b\u0439 (Ctrl+B)"]],[[8,"type",0]],[[null,"click"],[null,"mousedown"]],function(n,t,e){var o=!0,i=n.component;return"mousedown"===t&&(o=!1!==l["\u0275nov"](n,3).onMouseDown(e)&&o),"click"===t&&(o=!1!==i.runTransform(i.TransformType.BOLD)&&o),o},null,null)),l["\u0275did"](3,16384,null,0,o,[],null,null),(n()(),l["\u0275eld"](4,0,null,null,1,"jr-icon",[["name","rich-editor-bold"]],null,null,null,i.b,i.a)),l["\u0275did"](5,114688,null,0,s.a,[],{name:[0,"name"]},null),(n()(),l["\u0275eld"](6,0,null,null,3,"button",[["jrEditorButton",""],["title","\u041a\u0443\u0440\u0441\u0438\u0432 (Ctrl+I)"]],[[8,"type",0]],[[null,"click"],[null,"mousedown"]],function(n,t,e){var o=!0,i=n.component;return"mousedown"===t&&(o=!1!==l["\u0275nov"](n,7).onMouseDown(e)&&o),"click"===t&&(o=!1!==i.runTransform(i.TransformType.ITALIC)&&o),o},null,null)),l["\u0275did"](7,16384,null,0,o,[],null,null),(n()(),l["\u0275eld"](8,0,null,null,1,"jr-icon",[["name","rich-editor-italic"]],null,null,null,i.b,i.a)),l["\u0275did"](9,114688,null,0,s.a,[],{name:[0,"name"]},null),(n()(),l["\u0275eld"](10,0,null,null,3,"button",[["jrEditorButton",""],["title","\u041f\u043e\u0434\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439 (Ctrl+U)"]],[[8,"type",0]],[[null,"click"],[null,"mousedown"]],function(n,t,e){var o=!0,i=n.component;return"mousedown"===t&&(o=!1!==l["\u0275nov"](n,11).onMouseDown(e)&&o),"click"===t&&(o=!1!==i.runTransform(i.TransformType.UNDERLINE)&&o),o},null,null)),l["\u0275did"](11,16384,null,0,o,[],null,null),(n()(),l["\u0275eld"](12,0,null,null,1,"jr-icon",[["name","rich-editor-underline"]],null,null,null,i.b,i.a)),l["\u0275did"](13,114688,null,0,s.a,[],{name:[0,"name"]},null),(n()(),l["\u0275eld"](14,0,null,null,3,"button",[["jrEditorButton",""],["title","\u0417\u0430\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439 (Ctrl+S)"]],[[8,"type",0]],[[null,"click"],[null,"mousedown"]],function(n,t,e){var o=!0,i=n.component;return"mousedown"===t&&(o=!1!==l["\u0275nov"](n,15).onMouseDown(e)&&o),"click"===t&&(o=!1!==i.runTransform(i.TransformType.STRIKE_THROUGH)&&o),o},null,null)),l["\u0275did"](15,16384,null,0,o,[],null,null),(n()(),l["\u0275eld"](16,0,null,null,1,"jr-icon",[["name","rich-editor-strike"]],null,null,null,i.b,i.a)),l["\u0275did"](17,114688,null,0,s.a,[],{name:[0,"name"]},null),(n()(),l["\u0275eld"](18,0,null,null,3,"button",[["jrEditorButton",""],["title","\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"]],[[8,"type",0]],[[null,"click"],[null,"mousedown"]],function(n,t,e){var o=!0,i=n.component;return"mousedown"===t&&(o=!1!==l["\u0275nov"](n,19).onMouseDown(e)&&o),"click"===t&&(o=!1!==i.runTransform(i.TransformType.INSERT_URL)&&o),o},null,null)),l["\u0275did"](19,16384,null,0,o,[],null,null),(n()(),l["\u0275eld"](20,0,null,null,1,"jr-icon",[["name","rich-editor-link"]],null,null,null,i.b,i.a)),l["\u0275did"](21,114688,null,0,s.a,[],{name:[0,"name"]},null),(n()(),l["\u0275eld"](22,0,null,null,3,"button",[["jrEditorButton",""],["title","\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"]],[[8,"type",0]],[[null,"click"],[null,"mousedown"]],function(n,t,e){var o=!0,i=n.component;return"mousedown"===t&&(o=!1!==l["\u0275nov"](n,23).onMouseDown(e)&&o),"click"===t&&(o=!1!==i.runTransform(i.TransformType.INSERT_IMAGE)&&o),o},null,null)),l["\u0275did"](23,16384,null,0,o,[],null,null),(n()(),l["\u0275eld"](24,0,null,null,1,"jr-icon",[["name","rich-editor-image"]],null,null,null,i.b,i.a)),l["\u0275did"](25,114688,null,0,s.a,[],{name:[0,"name"]},null),(n()(),l["\u0275eld"](26,0,null,null,3,"button",[["jrEditorButton",""],["title","\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u043a\u043e\u0434"]],[[8,"type",0]],[[null,"click"],[null,"mousedown"]],function(n,t,e){var o=!0,i=n.component;return"mousedown"===t&&(o=!1!==l["\u0275nov"](n,27).onMouseDown(e)&&o),"click"===t&&(o=!1!==i.runTransform(i.TransformType.CODE)&&o),o},null,null)),l["\u0275did"](27,16384,null,0,o,[],null,null),(n()(),l["\u0275eld"](28,0,null,null,1,"jr-icon",[["name","rich-editor-code"]],null,null,null,i.b,i.a)),l["\u0275did"](29,114688,null,0,s.a,[],{name:[0,"name"]},null)],function(n,t){n(t,5,0,"rich-editor-bold"),n(t,9,0,"rich-editor-italic"),n(t,13,0,"rich-editor-underline"),n(t,17,0,"rich-editor-strike"),n(t,21,0,"rich-editor-link"),n(t,25,0,"rich-editor-image"),n(t,29,0,"rich-editor-code")},function(n,t){n(t,2,0,l["\u0275nov"](t,3).type),n(t,6,0,l["\u0275nov"](t,7).type),n(t,10,0,l["\u0275nov"](t,11).type),n(t,14,0,l["\u0275nov"](t,15).type),n(t,18,0,l["\u0275nov"](t,19).type),n(t,22,0,l["\u0275nov"](t,23).type),n(t,26,0,l["\u0275nov"](t,27).type)})}var p=e("wCGo"),g=function(){function n(n){this.richEditorService=n}return n.prototype.onKeydown=function(n){if(n.ctrlKey)switch(n.keyCode){case 66:this.richEditorService.launchTextTransform(r.a.BOLD),n.preventDefault();break;case 73:this.richEditorService.launchTextTransform(r.a.ITALIC),n.preventDefault();break;case 85:this.richEditorService.launchTextTransform(r.a.UNDERLINE),n.preventDefault();break;case 83:this.richEditorService.launchTextTransform(r.a.STRIKE_THROUGH),n.preventDefault()}},n}(),h=e("gIcY"),f=e("Ip0R"),v=e("5uw7"),C=function(){function n(n,t,e,l){this.logger=n,this.formBuilder=t,this.richEditorService=e,this.transformationsService=l,this.isShown=!1,this.componentSubscriptions=[],this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnInit=function(){var n=this;this.componentSubscriptions[0]=this.richEditorService.insertUrlModal$.subscribe(function(t){n.openModalAndInitForm(t)})},n.prototype.openModalAndInitForm=function(n){this.isShown=!0,this.wasSubmitted=!1,this.transformRequest=n;var t=n.selectedText.length>100?n.selectedText.substring(0,100)+"...":n.selectedText;this.insertUrlForm=this.formBuilder.group({url:["",h.Validators.compose([h.Validators.pattern(/^((https?):\/\/).+$/),h.Validators.required])],urlName:[t]})},n.prototype.onSubmit=function(){this.wasSubmitted=!0,this.insertUrlForm.valid&&(this.transformationsService.insertUrl(this.transformRequest,this.insertUrlForm.value.url,this.insertUrlForm.value.urlName),this.close())},n.prototype.close=function(){this.isShown=!1},n.prototype.ngOnDestroy=function(){this.componentSubscriptions.forEach(function(n){return n.unsubscribe()})},n}(),O=l["\u0275crt"]({encapsulation:0,styles:[[".mdl[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.4);z-index:9999}.mdl-win[_ngcontent-%COMP%]{width:40%;min-width:300px;background-color:#1f2024;border:1px solid #4d87af;border-radius:2px;font-size:18px;line-height:1;box-shadow:rgba(61,67,81,.46) 0 0 5px}.mdl-win-close[_ngcontent-%COMP%]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:15px}.head[_ngcontent-%COMP%]{position:relative;padding:15px 40px 15px 20px;line-height:1;font-size:14px;color:#fff;background-color:#37607e}.body[_ngcontent-%COMP%]{padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.alert.alert-danger[_ngcontent-%COMP%]{overflow:hidden;background:0 0;padding:5px 10px;font-size:12px;margin-top:5px}.alert.alert-danger[_ngcontent-%COMP%]:before{display:none}@media (max-width:767px){.mdl-win[_ngcontent-%COMP%]{width:100%;min-width:0}}.light[_nghost-%COMP%]   .mdl-win[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .mdl-win[_ngcontent-%COMP%]{background-color:#fff;border:none}.light[_nghost-%COMP%]   .head[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .head[_ngcontent-%COMP%]{background-color:#424d59}"]],data:{}});function b(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,35,"div",[["class","mdl"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,34,"div",[["class","mdl-win"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,4,"div",[["class","head"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u0438 \u0435\u0435 \u0438\u043c\u044f "])),(n()(),l["\u0275eld"](4,0,null,null,2,"button",[["class","mdl-win-close close"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.close()&&l),l},null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,":svg:svg",[["class","icon icon--common-cross"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,0,":svg:use",[[":xlink:href","/assets/icons/site.svg#icon-common-cross"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,28,"div",[["class","body"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,27,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,e){var o=!0,i=n.component;return"submit"===t&&(o=!1!==l["\u0275nov"](n,10).onSubmit(e)&&o),"reset"===t&&(o=!1!==l["\u0275nov"](n,10).onReset()&&o),"ngSubmit"===t&&(o=!1!==i.onSubmit()&&o),o},null,null)),l["\u0275did"](9,16384,null,0,h["\u0275angular_packages_forms_forms_bg"],[],null,null),l["\u0275did"](10,540672,null,0,h.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),l["\u0275prd"](2048,null,h.ControlContainer,null,[h.FormGroupDirective]),l["\u0275did"](12,16384,null,0,h.NgControlStatusGroup,[[4,h.ControlContainer]],null,null),(n()(),l["\u0275eld"](13,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](14,0,null,null,5,"input",[["class","form-control"],["formControlName","url"],["placeholder","http://"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var o=!0;return"input"===t&&(o=!1!==l["\u0275nov"](n,15)._handleInput(e.target.value)&&o),"blur"===t&&(o=!1!==l["\u0275nov"](n,15).onTouched()&&o),"compositionstart"===t&&(o=!1!==l["\u0275nov"](n,15)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l["\u0275nov"](n,15)._compositionEnd(e.target.value)&&o),o},null,null)),l["\u0275did"](15,16384,null,0,h.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,h.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,h.NG_VALUE_ACCESSOR,function(n){return[n]},[h.DefaultValueAccessor]),l["\u0275did"](17,671744,null,0,h.FormControlName,[[3,h.ControlContainer],[8,null],[8,null],[6,h.NG_VALUE_ACCESSOR],[2,h["\u0275angular_packages_forms_forms_j"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,h.NgControl,null,[h.FormControlName]),l["\u0275did"](19,16384,null,0,h.NgControlStatus,[[4,h.NgControl]],null,null),(n()(),l["\u0275eld"](20,0,null,null,1,"div",[["class","hint-text text-danger"],["role","alert"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435 "])),(n()(),l["\u0275eld"](22,0,null,null,1,"div",[["class","hint-text text-danger"],["role","alert"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432 \u043f\u043e\u043b\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 "])),(n()(),l["\u0275eld"](24,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](25,0,null,null,5,"input",[["class","form-control"],["formControlName","urlName"],["placeholder","\u0418\u043c\u044f \u0441\u0441\u044b\u043b\u043a\u0438"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var o=!0;return"input"===t&&(o=!1!==l["\u0275nov"](n,26)._handleInput(e.target.value)&&o),"blur"===t&&(o=!1!==l["\u0275nov"](n,26).onTouched()&&o),"compositionstart"===t&&(o=!1!==l["\u0275nov"](n,26)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l["\u0275nov"](n,26)._compositionEnd(e.target.value)&&o),o},null,null)),l["\u0275did"](26,16384,null,0,h.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,h.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,h.NG_VALUE_ACCESSOR,function(n){return[n]},[h.DefaultValueAccessor]),l["\u0275did"](28,671744,null,0,h.FormControlName,[[3,h.ControlContainer],[8,null],[8,null],[6,h.NG_VALUE_ACCESSOR],[2,h["\u0275angular_packages_forms_forms_j"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,h.NgControl,null,[h.FormControlName]),l["\u0275did"](30,16384,null,0,h.NgControlStatus,[[4,h.NgControl]],null,null),(n()(),l["\u0275eld"](31,0,null,null,4,"div",[["class","text-sm-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](32,0,null,null,1,"button",[["class","button button--wide button--cancel text-uppercase"],["type","reset"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.close()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"])),(n()(),l["\u0275eld"](34,0,null,null,1,"button",[["class","button button--wide button--success text-uppercase"],["type","submit"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u043a"]))],function(n,t){n(t,10,0,t.component.insertUrlForm),n(t,17,0,"url"),n(t,28,0,"urlName")},function(n,t){var e=t.component;n(t,8,0,l["\u0275nov"](t,12).ngClassUntouched,l["\u0275nov"](t,12).ngClassTouched,l["\u0275nov"](t,12).ngClassPristine,l["\u0275nov"](t,12).ngClassDirty,l["\u0275nov"](t,12).ngClassValid,l["\u0275nov"](t,12).ngClassInvalid,l["\u0275nov"](t,12).ngClassPending),n(t,14,0,l["\u0275nov"](t,19).ngClassUntouched,l["\u0275nov"](t,19).ngClassTouched,l["\u0275nov"](t,19).ngClassPristine,l["\u0275nov"](t,19).ngClassDirty,l["\u0275nov"](t,19).ngClassValid,l["\u0275nov"](t,19).ngClassInvalid,l["\u0275nov"](t,19).ngClassPending),n(t,20,0,!(e.wasSubmitted&&null!=e.insertUrlForm.get("url").errors&&e.insertUrlForm.get("url").errors.required)),n(t,22,0,!(e.wasSubmitted&&null!=e.insertUrlForm.get("url").errors&&e.insertUrlForm.get("url").errors.pattern)),n(t,25,0,l["\u0275nov"](t,30).ngClassUntouched,l["\u0275nov"](t,30).ngClassTouched,l["\u0275nov"](t,30).ngClassPristine,l["\u0275nov"](t,30).ngClassDirty,l["\u0275nov"](t,30).ngClassValid,l["\u0275nov"](t,30).ngClassInvalid,l["\u0275nov"](t,30).ngClassPending)})}function _(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,b)),l["\u0275did"](1,16384,null,0,f.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,1,0,t.component.isShown)},null)}var M=e("9uU2"),I=e("sdDj"),S=e("P3jN"),y=e("nciF"),E=e("hPRa"),P=e("yOV5"),T=e("ucEb"),w=e("MLWW"),R=function(){function n(n,t,e){this.logger=n,this.richEditorService=t,this.transformationsService=e,this.isShown=!1,this.externalImage=new h.FormControl("",h.Validators.pattern(/^http.*$/)),this.uploadedImage=new h.FormControl(""),this.insertImageMode=new h.FormControl(w.a.LARGE),this.insertModeItems=[],this.componentSubscriptions=[],this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnInit=function(){var n=this;this.componentSubscriptions.push(this.richEditorService.insertImageModal$.subscribe(function(t){return n.openModalAndInitForm(t)})),this.componentSubscriptions.push(this.uploadedImage.valueChanges.subscribe(function(t){t&&n.externalImage.setValue("")})),this.insertModeItems=this.getImageModeItems()},n.prototype.openModalAndInitForm=function(n){this.isShown=!0,this.wasSubmitted=!1,this.transformRequest=n,this.externalImage.setValue(""),this.uploadedImage.setValue(""),this.insertImageMode.setValue(this.thumbnailImageOnly?w.a.THUMBNAIL_LEFT:w.a.LARGE)},n.prototype.insertImage=function(){this.wasSubmitted=!0,this.externalImage.value&&this.externalImage.valid?(this.transformationsService.insertImage(this.transformRequest,this.externalImage.value,this.insertImageMode.value),this.close()):this.uploadedImage.value&&this.uploadedImage.valid&&(this.transformationsService.insertImage(this.transformRequest,this.uploadedImage.value,this.insertImageMode.value),this.close())},n.prototype.close=function(){this.isShown=!1},n.prototype.getImageModeItems=function(){var n=[];return n.push({label:"\u041f\u0440\u0435\u0432\u044c\u044e \u0441\u043b\u0435\u0432\u0430 - 64px",value:w.a.THUMBNAIL_LEFT}),n.push({label:"\u041f\u0440\u0435\u0432\u044c\u044e \u0441\u043f\u0440\u0430\u0432\u0430 - 64px",value:w.a.THUMBNAIL_RIGHT}),n.push({label:"\u041c\u0430\u043b\u0435\u043d\u044c\u043a\u0430\u044f - 256px",value:w.a.SMALL}),n.push({label:"\u0411\u043e\u043b\u044c\u0448\u0430\u044f - 1024px",value:w.a.LARGE}),n.push({label:"\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440",value:w.a.FULL}),n},n.prototype.ngOnDestroy=function(){this.componentSubscriptions.forEach(function(n){return n.unsubscribe()})},n}(),k=l["\u0275crt"]({encapsulation:0,styles:[[".mdl[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.4);z-index:9999}.mdl-win[_ngcontent-%COMP%]{width:55%;min-width:300px;background-color:#1f2024;border:1px solid #4d87af;border-radius:2px;font-size:18px;line-height:1;box-shadow:rgba(61,67,81,.46) 0 0 5px}.mdl-win-close[_ngcontent-%COMP%]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:15px}.head[_ngcontent-%COMP%]{position:relative;padding:15px 40px 15px 20px;line-height:1;color:#fff;font-size:14px;background-color:#37607e}.body[_ngcontent-%COMP%]{padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.drag-an-drop[_ngcontent-%COMP%]{display:block;background-color:#26272b;border:2px dashed #636366;text-align:center;font-size:14px;line-height:1.4;color:#7d7e7f;padding:40px 0;position:relative}.drag-an-drop[_ngcontent-%COMP%]:hover{background-color:rgba(100,144,176,.2);border-color:#6490b0;color:#6490b0}.drag-an-drop[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:12px}.drag-an-drop[_ngcontent-%COMP%]   div.ico[_ngcontent-%COMP%]{text-align:center;font-size:42px}.inputfile[_ngcontent-%COMP%]{display:block;position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;filter:alpha(opacity=0);cursor:pointer}.alert.alert-danger[_ngcontent-%COMP%]{overflow:hidden;background:0 0;padding:10px;font-size:14px;margin-top:10px}.alert.alert-danger[_ngcontent-%COMP%]:before{display:none}label[_ngcontent-%COMP%]{padding:10px 0;font-size:13px;white-space:nowrap}@media (max-width:767px){.mdl-win[_ngcontent-%COMP%]{width:100%;min-width:0}}.light[_nghost-%COMP%]   .mdl-win[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .mdl-win[_ngcontent-%COMP%]{background-color:#fff;border:none}.light[_nghost-%COMP%]   .head[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .head[_ngcontent-%COMP%]{background-color:#424d59}"]],data:{}});function x(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,11,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,5,"input",[["class","form-control"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var o=!0;return"input"===t&&(o=!1!==l["\u0275nov"](n,3)._handleInput(e.target.value)&&o),"blur"===t&&(o=!1!==l["\u0275nov"](n,3).onTouched()&&o),"compositionstart"===t&&(o=!1!==l["\u0275nov"](n,3)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l["\u0275nov"](n,3)._compositionEnd(e.target.value)&&o),o},null,null)),l["\u0275did"](3,16384,null,0,h.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,h.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,h.NG_VALUE_ACCESSOR,function(n){return[n]},[h.DefaultValueAccessor]),l["\u0275did"](5,540672,null,0,h.FormControlDirective,[[8,null],[8,null],[6,h.NG_VALUE_ACCESSOR],[2,h["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,h.NgControl,null,[h.FormControlDirective]),l["\u0275did"](7,16384,null,0,h.NgControlStatus,[[4,h.NgControl]],null,null),(n()(),l["\u0275eld"](8,0,null,null,1,"div",[["class","hint-text text-danger"],["role","alert"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432 \u043f\u043e\u043b\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443 "])),(n()(),l["\u0275eld"](10,0,null,null,1,"div",[["class","form-group text-center text-size-small"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u0438\u043b\u0438"]))],function(n,t){n(t,5,0,t.component.externalImage)},function(n,t){var e=t.component;n(t,2,0,l["\u0275nov"](t,7).ngClassUntouched,l["\u0275nov"](t,7).ngClassTouched,l["\u0275nov"](t,7).ngClassPristine,l["\u0275nov"](t,7).ngClassDirty,l["\u0275nov"](t,7).ngClassValid,l["\u0275nov"](t,7).ngClassInvalid,l["\u0275nov"](t,7).ngClassPending),n(t,8,0,!(e.wasSubmitted&&e.externalImage.invalid))})}function D(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","col-12 col-sm-auto text-center text-sm-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"label",[["for","image-size"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u0420\u0430\u0437\u043c\u0435\u0440 \u0432\u0441\u0442\u0430\u0432\u043a\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"])),(n()(),l["\u0275eld"](4,0,null,null,10,"div",[["class","col-12 col-sm"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,8,"p-dropdown",[["inputId","image-size"],["scrollHeight","600px"],["styleClass","boxin"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,M.b,M.a)),l["\u0275prd"](512,null,I.DomHandler,I.DomHandler,[]),l["\u0275prd"](512,null,S.ObjectUtils,S.ObjectUtils,[]),l["\u0275did"](9,13877248,null,1,y.Dropdown,[l.ElementRef,I.DomHandler,l.Renderer2,l.ChangeDetectorRef,S.ObjectUtils,l.NgZone],{scrollHeight:[0,"scrollHeight"],styleClass:[1,"styleClass"],inputId:[2,"inputId"],options:[3,"options"]},null),l["\u0275qud"](603979776,1,{templates:1}),l["\u0275prd"](1024,null,h.NG_VALUE_ACCESSOR,function(n){return[n]},[y.Dropdown]),l["\u0275did"](12,540672,null,0,h.FormControlDirective,[[8,null],[8,null],[6,h.NG_VALUE_ACCESSOR],[2,h["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,h.NgControl,null,[h.FormControlDirective]),l["\u0275did"](14,16384,null,0,h.NgControlStatus,[[4,h.NgControl]],null,null)],function(n,t){var e=t.component;n(t,9,0,"600px","boxin","image-size",e.insertModeItems),n(t,12,0,e.insertImageMode)},function(n,t){n(t,6,0,l["\u0275nov"](t,9).filled,l["\u0275nov"](t,9).focused,l["\u0275nov"](t,14).ngClassUntouched,l["\u0275nov"](t,14).ngClassTouched,l["\u0275nov"](t,14).ngClassPristine,l["\u0275nov"](t,14).ngClassDirty,l["\u0275nov"](t,14).ngClassValid,l["\u0275nov"](t,14).ngClassInvalid,l["\u0275nov"](t,14).ngClassPending)})}function L(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,21,"div",[["class","mdl"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,20,"div",[["class","mdl-win"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,4,"div",[["class","head"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f "])),(n()(),l["\u0275eld"](4,0,null,null,2,"button",[["class","mdl-win-close close"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.close()&&l),l},null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,":svg:svg",[["class","icon icon--common-cross"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,0,":svg:use",[[":xlink:href","/assets/icons/site.svg#icon-common-cross"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,14,"div",[["class","body"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,x)),l["\u0275did"](9,16384,null,0,f.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](10,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](11,0,null,null,5,"jr-image-input",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,E.b,E.a)),l["\u0275did"](12,49152,null,0,P.a,[T.a,l.ChangeDetectorRef],null,null),l["\u0275prd"](1024,null,h.NG_VALUE_ACCESSOR,function(n){return[n]},[P.a]),l["\u0275did"](14,540672,null,0,h.FormControlDirective,[[8,null],[8,null],[6,h.NG_VALUE_ACCESSOR],[2,h["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,h.NgControl,null,[h.FormControlDirective]),l["\u0275did"](16,16384,null,0,h.NgControlStatus,[[4,h.NgControl]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,D)),l["\u0275did"](18,16384,null,0,f.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](19,0,null,null,2,"div",[["class","text-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](20,0,null,null,1,"button",[["class","button button--wide button--success text-uppercase"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.insertImage()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,[" \u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c "]))],function(n,t){var e=t.component;n(t,9,0,!e.uploadedImage.value),n(t,14,0,e.uploadedImage),n(t,18,0,!e.thumbnailImageOnly)},function(n,t){var e=t.component;n(t,11,0,l["\u0275nov"](t,16).ngClassUntouched,l["\u0275nov"](t,16).ngClassTouched,l["\u0275nov"](t,16).ngClassPristine,l["\u0275nov"](t,16).ngClassDirty,l["\u0275nov"](t,16).ngClassValid,l["\u0275nov"](t,16).ngClassInvalid,l["\u0275nov"](t,16).ngClassPending),n(t,20,0,!e.externalImage.value&&!e.uploadedImage.value)})}function A(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,L)),l["\u0275did"](1,16384,null,0,f.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,1,0,t.component.isShown)},null)}e("5Ggd"),e.d(t,"a",function(){return N}),e.d(t,"b",function(){return U});var N=l["\u0275crt"]({encapsulation:0,styles:[["textarea.form-control[_ngcontent-%COMP%]{height:100%;max-height:80vh;overflow:auto}html[_nghost-%COMP%]:not(.light)   textarea.form-control[_ngcontent-%COMP%], html:not(.light)   [_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{border-radius:0 0 3px 3px}html[_nghost-%COMP%]:not(.light)   textarea.form-control[_ngcontent-%COMP%]:focus, html:not(.light)   [_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%]:focus{border-top-color:#487080}jr-editor-toolbar[_ngcontent-%COMP%] + textarea.form-control[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.light[_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{border-top-color:#383d45}"]],data:{}});function U(n){return l["\u0275vid"](0,[l["\u0275qud"](402653184,1,{editorElement:0}),(n()(),l["\u0275eld"](1,0,null,null,9,"div",[["style","position: relative"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"jr-editor-toolbar",[],null,null,null,m,d)),l["\u0275did"](3,49152,null,0,c,[u.a,a.a],null,null),(n()(),l["\u0275eld"](4,0,[[1,0],["editor",1]],null,2,"textarea",[["class","form-control"],["jrEditorHotkeys",""]],[[8,"id",0],[4,"min-height","px"]],[[null,"input"],[null,"keydown"]],function(n,t,e){var o=!0,i=n.component;return"input"===t&&(o=!1!==l["\u0275nov"](n,5).onInput(e.target)&&o),"keydown"===t&&(o=!1!==l["\u0275nov"](n,6).onKeydown(e)&&o),"input"===t&&(o=!1!==i.emitChangedTextEvent()&&o),o},null,null)),l["\u0275did"](5,2179072,null,0,p.a,[l.ElementRef],{autosize:[0,"autosize"]},null),l["\u0275did"](6,16384,null,0,g,[a.a],null,null),(n()(),l["\u0275eld"](7,0,null,null,1,"jr-insert-url-modal",[],null,null,null,_,O)),l["\u0275did"](8,245760,null,0,C,[u.a,h.FormBuilder,a.a,v.a],null,null),(n()(),l["\u0275eld"](9,0,null,null,1,"jr-insert-image-modal",[],null,null,null,A,k)),l["\u0275did"](10,245760,null,0,R,[u.a,a.a,v.a],{thumbnailImageOnly:[0,"thumbnailImageOnly"]},null)],function(n,t){var e=t.component;n(t,5,0,e.autosize),n(t,8,0),n(t,10,0,e.thumbnailImageOnly)},function(n,t){var e=t.component;n(t,4,0,e.inputId,e.minHeight)})}},"3P9I":function(n,t,e){"use strict";e("J4K4"),e("gFDQ"),e("Dy+N");var l=e("0/uQ"),o=e("p0ib"),i=e("F/XL"),s=e("26FU"),u=e("K9Ia"),r=e("VNr4"),a=e("G5J1"),c=e("67Y/"),d=e("9Z1F"),m=e("psW0"),p=e("mrSG"),g=e("FFOo"),h=function(){function n(n,t,e,l){this.predicate=n,this.source=t,this.yieldIndex=e,this.thisArg=l}return n.prototype.call=function(n,t){return t.subscribe(new f(n,this.predicate,this.source,this.yieldIndex,this.thisArg))},n}(),f=function(n){function t(t,e,l,o,i){var s=n.call(this,t)||this;return s.predicate=e,s.source=l,s.yieldIndex=o,s.thisArg=i,s.index=0,s}return p.__extends(t,n),t.prototype.notifyComplete=function(n){var t=this.destination;t.next(n),t.complete()},t.prototype._next=function(n){var t=this.predicate,e=this.thisArg,l=this.index++;try{t.call(e||this,n,l,this.source)&&this.notifyComplete(this.yieldIndex?l:n)}catch(n){this.destination.error(n)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(g.a),v=e("ad02"),C=e("xMyE"),O=e("oHtu"),b=e("s34m"),_=e("VbCB"),M=e("wbUM");e("zFH7"),e("LYuz"),e("U+74"),e("y2HU"),e.d(t,"a",function(){return I});var I=function(){function n(n,t,e,l,o,i,r){var a=this;this.logger=n,this.discussionExceptionService=t,this.externalNotificationAdapter=e,this.discussionBackendClient=l,this.discussionService=o,this.meProfileService=i,this.dateTimeService=r,this.COMMENT_LENGTH_LIMIT=2e3,this.COMMENT_PROJECTION=null,this.commentsSource=new s.a(void 0),this.comments$=this.commentsSource.asObservable(),this.commentsCountSource=new s.a(void 0),this.commentsCount$=this.commentsCountSource.asObservable(),this.viewRequestSource=new s.a(void 0),this.viewRequest$=this.viewRequestSource.asObservable(),this.commentAddingSource=new u.a,this.commentDeletionSource=new u.a,this.replyDataSource=new u.a,this.replyData$=this.replyDataSource.asObservable(),this.editModeSource=new u.a,this.editMode$=this.editModeSource.asObservable(),this.isMoreAvailableSource=new u.a,this.isMoreAvailable$=this.isMoreAvailableSource.asObservable(),this.animationEnabledSource=new s.a(!1),this.animationEnabled$=this.animationEnabledSource.asObservable(),this.logger.debug(this.constructor.name+" is created."),this.commentAdding$=this.commentAddingSource.pipe(Object(v.a)(function(n,t){return n.id===t.id})),this.commentAdding$.subscribe(function(n){return a.addCreatedCommentToTree(n)}),this.commentDeletion$=this.commentDeletionSource.pipe(Object(v.a)(function(n,t){return n.id===t.id})),this.commentDeletion$.subscribe(function(n){return a.deleteCommentFromTree(n)})}return n.prototype.initCommentLoad=function(n,t){var e=this;return n.limit||(n.limit=10),this.viewRequestSource.next(n),this.animationEnabledSource.next(!1),Object(r.a)(this.discussionBackendClient.loadComments(t.id,n,this.COMMENT_PROJECTION),this.meProfileService.getCurrentMeProfile()).pipe(Object(c.a)(function(n){var t=n[0],l=n[1];e.logger.info("\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432",t),e.dateTimeService.updateRelativeDates();var o=t.map(function(n){return O.a.of(n,l)});return e.commentsSource.next(o),setTimeout(function(){return e.animationEnabledSource.next(!0)},1e3),e.loadTopCommentsCount().subscribe(function(n){e.topCommentsCount=n,e.updateMoreAvailableStatus()}),!0}),Object(d.a)(function(n){return e.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"),a.a}))},n.prototype.loadMoreComments=function(){var n=this,t=this.commentsSource.getValue()[this.commentsSource.getValue().length-1],e=new _.a(this.viewRequestSource.getValue().order,10,t.time,t.id);return Object(r.a)(this.discussionBackendClient.loadComments(this.discussionService.getDiscussionInfo().id,e,this.COMMENT_PROJECTION),this.meProfileService.getCurrentMeProfile()).pipe(Object(c.a)(function(t){var e,l=t[0],o=t[1];n.logger.info("\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432",l);var i=l.map(function(n){return O.a.of(n,o)});return(e=n.commentsSource.getValue()).push.apply(e,i),n.updateMoreAvailableStatus(),!0}),Object(d.a)(function(t){return n.discussionExceptionService.handleRequestErrorInfo(t,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"),a.a}))},n.prototype.loadCommentsCount=function(){var n=this;this.discussionBackendClient.loadCommentsCount(this.discussionService.getDiscussionInfo().id,!1).subscribe(function(t){n.logger.info("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432",t),n.commentsCountSource.next(t)},function(t){n.discussionExceptionService.handleRequestErrorInfo(t,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432")})},n.prototype.loadTopCommentsCount=function(){var n=this;return this.discussionBackendClient.loadCommentsCount(this.discussionService.getDiscussionInfo().id,!0).pipe(Object(C.a)(function(t){return n.logger.info("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f",t)}),Object(d.a)(function(t){return n.discussionExceptionService.handleRequestErrorInfo(t,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"),a.a}))},n.prototype.updateMoreAvailableStatus=function(){this.viewRequestSource.getValue()&&this.viewRequestSource.getValue().order===b.a.POPULAR&&this.commentsSource.getValue()&&this.commentsSource.getValue().length>=100?this.isMoreAvailableSource.next(!1):this.commentsSource.getValue()&&this.commentsSource.getValue().length<this.topCommentsCount?this.isMoreAvailableSource.next(!0):this.isMoreAvailableSource.next(!1)},n.prototype.sendNewComment=function(n){var t=this,e=new function(n,t,e){this.message=n,this.parentCommentId=t,this.replyToUserId=e}(n.message,n.parentCommentId,n.replyToComment?n.replyToComment.owner.id:null);return Object(r.a)(this.discussionBackendClient.addComment(this.discussionService.getDiscussionInfo().id,e,this.COMMENT_PROJECTION),this.meProfileService.getCurrentMeProfile()).pipe(Object(c.a)(function(n){var e=n[0];return t.commentAddingSource.next(O.a.of(e,n[1])),t.logger.info("New comment was added.",e),!0}),Object(d.a)(function(n){return t.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"),Object(i.a)(!1)}))},n.prototype.reloadComment=function(n){return this.discussionBackendClient.loadComment(this.discussionService.getDiscussionInfo().id,n.id,this.COMMENT_PROJECTION)},n.prototype.sendEditRequest=function(n,t){var e=this,l=new function(){};return l.id=n.id,l.message=t,l.visibilityStatus="PUBLIC",this.discussionBackendClient.editComment(this.discussionService.getDiscussionInfo().id,l,this.COMMENT_PROJECTION).pipe(Object(c.a)(function(t){return n.update(t),e.logger.info("Comment was edited.",t),!0}),Object(d.a)(function(n){return e.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"),Object(i.a)(!1)}))},n.prototype.sendDeleteRequest=function(n){var t=this;return this.discussionBackendClient.deleteComment(this.discussionService.getDiscussionInfo().id,n.id).pipe(Object(c.a)(function(){return t.commentDeletionSource.next(n),t.logger.info("Comment was deleted.",n),!0}),Object(d.a)(function(n){return t.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"),Object(i.a)(!1)}))},n.prototype.addComment=function(n){this.commentAddingSource.next(n)},n.prototype.deleteComment=function(n){this.commentDeletionSource.next(n)},n.prototype.complainAboutComment=function(n){this.externalNotificationAdapter.showSuccess("\u0421\u043f\u0430\u0441\u0438\u0431\u043e! \u0422\u0432\u043e\u044f \u0436\u0430\u043b\u043e\u0431\u0430 \u043f\u0440\u0438\u043d\u044f\u0442\u0430")},n.prototype.openReplyToCommentPanel=function(n){if(n){var t=new M.a;t.parentCommentId=n&&n.parentCommentId?this.commentsSource.getValue().find(function(t){return t.id===n.parentCommentId}).id:n.id,t.replyToComment=n,this.replyDataSource.next(t)}else this.replyDataSource.next(null)},n.prototype.getCommentById=function(n){return Object(o.a)(Object(l.a)(this.commentsSource.getValue()),Object(l.a)(this.commentsSource.getValue()).pipe(Object(m.a)(function(n){return Object(l.a)(n.childrenComments)}))).pipe((t=function(t){return t.id===n},function(n){return n.lift(new h(t,n,!1,void 0))}));var t},n.prototype.openEditModePanel=function(n){this.editModeSource.next(n)},n.prototype.addCreatedCommentToTree=function(n){n.parentCommentId?this.commentsSource.getValue().find(function(t){return t.id===n.parentCommentId}).childrenComments.push(n):(this.commentsSource.getValue().unshift(n),this.topCommentsCount++),this.commentsCountSource.next(this.commentsCountSource.getValue()+1)},n.prototype.deleteCommentFromTree=function(n){if(n.parentCommentId){var t=this.commentsSource.getValue().find(function(t){return t.id===n.parentCommentId});t.childrenComments.splice(t.childrenComments.indexOf(n),1)}else this.commentsSource.getValue().splice(this.commentsSource.getValue().indexOf(n),1),this.topCommentsCount--;this.commentsCountSource.next(this.commentsCountSource.getValue()-1)},n.prototype.clearCommentsSource=function(){this.isMoreAvailableSource.next(!1),this.commentsSource.next(void 0),this.commentsCountSource.next(void 0),this.viewRequestSource.next(void 0)},n}()},"5AIX":function(n,t,e){"use strict";e.d(t,"a",function(){return l});var l=function(){}},"5Ggd":function(n,t,e){"use strict";e("gFDQ");e("1dnJ"),e("5uw7"),e.d(t,"a",function(){return l});var l=function(){function n(n,t,e,l){this.logger=n,this._renderer=t,this.richEditorService=e,this.transformationsService=l,this.minHeight=100,this.autosize=!1,this.focus=!1,this.thumbnailImageOnly=!1,this.inputId="reachEditorInputId",this.componentSubscriptions=[],this.propagateChange=function(n){},this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnInit=function(){var n=this;this.componentSubscriptions[0]=this.richEditorService.transformLauncher$.subscribe(function(t){n.sendTransformRequest(t)}),this.componentSubscriptions[1]=this.transformationsService.transformResponses$.subscribe(function(t){n.handleTransformResponse(t)}),this.focus&&this.editorElement.nativeElement.focus()},n.prototype.emitChangedTextEvent=function(){this.propagateChange(this.editorElement.nativeElement.value)},n.prototype.writeValue=function(n){this._renderer.setProperty(this.editorElement.nativeElement,"value",n||"")},n.prototype.registerOnChange=function(n){this.propagateChange=n},n.prototype.registerOnTouched=function(n){},n.prototype.setDisabledState=function(n){},n.prototype.sendTransformRequest=function(n){var t=new function(){};t.type=n,t.selectionStart=this.editorElement.nativeElement.selectionStart,t.selectionEnd=this.editorElement.nativeElement.selectionEnd,t.selectedText=this.editorElement.nativeElement.value.substring(t.selectionStart,t.selectionEnd),this.richEditorService.processTransformRequest(t)},n.prototype.handleTransformResponse=function(n){var t=this.editorElement.nativeElement.value;this.editorElement.nativeElement.value=t.substring(0,n.insertFrom)+n.text+t.substring(n.insertTo),this.editorElement.nativeElement.selectionStart=n.insertFrom,this.editorElement.nativeElement.selectionEnd=n.insertFrom+n.text.length,this.editorElement.nativeElement.focus(),this.emitChangedTextEvent()},n.prototype.ngOnDestroy=function(){this.componentSubscriptions.forEach(function(n){return n.unsubscribe()})},n}()},"5uw7":function(n,t,e){"use strict";e("gFDQ");var l=e("K9Ia"),o=e("MLWW"),i=function(){};e.d(t,"a",function(){return s});var s=function(){function n(n){this.logger=n,this.INSERT_URL_TEMPLATE="<a href='{url}' target='_blank'>{urlName}</a>",this.INSERT_EXTERNAL_URL_TEMPLATE="<a href='{url}' rel='nofollow' target='_blank'>{urlName}</a>",this.INSERT_THUMBNAIL_LEFT_IMAGE_TEMPLATE="<a href='{imageUrl}?size=0' target='_blank' class='jr-image-wrap float-left'><img src='{imageUrl}?size=64'></a>",this.INSERT_THUMBNAIL_RIGHT_IMAGE_TEMPLATE="<a href='{imageUrl}?size=0' target='_blank' class='jr-image-wrap float-right'><img src='{imageUrl}?size=64'></a>",this.INSERT_SMALL_IMAGE_TEMPLATE="<div class='jr-image-wrap'><img src='{imageUrl}?size=256' class='img-fluid'></div>",this.INSERT_LARGE_IMAGE_TEMPLATE="<div class='row justify-content-center jr-image-wrap'><div class='col-12 col-sm-10 col-md-8'><img src='{imageUrl}?size=1024' class='img-fluid'></div></div>",this.INSERT_FULL_IMAGE_TEMPLATE="<img src='{imageUrl}?size=0' class='img-fluid'>",this.transformResponsesSource=new l.a,this.transformResponses$=this.transformResponsesSource.asObservable(),this.logger.debug(this.constructor.name+" is created.")}return n.prototype.wrapOrUnwrapText=function(n,t,e){var l=n.selectedText.match("^"+t+"([\\s\\S]*)"+e+"$"),o=new i;l&&null!=l[1]?(o.text=l[1],o.insertFrom=n.selectionStart,o.insertTo=n.selectionEnd):(o.text=t+n.selectedText+e,o.insertFrom=n.selectionStart,o.insertTo=n.selectionEnd),this.transformResponsesSource.next(o)},n.prototype.insertUrl=function(n,t,e){var l;l=this.checkExternalLink(t)?this.INSERT_URL_TEMPLATE.replace("{url}",t).replace("{urlName}",e||t):this.INSERT_EXTERNAL_URL_TEMPLATE.replace("{url}",t).replace("{urlName}",e||t);var o=new i;o.text=l,o.insertFrom=n.selectionStart,o.insertTo=n.selectionEnd,this.transformResponsesSource.next(o)},n.prototype.checkExternalLink=function(n){return n.indexOf("javarush.ru")>=0&&n.indexOf("javarush.ru")<=8},n.prototype.insertImage=function(n,t,e){var l;switch(e){case o.a.FULL:l=this.INSERT_FULL_IMAGE_TEMPLATE.replace(/{imageUrl}/g,t);break;case o.a.LARGE:l=this.INSERT_LARGE_IMAGE_TEMPLATE.replace(/{imageUrl}/g,t);break;case o.a.SMALL:l=this.INSERT_SMALL_IMAGE_TEMPLATE.replace(/{imageUrl}/g,t);break;case o.a.THUMBNAIL_LEFT:l=this.INSERT_THUMBNAIL_LEFT_IMAGE_TEMPLATE.replace(/{imageUrl}/g,t);break;case o.a.THUMBNAIL_RIGHT:l=this.INSERT_THUMBNAIL_RIGHT_IMAGE_TEMPLATE.replace(/{imageUrl}/g,t)}var s=new i;s.text=l,s.insertFrom=n.selectionEnd,s.insertTo=n.selectionEnd,this.transformResponsesSource.next(s)},n}()},"7X0/":function(n,t,e){"use strict";e.d(t,"a",function(){return o});var l=e("K9Ia"),o=function(){function n(){this.menuToggledSource=new l.a,this.$menuToggled=this.menuToggledSource.asObservable()}return n.prototype.toggleMenu=function(n){this.menuToggledSource.next(n)},n.prototype.destroy=function(){this.menuToggledSource.complete()},n}()},"88/G":function(n,t,e){"use strict";e.d(t,"a",function(){return l}),e("i5Iq");var l=function(){function n(n,t,e,l){this.elRef=n,this.zone=t,this.platformId=e,this.prismProcessingService=l}return n.prototype.ngOnChanges=function(n){n.innerHtml.previousValue!==n.innerHtml.currentValue&&(this.elRef.nativeElement.innerHTML=this.innerHtml,this.needsPrismProcessing=!0)},n.prototype.ngAfterViewChecked=function(){this.needsPrismProcessing&&(this.prismSubscription&&this.prismSubscription.unsubscribe(),this.prismSubscription=this.prismProcessingService.processPrismLayout(this.elRef.nativeElement).subscribe(),this.needsPrismProcessing=!1)},n.prototype.ngOnDestroy=function(){this.prismSubscription.unsubscribe()},n}()},"8iOP":function(n,t,e){"use strict";var l;e.d(t,"a",function(){return l}),e.d(t,"b",function(){return o}),function(n){n.PREMIUM="PREMIUM",n.PREMIUM_PRO="PREMIUM_PRO"}(l||(l={}));var o=function(){function n(){}return n.PREMIUM="PREMIUM",n.PREMIUM_PRO="PREMIUM PRO",n}()},"99M4":function(n,t,e){"use strict";var l=e("CcnG"),o=e("BofX"),i=e("T5bw"),s=e("Ip0R"),u=e("gFDQ"),r=function(){function n(n,t,e){this.logger=n,this.platformId=t,this.document=e,this.facebookShareLink="https://www.facebook.com/share.php",this.vkShareLink="https://vk.com/share.php",this.linkedInShareLink="http://www.linkedin.com/shareArticle",this.twitterShareLink="https://twitter.com/share",this.googleShareLink="https://plus.google.com/share",this.subscriptionsToClose=[],this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnInit=function(){Object(s.isPlatformBrowser)(this.platformId)&&this.prepareSharingUrls()},n.prototype.prepareSharingUrls=function(){this.sharedUrl=this.getSharedUrl(),this.facebookShareLink="https://www.facebook.com/share.php?u="+this.sharedUrl,this.vkShareLink="https://vk.com/share.php?url="+this.sharedUrl,this.googleShareLink="https://plus.google.com/share?url="+this.sharedUrl,this.linkedInShareLink="http://www.linkedin.com/shareArticle?mini=true&url="+this.sharedUrl+"&source="+this.sharedUrl,this.twitterShareLink="https://twitter.com/share?url="+this.sharedUrl},n.prototype.openSharingWindow=function(n,t){t.preventDefault();var e=screen.height/2-175,l=screen.width/2-260;window.open(n,"sharer","top="+e+",left="+l+",toolbar=0,status=0,width=520,height=350")},n.prototype.getSharedUrl=function(){return window.location!==window.parent.location?document.referrer:document.location.href},n.prototype.ngOnDestroy=function(){this.subscriptionsToClose.forEach(function(n){return n.unsubscribe()})},n}(),a=l["\u0275crt"]({encapsulation:0,styles:[[".share[_ngcontent-%COMP%]   a.vk[_ngcontent-%COMP%]:hover{background-color:#577ca2}.share[_ngcontent-%COMP%]   a.facebook[_ngcontent-%COMP%]:hover{background-color:#3b5998}.share[_ngcontent-%COMP%]   a.linkedin[_ngcontent-%COMP%]:hover{background-color:#0077b5}.share[_ngcontent-%COMP%]   a.twitter[_ngcontent-%COMP%]:hover{background-color:#4cc2ff}.share[_ngcontent-%COMP%]   a.google-plus[_ngcontent-%COMP%]:hover{background-color:#f44336}.share[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] + a[_ngcontent-%COMP%]{margin-left:10px}.share[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;width:35px;text-align:center;vertical-align:top;padding:4px 0;margin:0;text-decoration:none;font-size:15px;line-height:1;color:#fff;background-color:#2f4e65;border-radius:2px;transition:background .1s,color .1s}.share[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;background-color:#2f6c97}.share[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]     .icon{width:15px;-webkit-transform:translateY(1px);transform:translateY(1px)}@media (max-width:575px){.share[_ngcontent-%COMP%]{text-align:center}.share[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .share[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] + a[_ngcontent-%COMP%]{min-width:0;width:46%;margin:0 1.2% 10px}}.light[_nghost-%COMP%]   .share[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .share[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#adb6c4}.light[_nghost-%COMP%]   a.vk[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   a.vk[_ngcontent-%COMP%]:hover{background-color:#577ca2}.light[_nghost-%COMP%]   a.facebook[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   a.facebook[_ngcontent-%COMP%]:hover{background-color:#3b5998}.light[_nghost-%COMP%]   a.linkedin[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   a.linkedin[_ngcontent-%COMP%]:hover{background-color:#0077b5}.light[_nghost-%COMP%]   a.twitter[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   a.twitter[_ngcontent-%COMP%]:hover{background-color:#4cc2ff}.light[_nghost-%COMP%]   a.google-plus[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   a.google-plus[_ngcontent-%COMP%]:hover{background-color:#f44336}"]],data:{}});function c(n){return l["\u0275vid"](2,[(n()(),l["\u0275eld"](0,0,null,null,15,"div",[["class","share"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"a",[["class","vk"]],[[8,"href",4]],[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.openSharingWindow(o.vkShareLink,e)&&l),l},null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"jr-icon",[["name","social-vk"]],null,null,null,o.b,o.a)),l["\u0275did"](3,114688,null,0,i.a,[],{name:[0,"name"]},null),(n()(),l["\u0275eld"](4,0,null,null,2,"a",[["class","facebook"]],[[8,"href",4]],[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.openSharingWindow(o.facebookShareLink,e)&&l),l},null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,"jr-icon",[["name","social-facebook"]],null,null,null,o.b,o.a)),l["\u0275did"](6,114688,null,0,i.a,[],{name:[0,"name"]},null),(n()(),l["\u0275eld"](7,0,null,null,2,"a",[["class","linkedin"]],[[8,"href",4]],[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.openSharingWindow(o.linkedInShareLink,e)&&l),l},null,null)),(n()(),l["\u0275eld"](8,0,null,null,1,"jr-icon",[["name","social-linkedin"]],null,null,null,o.b,o.a)),l["\u0275did"](9,114688,null,0,i.a,[],{name:[0,"name"]},null),(n()(),l["\u0275eld"](10,0,null,null,2,"a",[["class","twitter"]],[[8,"href",4]],[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.openSharingWindow(o.twitterShareLink,e)&&l),l},null,null)),(n()(),l["\u0275eld"](11,0,null,null,1,"jr-icon",[["name","social-twitter"]],null,null,null,o.b,o.a)),l["\u0275did"](12,114688,null,0,i.a,[],{name:[0,"name"]},null),(n()(),l["\u0275eld"](13,0,null,null,2,"a",[["class","google-plus"]],[[8,"href",4]],[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.openSharingWindow(o.googleShareLink,e)&&l),l},null,null)),(n()(),l["\u0275eld"](14,0,null,null,1,"jr-icon",[["name","social-google-plus"]],null,null,null,o.b,o.a)),l["\u0275did"](15,114688,null,0,i.a,[],{name:[0,"name"]},null)],function(n,t){n(t,3,0,"social-vk"),n(t,6,0,"social-facebook"),n(t,9,0,"social-linkedin"),n(t,12,0,"social-twitter"),n(t,15,0,"social-google-plus")},function(n,t){var e=t.component;n(t,1,0,e.vkShareLink),n(t,4,0,e.facebookShareLink),n(t,7,0,e.linkedInShareLink),n(t,10,0,e.twitterShareLink),n(t,13,0,e.googleShareLink)})}e("Bdkt");var d=e("TcM7"),m=e("MiBj"),p=e("I7SJ"),g=e("oHtu"),h=e("12JI"),f=function(){function n(n,t){this.logger=n,this.likesService=t,this.LikeStatusPositive=m.a,this.LikeStatusNegative=d.a,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnChanges=function(n){var t=this;this.displayPositiveStatuses=m.a.values().some(function(n){return n===t.likesInfo.status}),this.displayedLikeStatuses=this.likesService.getSuitableLikeStatuses(this.discussion.type,this.displayPositiveStatuses,!!this.comment)},n.prototype.selectAdditionalLikeStatus=function(n){var t=this;this.likesService.changeLikeStatus(this.discussion,this.comment,n).subscribe(function(n){p.a.update(t.likesInfo,n)})},n}(),v=l["\u0275crt"]({encapsulation:0,styles:[[".ui-menu[_ngcontent-%COMP%]   ul.ui-menu-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%], ul.ui-menu-child[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{font-size:12px}"]],data:{}});function C(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"li",[["tabindex","0"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.selectAdditionalLikeStatus(n.context.$implicit)&&l),l},null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"jr-icon",[],null,null,null,o.b,o.a)),l["\u0275did"](2,114688,null,0,i.a,[],{name:[0,"name"]},null),(n()(),l["\u0275ted"](3,null,[" "," "]))],function(n,t){n(t,2,0,l["\u0275inlineInterpolate"](1,"likes-",t.context.$implicit.toLowerCase(),""))},function(n,t){var e=t.component;n(t,3,0,e.displayPositiveStatuses?e.LikeStatusPositive.getDisplayName(t.context.$implicit):e.LikeStatusNegative.getDisplayName(t.context.$implicit))})}function O(n){return l["\u0275vid"](2,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","ui-menu like-dislike"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"ul",[["class","ui-menu-list"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,C)),l["\u0275did"](3,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,3,0,t.component.displayedLikeStatuses)},null)}var b=e("VF+C"),_=e("Bo09"),M=e("Dy+N"),I=e("7X0/"),S=e("ds6q"),y=e("ny24"),E=function(){function n(n,t,e,l){this.logger=n,this.meProfileService=t,this.likesService=e,this.changeDetector=l,this.LikeStatusPositive=m.a,this.LikeStatusNegative=d.a,this.likeDropdownMenuHandler=new I.a,this.dislikeDropdownMenuHandler=new I.a,this.isDestroyed$=new S.Subject,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnInit=function(){var n=this;this.meProfileService.isMeAuthenticated$.pipe(Object(y.a)(this.isDestroyed$)).subscribe(function(t){n.isMeAuthenticated=t,n.changeDetector.markForCheck()})},n.prototype.ngOnChanges=function(n){var t=this;this.likesInfo=this.comment?this.comment.likes:this.discussion.likes,this.isLikePositive=m.a.values().some(function(n){return n===t.likesInfo.status}),this.isLikeNegative=d.a.values().some(function(n){return n===t.likesInfo.status})},n.prototype.toggleLikeStatus=function(n){var t=this;!this.likesInfo.status||this.isLikeNegative?this.likesService.changeLikeStatus(this.discussion,this.comment,m.a.LIKE).subscribe(function(e){t.updateLikeInfo(e),t.likeDropdownMenuHandler.toggleMenu(n)}):this.likesService.changeLikeStatus(this.discussion,this.comment,null).subscribe(function(e){t.updateLikeInfo(e),t.likeDropdownMenuHandler.isMenuShown&&t.likeDropdownMenuHandler.toggleMenu(n)})},n.prototype.toggleDislikeStatus=function(n){var t=this;!this.likesInfo.status||this.isLikePositive?this.likesService.changeLikeStatus(this.discussion,this.comment,d.a.DISLIKE).subscribe(function(e){t.updateLikeInfo(e),t.dislikeDropdownMenuHandler.toggleMenu(n)}):this.likesService.changeLikeStatus(this.discussion,this.comment,null).subscribe(function(e){t.updateLikeInfo(e),t.dislikeDropdownMenuHandler.isMenuShown&&t.dislikeDropdownMenuHandler.toggleMenu(n)})},n.prototype.updateLikeInfo=function(n){var t=this;p.a.update(this.likesInfo,n),this.isLikePositive=m.a.values().some(function(n){return n===t.likesInfo.status}),this.isLikeNegative=d.a.values().some(function(n){return n===t.likesInfo.status}),this.changeDetector.markForCheck()},n.prototype.ngOnDestroy=function(){this.isDestroyed$.next(),this.isDestroyed$.complete()},n}(),P=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:inline-flex;vertical-align:middle}.reaction[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;flex-wrap:nowrap;font-size:16px}.reaction--comments[_ngcontent-%COMP%]{font-size:13.75px}.reaction--comments[_ngcontent-%COMP%]   .reaction__dislike[_ngcontent-%COMP%], .reaction--comments[_ngcontent-%COMP%]   .reaction__emotion[_ngcontent-%COMP%], .reaction--comments[_ngcontent-%COMP%]   .reaction__like[_ngcontent-%COMP%]{font-size:1.164em}.reaction--comments[_ngcontent-%COMP%]   .reaction__emotion[_ngcontent-%COMP%]:first-child{margin-left:0}.reaction--comments[_ngcontent-%COMP%]   .reaction__emotion[_ngcontent-%COMP%]:last-child{margin-right:0}.reaction--comments[_ngcontent-%COMP%]   .reaction__count[_ngcontent-%COMP%]{min-width:1.8em;margin-left:.25em;margin-right:.25em}.reaction__dislike[_ngcontent-%COMP%], .reaction__like[_ngcontent-%COMP%]{cursor:pointer;display:inline-flex;margin:0;padding:0;line-height:1;vertical-align:top;color:#4c4d4f;font-size:1.5625em;background-color:transparent;border:none;transition:color .1s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.reaction__dislike[disabled][_ngcontent-%COMP%], .reaction__like[disabled][_ngcontent-%COMP%]{pointer-events:none}.reaction__like--active[_ngcontent-%COMP%], .reaction__like[_ngcontent-%COMP%]:hover{color:#62faff}.reaction__dislike--active[_ngcontent-%COMP%], .reaction__dislike[_ngcontent-%COMP%]:hover{color:#f34d46}.reaction__emotion[_ngcontent-%COMP%]{display:inline-flex;margin-left:.4em;margin-right:.4em;vertical-align:middle;font-size:1.5625em}.reaction__emotion[_ngcontent-%COMP%]:first-child{margin-left:0}.reaction__emotion[_ngcontent-%COMP%]:last-child{margin-right:0}.reaction__dropdown[_ngcontent-%COMP%]{position:relative}.reaction__count[_ngcontent-%COMP%]{display:inline-flex;min-width:1.6em;margin-left:.325em;margin-right:.325em;justify-content:center;align-items:center;vertical-align:middle;font-size:.875em}.likes-count[_ngcontent-%COMP%]{line-height:1;color:rgba(255,255,255,.75);font-weight:600;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.likes-count--positive[_ngcontent-%COMP%]{color:#62faff}.likes-count--negative[_ngcontent-%COMP%]{color:#f34d46}.light[_nghost-%COMP%]   .likes-count[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .likes-count[_ngcontent-%COMP%]{color:rgba(23,43,83,.5)}.light[_nghost-%COMP%]   .reaction__dislike[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .reaction__dislike[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .reaction__like[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .reaction__like[_ngcontent-%COMP%]{color:#c4ccd6}.light[_nghost-%COMP%]   .likes-count--positive[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .likes-count--positive[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .reaction__like--active[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .reaction__like--active[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .reaction__like[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .reaction__like[_ngcontent-%COMP%]:hover{color:#3d95cf}.light[_nghost-%COMP%]   .likes-count--negative[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .likes-count--negative[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .reaction__dislike--active[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .reaction__dislike--active[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .reaction__dislike[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .reaction__dislike[_ngcontent-%COMP%]:hover{color:#ff5b47}"]],data:{}});function T(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","reaction__emotion"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"jr-icon",[],null,null,null,o.b,o.a)),l["\u0275did"](2,114688,null,0,i.a,[],{name:[0,"name"]},null)],function(n,t){n(t,2,0,l["\u0275inlineInterpolate"](1,"likes-",t.component.likesInfo.status.toLowerCase(),""))},null)}function w(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"jr-likes-menu",[],[[4,"display",null],[4,"height",null],[4,"width",null],[4,"z-index",null],[4,"visibility",null],[4,"position",null],[4,"left",null],[4,"right",null],[4,"top",null],[4,"bottom",null],[4,"marginLeft",null],[4,"marginright",null],[4,"marginTop",null],[4,"marginBottom",null]],[["window","resize"],["document","click"],["document","contextmenu"]],function(n,t,e){var o=!0;return"window:resize"===t&&(o=!1!==l["\u0275nov"](n,1).adjustMenuPosition()&&o),"document:click"===t&&(o=!1!==l["\u0275nov"](n,1).closeMenu(e)&&o),"document:contextmenu"===t&&(o=!1!==l["\u0275nov"](n,1).closeContextMenu(e)&&o),o},O,v)),l["\u0275did"](1,4210688,null,0,b.a,[l.ElementRef,l.ChangeDetectorRef],{dropdownMenuHandler:[0,"dropdownMenuHandler"]},null),l["\u0275did"](2,573440,null,0,f,[u.a,h.a],{likesInfo:[0,"likesInfo"],discussion:[1,"discussion"],comment:[2,"comment"]},null)],function(n,t){var e=t.component;n(t,1,0,e.dislikeDropdownMenuHandler),n(t,2,0,e.likesInfo,e.discussion,e.comment)},function(n,t){n(t,0,1,[l["\u0275nov"](t,1).display,l["\u0275nov"](t,1).height,l["\u0275nov"](t,1).width,l["\u0275nov"](t,1).zIndex,l["\u0275nov"](t,1).visibility,l["\u0275nov"](t,1).position,l["\u0275nov"](t,1).left,l["\u0275nov"](t,1).right,l["\u0275nov"](t,1).top,l["\u0275nov"](t,1).bottom,l["\u0275nov"](t,1).offsetLeft,l["\u0275nov"](t,1).offsetRight,l["\u0275nov"](t,1).offsetTop,l["\u0275nov"](t,1).offsetBottom])})}function R(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"jr-likes-menu",[],[[4,"display",null],[4,"height",null],[4,"width",null],[4,"z-index",null],[4,"visibility",null],[4,"position",null],[4,"left",null],[4,"right",null],[4,"top",null],[4,"bottom",null],[4,"marginLeft",null],[4,"marginright",null],[4,"marginTop",null],[4,"marginBottom",null]],[["window","resize"],["document","click"],["document","contextmenu"]],function(n,t,e){var o=!0;return"window:resize"===t&&(o=!1!==l["\u0275nov"](n,1).adjustMenuPosition()&&o),"document:click"===t&&(o=!1!==l["\u0275nov"](n,1).closeMenu(e)&&o),"document:contextmenu"===t&&(o=!1!==l["\u0275nov"](n,1).closeContextMenu(e)&&o),o},O,v)),l["\u0275did"](1,4210688,null,0,b.a,[l.ElementRef,l.ChangeDetectorRef],{dropdownMenuHandler:[0,"dropdownMenuHandler"]},null),l["\u0275did"](2,573440,null,0,f,[u.a,h.a],{likesInfo:[0,"likesInfo"],discussion:[1,"discussion"],comment:[2,"comment"]},null)],function(n,t){var e=t.component;n(t,1,0,e.likeDropdownMenuHandler),n(t,2,0,e.likesInfo,e.discussion,e.comment)},function(n,t){n(t,0,1,[l["\u0275nov"](t,1).display,l["\u0275nov"](t,1).height,l["\u0275nov"](t,1).width,l["\u0275nov"](t,1).zIndex,l["\u0275nov"](t,1).visibility,l["\u0275nov"](t,1).position,l["\u0275nov"](t,1).left,l["\u0275nov"](t,1).right,l["\u0275nov"](t,1).top,l["\u0275nov"](t,1).bottom,l["\u0275nov"](t,1).offsetLeft,l["\u0275nov"](t,1).offsetRight,l["\u0275nov"](t,1).offsetTop,l["\u0275nov"](t,1).offsetBottom])})}function k(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","reaction__emotion"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"jr-icon",[],null,null,null,o.b,o.a)),l["\u0275did"](2,114688,null,0,i.a,[],{name:[0,"name"]},null)],function(n,t){n(t,2,0,l["\u0275inlineInterpolate"](1,"likes-",t.component.likesInfo.status.toLowerCase(),""))},null)}function x(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,30,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,29,"div",[["class","reaction"]],null,null,null,null,null)),l["\u0275did"](2,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](3,{"reaction--comments":0}),(n()(),l["\u0275and"](16777216,null,null,1,null,T)),l["\u0275did"](5,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](6,0,null,null,8,"div",[["class","reaction__dropdown"]],null,null,null,null,null)),l["\u0275did"](7,212992,null,0,_.a,[l.ElementRef],{dropdownMenuHandler:[0,"dropdownMenuHandler"]},null),(n()(),l["\u0275eld"](8,0,null,null,4,"button",[["class","reaction__dislike"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.toggleDislikeStatus(e)&&l),l},null,null)),l["\u0275did"](9,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](10,{"reaction__dislike--active":0}),(n()(),l["\u0275eld"](11,0,null,null,1,"jr-icon",[],null,null,null,o.b,o.a)),l["\u0275did"](12,114688,null,0,i.a,[],{name:[0,"name"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,w)),l["\u0275did"](14,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](15,0,null,null,4,"div",[["class","reaction__count"]],null,null,null,null,null)),(n()(),l["\u0275eld"](16,0,null,null,3,"span",[["class","likes-count"]],null,null,null,null,null)),l["\u0275did"](17,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](18,{"likes-count--positive":0,"likes-count--negative":1,"likes-count--active":2}),(n()(),l["\u0275ted"](19,null,[" ",""])),(n()(),l["\u0275eld"](20,0,null,null,8,"div",[["class","reaction__dropdown"]],null,null,null,null,null)),l["\u0275did"](21,212992,null,0,_.a,[l.ElementRef],{dropdownMenuHandler:[0,"dropdownMenuHandler"]},null),(n()(),l["\u0275eld"](22,0,null,null,4,"button",[["class","reaction__like"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.toggleLikeStatus(e)&&l),l},null,null)),l["\u0275did"](23,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](24,{"reaction__like--active":0}),(n()(),l["\u0275eld"](25,0,null,null,1,"jr-icon",[],null,null,null,o.b,o.a)),l["\u0275did"](26,114688,null,0,i.a,[],{name:[0,"name"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,R)),l["\u0275did"](28,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,k)),l["\u0275did"](30,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,"reaction",n(t,3,0,e.comment)),n(t,5,0,e.isLikeNegative&&e.likesInfo.status!==e.LikeStatusNegative.DISLIKE),n(t,7,0,e.dislikeDropdownMenuHandler),n(t,9,0,"reaction__dislike",n(t,10,0,e.isLikeNegative)),n(t,12,0,l["\u0275inlineInterpolate"](1,"likes-dislike",e.comment?"-small":"","")),n(t,14,0,e.dislikeDropdownMenuHandler.isMenuShown),n(t,17,0,"likes-count",n(t,18,0,e.likesInfo.count>0,e.likesInfo.count<0,e.isLikeNegative||e.isLikePositive)),n(t,21,0,e.likeDropdownMenuHandler),n(t,23,0,"reaction__like",n(t,24,0,e.isLikePositive)),n(t,26,0,l["\u0275inlineInterpolate"](1,"likes-like",e.comment?"-small":"","")),n(t,28,0,e.likeDropdownMenuHandler.isMenuShown),n(t,30,0,e.isLikePositive&&e.likesInfo.status!==e.LikeStatusPositive.LIKE)},function(n,t){var e=t.component;n(t,8,0,!e.isMeAuthenticated),n(t,19,0,e.likesInfo.count>0?"+"+e.likesInfo.count:e.likesInfo.count),n(t,22,0,!e.isMeAuthenticated)})}var D=e("Pn+I"),L=function(){function n(n,t){this.logger=n,this.commentsAdminService=t,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.deleteAllUserComments=function(n){this.commentsAdminService.deleteAllUserComments(this.comment.owner,n)},n}(),A=l["\u0275crt"]({encapsulation:0,styles:[[".ui-menu[_ngcontent-%COMP%]{box-shadow:rgba(0,0,0,.8) 0 0 10px}.ui-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em}ul.ui-menu-list[_ngcontent-%COMP%]   li.danger[_ngcontent-%COMP%]{color:#f34d47}"]],data:{}});function N(n){return l["\u0275vid"](2,[(n()(),l["\u0275eld"](0,0,null,null,9,"div",[["class","ui-menu"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,8,"ul",[["class","ui-menu-list"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"li",[],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.deleteAllUserComments(1)&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0437\u0430 \u043e\u0434\u0438\u043d \u0434\u0435\u043d\u044c"])),(n()(),l["\u0275eld"](4,0,null,null,1,"li",[],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.deleteAllUserComments(7)&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0437\u0430 \u043e\u0434\u043d\u0443 \u043d\u0435\u0434\u0435\u043b\u044e"])),(n()(),l["\u0275eld"](6,0,null,null,1,"li",[],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.deleteAllUserComments(30)&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0437\u0430 \u043c\u0435\u0441\u044f\u0446"])),(n()(),l["\u0275eld"](8,0,null,null,1,"li",[],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.deleteAllUserComments()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]))],null,null)}var U=e("9fSo"),F=e("bG0t"),V=e("y2HU"),H=e("OTB5"),j=e("3P9I"),B=e("U+74"),G=function(){function n(n,t,e,l,o,i,s,u){this.logger=n,this.meProfileService=t,this.externalNotificationAdapter=e,this.discussionService=l,this.commentsService=o,this.commentsAdminService=i,this.likesService=s,this.changeDetector=u,this.CommentStatus=H.a,this.DiscussionType=U.a,this.VisibilityStatus=F.a,this.isDestroyed$=new S.Subject,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnInit=function(){var n=this;this.meProfileService.isMeModerator$.pipe(Object(y.a)(this.isDestroyed$)).subscribe(function(t){t&&(n.dropdownMenuHandler=new I.a),n.isMeModerator=t})},n.prototype.ngOnChanges=function(n){var t=this;this.discussionType=this.discussionService.getDiscussionInfo().type,this.discussionService.isMeOwnerOfQuestionTopic().subscribe(function(n){return t.isMeOwnerOfQuestionTopic=n})},n.prototype.verifyComment=function(){var n=this;this.commentsAdminService.sendEditRequest(this.comment,null,H.a.VERIFIED,null).subscribe(function(t){t&&(n.externalNotificationAdapter.showSuccess("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0432\u0435\u0440\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d"),n.changeDetector.markForCheck())})},n.prototype.openEditPanel=function(){this.commentsService.openEditModePanel(this.comment)},n.prototype.hideComment=function(){var n=this;this.commentsAdminService.sendEditRequest(this.comment,null,null,F.a.PRIVATE).subscribe(function(t){t&&(n.externalNotificationAdapter.showSuccess("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0441\u043a\u0440\u044b\u0442"),n.changeDetector.markForCheck())})},n.prototype.showComment=function(){var n=this;this.commentsAdminService.sendEditRequest(this.comment,null,null,F.a.PUBLIC).subscribe(function(t){t&&n.externalNotificationAdapter.showSuccess("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d")})},n.prototype.complain=function(){this.commentsService.complainAboutComment(this.comment)},n.prototype.deleteComment=function(){var n=this;this.isMeModerator&&!this.comment.isMeOwner?this.commentsAdminService.sendDeleteRequest(this.comment).subscribe(function(t){t&&(n.externalNotificationAdapter.showSuccess("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043f\u043e\u043c\u0435\u0447\u0435\u043d \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"),n.changeDetector.markForCheck())}):this.commentsService.sendDeleteRequest(this.comment).subscribe(function(){n.changeDetector.markForCheck()})},n.prototype.eraseComment=function(){this.isMeModerator&&!this.comment.isMeOwner?this.commentsAdminService.sendEditRequest(this.comment,g.a.MODERATOR_ERASE_COMMENT_MESSAGE,null,null).subscribe():this.commentsService.sendEditRequest(this.comment,g.a.AUTHOR_ERASE_COMMENT_MESSAGE).subscribe()},n.prototype.muteUser=function(){this.commentsAdminService.addUserToMutedList(this.comment.owner)},n.prototype.markAsSolution=function(){var n=this;this.likesService.changeLikeStatus(this.discussionService.getDiscussionInfo(),this.comment,m.a.SOLUTION).subscribe(function(){n.changeDetector.markForCheck()})},n.prototype.markAsHelpful=function(){var n=this;this.likesService.changeLikeStatus(this.discussionService.getDiscussionInfo(),this.comment,m.a.HELPFUL).subscribe(function(){n.changeDetector.markForCheck()})},n.prototype.ngOnDestroy=function(){this.isDestroyed$.next(),this.isDestroyed$.complete()},n}(),z=l["\u0275crt"]({encapsulation:0,styles:[["ul.ui-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px}ul.ui-menu-list[_ngcontent-%COMP%]   li.danger[_ngcontent-%COMP%]{color:#f34d47}ul.ui-menu-list[_ngcontent-%COMP%]   li.warning[_ngcontent-%COMP%]{color:#ff7337}ul.ui-menu-list[_ngcontent-%COMP%]   li.primary[_ngcontent-%COMP%]{color:#53d5d9}.light[_nghost-%COMP%]   ul.ui-menu-list[_ngcontent-%COMP%]   li.primary[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   ul.ui-menu-list[_ngcontent-%COMP%]   li.primary[_ngcontent-%COMP%]{color:#1267a6}ul.ui-menu-list[_ngcontent-%COMP%]   li.success[_ngcontent-%COMP%]{color:#4cb050}ul.ui-menu-list[_ngcontent-%COMP%]   li.verify[_ngcontent-%COMP%]{color:#40ab47}ul.ui-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{position:absolute;right:10px}ul.ui-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block}"]],data:{}});function q(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","success"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.markAsSolution()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u0440\u0435\u0448\u0435\u043d\u0438\u0435 "]))],null,null)}function $(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","success"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.markAsHelpful()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0439 "]))],null,null)}function W(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","verify"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.verifyComment()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,[" \u0412\u0435\u0440\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u0442\u044c "]))],null,null)}function K(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.openEditPanel()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"]))],null,null)}function Q(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","primary"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.complain()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f"]))],null,null)}function Y(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","warning"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.hideComment()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,[" \u0421\u043a\u0440\u044b\u0442\u044c "]))],null,null)}function J(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","success"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.showComment()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,[" \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c "]))],null,null)}function X(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","danger"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.deleteComment()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0423\u0434\u0430\u043b\u0438\u0442\u044c "]))],null,null)}function Z(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","danger"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.eraseComment()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0421\u0442\u0435\u0440\u0435\u0442\u044c "]))],null,null)}function nn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","warning"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435"]))],null,null)}function tn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"jr-comment-submenu",[],[[4,"display",null],[4,"height",null],[4,"width",null],[4,"z-index",null],[4,"visibility",null],[4,"position",null],[4,"left",null],[4,"right",null],[4,"top",null],[4,"bottom",null],[4,"marginLeft",null],[4,"marginright",null],[4,"marginTop",null],[4,"marginBottom",null]],[["window","resize"],["document","click"],["document","contextmenu"]],function(n,t,e){var o=!0;return"window:resize"===t&&(o=!1!==l["\u0275nov"](n,1).adjustMenuPosition()&&o),"document:click"===t&&(o=!1!==l["\u0275nov"](n,1).closeMenu(e)&&o),"document:contextmenu"===t&&(o=!1!==l["\u0275nov"](n,1).closeContextMenu(e)&&o),o},N,A)),l["\u0275did"](1,4210688,null,0,b.a,[l.ElementRef,l.ChangeDetectorRef],{dropdownMenuHandler:[0,"dropdownMenuHandler"]},null),l["\u0275did"](2,49152,null,0,L,[u.a,D.a],{comment:[0,"comment"]},null)],function(n,t){var e=t.component;n(t,1,0,e.dropdownMenuHandler),n(t,2,0,e.comment)},function(n,t){n(t,0,1,[l["\u0275nov"](t,1).display,l["\u0275nov"](t,1).height,l["\u0275nov"](t,1).width,l["\u0275nov"](t,1).zIndex,l["\u0275nov"](t,1).visibility,l["\u0275nov"](t,1).position,l["\u0275nov"](t,1).left,l["\u0275nov"](t,1).right,l["\u0275nov"](t,1).top,l["\u0275nov"](t,1).bottom,l["\u0275nov"](t,1).offsetLeft,l["\u0275nov"](t,1).offsetRight,l["\u0275nov"](t,1).offsetTop,l["\u0275nov"](t,1).offsetBottom])})}function en(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"li",[["class","danger"]],null,null,null,null,null)),l["\u0275did"](1,212992,null,0,_.a,[l.ElementRef],{dropdownMenuHandler:[0,"dropdownMenuHandler"]},null),(n()(),l["\u0275eld"](2,0,null,null,2,"span",[],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(n.component.dropdownMenuHandler.toggleMenu(e),l=!1!==e.stopPropagation()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 "])),(n()(),l["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-angle-right"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,tn)),l["\u0275did"](6,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,1,0,e.dropdownMenuHandler),n(t,6,0,e.dropdownMenuHandler.isMenuShown)},null)}function ln(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","primary"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.muteUser()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0417\u0430\u043f\u0440\u0435\u0442\u0438\u0442\u044c \u043e\u0431\u0449\u0430\u0442\u044c\u0441\u044f"]))],null,null)}function on(n){return l["\u0275vid"](2,[(n()(),l["\u0275eld"](0,0,null,null,25,"div",[["class","ui-menu"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,24,"ul",[["class","ui-menu-list"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,q)),l["\u0275did"](3,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,$)),l["\u0275did"](5,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,W)),l["\u0275did"](7,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,K)),l["\u0275did"](9,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Q)),l["\u0275did"](11,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Y)),l["\u0275did"](13,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,J)),l["\u0275did"](15,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,X)),l["\u0275did"](17,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Z)),l["\u0275did"](19,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,nn)),l["\u0275did"](21,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,en)),l["\u0275did"](23,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,ln)),l["\u0275did"](25,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,3,0,e.discussionType===e.DiscussionType.QUESTION&&(e.isMeModerator||e.isMeOwnerOfQuestionTopic)&&!e.comment.attributes.answer),n(t,5,0,e.discussionType===e.DiscussionType.QUESTION&&(e.isMeModerator||e.isMeOwnerOfQuestionTopic)&&!e.comment.attributes.answer&&!e.comment.attributes.useful),n(t,7,0,e.isMeModerator&&e.comment.status!==e.CommentStatus.VERIFIED),n(t,9,0,e.isMeModerator||e.comment.isMeOwner),n(t,11,0,!e.comment.isMeOwner),n(t,13,0,e.isMeModerator&&e.comment.visibilityStatus===e.VisibilityStatus.PUBLIC),n(t,15,0,e.isMeModerator&&e.comment.visibilityStatus!==e.VisibilityStatus.PUBLIC),n(t,17,0,(e.isMeModerator||e.comment.isMeOwner)&&e.comment.visibilityStatus!==e.VisibilityStatus.DELETED&&!e.comment.childrenComments.length),n(t,19,0,(e.isMeModerator||e.comment.isMeOwner)&&e.comment.visibilityStatus!==e.VisibilityStatus.DELETED&&e.comment.childrenComments.length>0),n(t,21,0,e.isMeModerator&&!e.comment.isMeOwner),n(t,23,0,e.isMeModerator&&!e.comment.isMeOwner),n(t,25,0,e.isMeModerator&&!e.comment.isMeOwner)},null)}var sn=e("88/G"),un=e("i5Iq"),rn=e("1on1"),an=e("5uw7"),cn=e("1dnJ"),dn=e("5Ggd"),mn=e("gIcY"),pn=e("3lvd"),gn=e("8iOP"),hn=e("J4K4"),fn=e("AytR"),vn=e("67Y/"),Cn=e("xMyE"),On=e("FCKb"),bn=function(){function n(n,t,e,l,o,i,s){this.logger=n,this.dateTimeService=t,this.meProfileService=e,this.commentsService=l,this.discussionService=o,this.commentsAdminService=i,this.changeDetector=s,this.CommentStatus=H.a,this.VisibilityStatus=F.a,this.UserSubscription=gn.a,this.UserSubscriptionDisplayNames=gn.b,this.dropdownMenuHandler=new I.a,this.isEditing=!1,this.isDestroyed$=new S.Subject,this.logger.debug(this.constructor.name+" is created.")}return Object.defineProperty(n.prototype,"comment",{get:function(){return this._comment},set:function(n){this._comment=n,this.localizedTime=this.dateTimeService.getRelativeDateTimeString(n.time),this.userProfileHref=fn.a.displayServerAddress+pn.a.userProfileHref.replace("{userId}",n.owner.id.toString())},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this;this.commentPageData$=this.loadCommentPageData().pipe(Object(Cn.a)(function(){n.discussionInfo=n.discussionService.getDiscussionInfo()})),this.commentsService.editMode$.pipe(Object(y.a)(this.isDestroyed$)).subscribe(function(t){n.comment.id===t.id&&n.showEditPanel()}),this.comment.parentCommentId||this.commentsService.replyData$.pipe(Object(y.a)(this.isDestroyed$)).subscribe(function(t){n.replyData=t&&t.parentCommentId===n.comment.id?t:null})},n.prototype.loadCommentPageData=function(){return Object(On.combineLatest)(this.meProfileService.meProfile$,this.commentsService.animationEnabled$,this.meProfileService.isUserModerator()).pipe(Object(vn.a)(function(n){var t=n[0],e=n[1],l=n[2],o=new function(){};return o.isAnimationEnabled=e,o.isMeAuthorized=!!t,o.isMeModerator=l,o}))},n.prototype.answerToThisComment=function(){this.commentsService.openReplyToCommentPanel(this.comment)},n.prototype.showEditPanel=function(){this.editedMessageFormControl=new mn.FormControl(this.comment.message,[mn.Validators.required,mn.Validators.maxLength(this.commentsService.COMMENT_LENGTH_LIMIT)]),this.messageLimit=this.commentsService.COMMENT_LENGTH_LIMIT,this.isEditing=!0},n.prototype.editComment=function(){var n=this;this.comment.isMeOwner?this.commentsService.sendEditRequest(this.comment,this.editedMessageFormControl.value).subscribe(function(t){t&&(n.closeEditPanel(),n.changeDetector.markForCheck())}):this.commentsAdminService.sendEditRequest(this.comment,this.editedMessageFormControl.value,null,null).subscribe(function(t){t&&(n.closeEditPanel(),n.changeDetector.markForCheck())})},n.prototype.closeEditPanel=function(){this.isEditing=!1},n.prototype.ngOnDestroy=function(){this.isDestroyed$.next(),this.isDestroyed$.complete()},n}(),_n=e("ij4C"),Mn=e("wbUM"),In=function(){function n(n,t,e,l){this.logger=n,this.commentsService=t,this.meProfileService=e,this.changeDetector=l,this.minHeight=100,this.previewEditor=!1,this._replyData=new Mn.a,this.DEFAULT_BUTTON_NAME="\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",this.buttonName=this.DEFAULT_BUTTON_NAME,this.isLoading=!1,this.subscriptionsToClose=[],this.isDestroyed$=new S.Subject,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnInit=function(){this.meProfile$=this.meProfileService.meProfile$,this.messageFormControl=new mn.FormControl("",[mn.Validators.required,mn.Validators.maxLength(this.commentsService.COMMENT_LENGTH_LIMIT)]),this.messageLimit=this.commentsService.COMMENT_LENGTH_LIMIT,this.serverAddress=fn.a.displayServerAddress},Object.defineProperty(n.prototype,"replyData",{get:function(){return this._replyData},set:function(n){this._replyData=n,this.buttonName="\u041e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f "+this._replyData.replyToComment.owner.displayName},enumerable:!0,configurable:!0}),n.prototype.sendNewComment=function(){var n=this;this.isLoading=!0,this.replyData.message=this.messageFormControl.value,this.commentsService.sendNewComment(this.replyData).subscribe(function(t){n.isLoading=!1,t&&n.clearReplyPanel(),n.changeDetector.markForCheck()})},n.prototype.clearReplyPanel=function(){this.replyData.parentCommentId?this.commentsService.openReplyToCommentPanel(null):(this.previewEditor=!0,this.messageFormControl.patchValue(""))},n.prototype.showEditor=function(){this.previewEditor=!1},n.prototype.toLoginPage=function(){window.top.location.href=this.serverAddress+"/login"},n.prototype.ngOnDestroy=function(){this.isDestroyed$.next(),this.isDestroyed$.complete()},n}(),Sn=l["\u0275crt"]({encapsulation:0,styles:[[".comment-reply[_ngcontent-%COMP%]{position:relative;display:block;padding:0 0 0 50px;margin-bottom:50px}@media (min-width:576px){.comment-reply[_ngcontent-%COMP%]{margin-left:0}}.comment-reply[_ngcontent-%COMP%] > .ava[_ngcontent-%COMP%]{width:40px;height:40px;position:absolute;top:0;left:0}.reply-head[_ngcontent-%COMP%]{position:relative;line-height:1;margin-bottom:5px}.reply-head[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.reply-head[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{font-size:14px;line-height:1;font-weight:700;color:#fff;text-decoration:none}.reply-foot[_ngcontent-%COMP%]{padding-top:7px;margin:0;font-size:14px;white-space:nowrap}.reply-foot[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-top:7px}.my-reply-discard[_ngcontent-%COMP%]{text-decoration:underline}.excess-symbols[_ngcontent-%COMP%], .left-symbols[_ngcontent-%COMP%]{font-size:.667em;line-height:1;padding:5px 0 0}.excess-symbols[_ngcontent-%COMP%]{color:#ff7337}.light[_nghost-%COMP%]   .reply-head[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .reply-head[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{color:#172b53}.light[_nghost-%COMP%]   .excess-symbols[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .excess-symbols[_ngcontent-%COMP%]{color:#ff6c60}.light[_nghost-%COMP%]   .form-control[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:#b7bfcd}"]],data:{animation:[{type:7,name:"flyInOut",definitions:[{type:0,name:"on",styles:{type:6,styles:{},offset:null},options:void 0},{type:1,expr:"void => on",animation:[{type:6,styles:{height:"0px",transform:"scale(1, 0)",opacity:0,marginTop:0,paddingBottom:0,paddingTop:0},offset:null},{type:4,styles:null,timings:"0.3s"}],options:null},{type:1,expr:"on => void",animation:[{type:4,styles:{type:6,styles:{height:"0px",transform:"scale(1, 0)",opacity:0,marginTop:0,paddingBottom:0,paddingTop:0},offset:null},timings:"0.3s"}],options:null}],options:{}}]}});function yn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"textarea",[["class","form-control"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"],["rows","2"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.showEditor()&&l),l},null,null))],null,null)}function En(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","col-12 col-sm-auto left-symbols"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" \u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c "," "," "])),l["\u0275pad"](2,3),l["\u0275ppd"](3,2)],null,function(n,t){var e=t.component;n(t,1,0,e.messageLimit-e.messageFormControl.value.length,l["\u0275unv"](t,1,1,n(t,3,0,l["\u0275nov"](t.parent.parent.parent,0),e.messageLimit-e.messageFormControl.value.length,n(t,2,0,"\u0441\u0438\u043c\u0432\u043e\u043b","\u0441\u0438\u043c\u0432\u043e\u043b\u0430","\u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"))))})}function Pn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","col-12 col-sm-auto excess-symbols"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" \u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u0438\u0435 \u043b\u0438\u043c\u0438\u0442\u0430 \u043d\u0430 "," "," "])),l["\u0275pad"](2,3),l["\u0275ppd"](3,2)],null,function(n,t){var e=t.component;n(t,1,0,e.messageFormControl.value.length-e.messageLimit,l["\u0275unv"](t,1,1,n(t,3,0,l["\u0275nov"](t.parent.parent.parent,0),e.messageFormControl.value.length-e.messageLimit,n(t,2,0,"\u0441\u0438\u043c\u0432\u043e\u043b","\u0441\u0438\u043c\u0432\u043e\u043b\u0430","\u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"))))})}function Tn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"button",[["class","button button--link button--wide  my-reply-discard"],["type","button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.clearReplyPanel()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u043c\u0435\u043d\u0430 "]))],null,null)}function wn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,21,"div",[],[[24,"@flyInOut",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,7,"jr-rich-editor",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,rn.b,rn.a)),l["\u0275prd"](512,null,an.a,an.a,[u.a]),l["\u0275prd"](512,null,cn.a,cn.a,[u.a,an.a]),l["\u0275did"](4,245760,null,0,dn.a,[u.a,l.Renderer2,cn.a,an.a],{minHeight:[0,"minHeight"],autosize:[1,"autosize"],focus:[2,"focus"],thumbnailImageOnly:[3,"thumbnailImageOnly"]},null),l["\u0275prd"](1024,null,mn.NG_VALUE_ACCESSOR,function(n){return[n]},[dn.a]),l["\u0275did"](6,540672,null,0,mn.FormControlDirective,[[8,null],[8,null],[6,mn.NG_VALUE_ACCESSOR],[2,mn["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,mn.NgControl,null,[mn.FormControlDirective]),l["\u0275did"](8,16384,null,0,mn.NgControlStatus,[[4,mn.NgControl]],null,null),(n()(),l["\u0275eld"](9,0,null,null,12,"div",[["class","row no-gutters"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,En)),l["\u0275did"](11,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Pn)),l["\u0275did"](13,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](14,0,null,null,7,"div",[["class","col-12 reply-foot text-center text-sm-right"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Tn)),l["\u0275did"](16,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](17,0,null,null,4,"button",[["class","button button--success button--wide"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.sendNewComment()&&l),l},null,null)),(n()(),l["\u0275eld"](18,0,null,null,1,"b",[["class","d-sm-none"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"])),(n()(),l["\u0275eld"](20,0,null,null,1,"b",[["class","d-none d-sm-inline"]],null,null,null,null,null)),(n()(),l["\u0275ted"](21,null,["",""]))],function(n,t){var e=t.component;n(t,4,0,e.minHeight,!0,!0,!0),n(t,6,0,e.messageFormControl),n(t,11,0,e.messageFormControl.value.length>.9*e.messageLimit&&e.messageFormControl.value.length<=e.messageLimit),n(t,13,0,e.messageFormControl.value.length>e.messageLimit),n(t,16,0,e.replyData.parentCommentId)},function(n,t){var e=t.component;n(t,0,0,"on"),n(t,1,0,l["\u0275nov"](t,8).ngClassUntouched,l["\u0275nov"](t,8).ngClassTouched,l["\u0275nov"](t,8).ngClassPristine,l["\u0275nov"](t,8).ngClassDirty,l["\u0275nov"](t,8).ngClassValid,l["\u0275nov"](t,8).ngClassInvalid,l["\u0275nov"](t,8).ngClassPending),n(t,17,0,e.messageFormControl.invalid||e.isLoading),n(t,21,0,e.buttonName)})}function Rn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,11,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,10,"div",[["class","comment-reply"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,2,"a",[["class","ava"]],null,null,null,null,null)),l["\u0275did"](3,278528,null,0,s.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](4,{"background-image":0}),(n()(),l["\u0275eld"](5,0,null,null,2,"div",[["class","reply-head"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,1,"span",[["class","user"]],null,null,null,null,null)),(n()(),l["\u0275ted"](7,null,["",""])),(n()(),l["\u0275and"](16777216,null,null,1,null,yn)),l["\u0275did"](9,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,wn)),l["\u0275did"](11,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,3,0,n(t,4,0,"url("+(null==t.context.ngIf?null:t.context.ngIf.pictureUrl)+")")),n(t,9,0,e.previewEditor),n(t,11,0,!e.previewEditor)},function(n,t){n(t,7,0,null==t.context.ngIf?null:t.context.ngIf.displayName)})}function kn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"div",[["class","no-content"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,4,"div",[["class","no-content__body"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,3,"span",[["class","text-uppercase"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b "])),(n()(),l["\u0275eld"](4,0,null,null,1,"a",[["class","link"]],[[8,"href",4]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.toLoginPage()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"]))],null,function(n,t){n(t,4,0,t.component.serverAddress+"/login")})}function xn(n){return l["\u0275vid"](2,[l["\u0275pid"](0,_n.a,[]),(n()(),l["\u0275and"](16777216,null,null,2,null,Rn)),l["\u0275did"](2,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),l["\u0275pid"](131072,s.AsyncPipe,[l.ChangeDetectorRef]),(n()(),l["\u0275and"](0,[["noContent",2]],null,0,null,kn))],function(n,t){var e=t.component;n(t,2,0,l["\u0275unv"](t,2,0,l["\u0275nov"](t,3).transform(e.meProfile$)),l["\u0275nov"](t,4))},null)}var Dn=l["\u0275crt"]({encapsulation:0,styles:[[".comment[_ngcontent-%COMP%]{display:block;padding:0 0 0 50px;margin:0;position:relative}.comment--erased[_ngcontent-%COMP%] > .comment-body[_ngcontent-%COMP%]{font-style:italic;font-weight:400;color:#636365}.comment[_ngcontent-%COMP%] + .comment[_ngcontent-%COMP%]{margin-top:30px}.comment[_ngcontent-%COMP%] > .ava[_ngcontent-%COMP%]{width:40px;height:40px;position:absolute;top:0;left:0}.comment-head[_ngcontent-%COMP%]{line-height:1;margin-bottom:3px}@media (min-width:640px){.comment-head[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;align-items:baseline}}.head-left[_ngcontent-%COMP%]{line-height:1;font-size:16px}.head-left[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .head-left[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-right:6px}.head-right[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:baseline;min-height:17px;margin-top:2px;line-height:1;white-space:nowrap}.head-right[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .head-right[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-right:6px}.head-right[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:last-child, .head-right[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:last-child{margin-right:0}.head-right[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{flex-grow:1}.comment-head[_ngcontent-%COMP%]   .more-setting[_ngcontent-%COMP%]{position:relative;display:inline-block;vertical-align:baseline;line-height:1;font-size:14px}@media (min-width:640px){.head-right[_ngcontent-%COMP%]{display:block;margin-top:0;text-align:right}.head-right[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .head-right[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:6px;margin-right:0}.comment-head[_ngcontent-%COMP%]   .more-setting[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-left:6px;vertical-align:baseline;line-height:1;font-size:14px}}.comment-head[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .comment-head[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:baseline}.comment-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-flex;padding:2px 7px}.comment-head[_ngcontent-%COMP%]   .badge__label[_ngcontent-%COMP%]{font-size:12px;letter-spacing:0}.comment-head[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{font-size:14px;line-height:1;font-weight:700;color:#fff;text-decoration:none}.comment-head[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:hover{text-decoration:underline}.comment-head[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .comment-head[_ngcontent-%COMP%]   .more-info[_ngcontent-%COMP%]{line-height:1;font-size:12px;color:#7b7b7c;right:0}.light[_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   .more-info[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   .more-info[_ngcontent-%COMP%]{color:#7a869a}.visibility[_ngcontent-%COMP%]{font-size:12px;line-height:1.42;color:#62faff}.visibility--private[_ngcontent-%COMP%]{color:#eee}.visibility--deleted[_ngcontent-%COMP%]{color:#f34d47}.light[_nghost-%COMP%]   .visibility[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .visibility[_ngcontent-%COMP%]{color:#3d95cf}.light[_nghost-%COMP%]   .visibility--private[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .visibility--private[_ngcontent-%COMP%]{color:rgba(23,43,83,.5)}.comment-body[_ngcontent-%COMP%]{overflow:hidden;font-size:14px;line-height:1.22;color:#fff;padding:11px 9px 10px;margin:0;border:1px solid #636365;border-radius:2px;-webkit-backface-visibility:hidden;backface-visibility:hidden}.comment-body[_ngcontent-%COMP%]     pre.line-numbers{margin-top:7px;margin-bottom:7px}.comment.verified[_ngcontent-%COMP%] > .comment-body[_ngcontent-%COMP%]{border-left:4px solid #62faff}.comment.claim[_ngcontent-%COMP%] > .comment-body[_ngcontent-%COMP%]{border-left:4px solid #f34d47}.comment.deleted[_ngcontent-%COMP%] > .ava[_ngcontent-%COMP%], .comment.deleted[_ngcontent-%COMP%] > .comment-head[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%], .comment.hidden[_ngcontent-%COMP%]   .ava[_ngcontent-%COMP%], .comment.hidden[_ngcontent-%COMP%]   .comment-body[_ngcontent-%COMP%], .comment.hidden[_ngcontent-%COMP%]   .comment-head[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{opacity:.5}.comment.deleted[_ngcontent-%COMP%] > .comment-body[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAfElEQVQ4ja3TMQrDMAwF0OfQdmqm3v+UGTOokyEEOyG2NIrPQ8NXiYif+9mxIS4yBd8lE8PnDnyEwSsBW/Gui96FQ1gPHMZa4BR2BqexI5iCVTANgxIRJQvDvmRi2K4+5TGG6IFDGO1iD2MtcAo7g9PYEUzBKpiGVTANgz/BDkE9PxQDAwAAAABJRU5ErkJggg==) left top/10px 10px}.comment-foot[_ngcontent-%COMP%]{padding:5px 0 0;margin:0;line-height:1}.comment-foot[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin-top:7px}.comment-foot[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%], .comment-foot[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{vertical-align:top}.comment-foot[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;font-size:12px;line-height:1;color:#7b7b7c;text-decoration:none;padding:0;margin:0;cursor:pointer}.comment-foot[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]:hover{text-decoration:none;color:#62faff}.view-text[_ngcontent-%COMP%]{word-wrap:break-word;white-space:pre-wrap;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.view-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.view-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.comment-layout[_ngcontent-%COMP%]{margin-top:30px}.comment-children[_ngcontent-%COMP%]   .comment-layout[_ngcontent-%COMP%]{margin-top:11px}.comment-edit-buttons[_ngcontent-%COMP%]{margin-top:10px}.left-symbols[_ngcontent-%COMP%]{font-size:.778em;padding-top:15px}.excess-symbols[_ngcontent-%COMP%]{font-size:.778em;padding-top:15px;color:#ff7337}@media (max-width:767px){.comment-children[_ngcontent-%COMP%]{margin-left:-25px}}.comment-answer[_ngcontent-%COMP%]{margin-top:10px}.comment[_ngcontent-%COMP%]     jr-likes-menu, jr-comment-menu[_ngcontent-%COMP%]{margin-top:3px}.menu-button[_ngcontent-%COMP%]{padding-left:4px;padding-right:4px;font-size:13px}.light[_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{color:#172b53}.light[_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:rgba(0,0,0,.7)}.light[_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   i.fa[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   i.fa[_ngcontent-%COMP%]{color:#3498db}.light[_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   i.fa.fa-eye-slash[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   i.fa.fa-eye-slash[_ngcontent-%COMP%]{color:#faa033}.light[_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   i.fa.fa-eye-slash.deleted[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment-head[_ngcontent-%COMP%]   i.fa.fa-eye-slash.deleted[_ngcontent-%COMP%]{color:#ff6c60}.light[_nghost-%COMP%]   .comment-body[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment-body[_ngcontent-%COMP%]{border:1px solid #d5dae2;color:#172b53;background:#fff}.light[_nghost-%COMP%]   .comment.verified[_ngcontent-%COMP%] > .comment-body[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment.verified[_ngcontent-%COMP%] > .comment-body[_ngcontent-%COMP%]{border-left:4px solid #43aaeb}.light[_nghost-%COMP%]   .comment.claim[_ngcontent-%COMP%] > .comment-body[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment.claim[_ngcontent-%COMP%] > .comment-body[_ngcontent-%COMP%]{border-left:4px solid #ff6c60}.light[_nghost-%COMP%]   .comment-foot[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comment-foot[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]{color:#7a869a}.light[_nghost-%COMP%]   .comment-foot[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .comment-foot[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]:hover{color:#172b53}.light[_nghost-%COMP%]   .comment-foot[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]:active, .light   [_nghost-%COMP%]   .comment-foot[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]:active{color:#172b53}"]],data:{animation:[{type:7,name:"flyInOut",definitions:[{type:0,name:"on",styles:{type:6,styles:{},offset:null},options:void 0},{type:1,expr:"void => on",animation:[{type:6,styles:{height:"0px",transform:"scale(1, 0)",opacity:0,marginTop:0,paddingBottom:0,paddingTop:0},offset:null},{type:4,styles:null,timings:"0.3s"}],options:null},{type:1,expr:"on => void",animation:[{type:4,styles:{type:6,styles:{height:"0px",transform:"scale(1, 0)",opacity:0,marginTop:0,paddingBottom:0,paddingTop:0},offset:null},timings:"0.3s"}],options:null}],options:{}}]}});function Ln(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"jr-icon",[["name","common-eye-slash"]],null,null,null,o.b,o.a)),l["\u0275did"](1,114688,null,0,i.a,[],{name:[0,"name"]},null)],function(n,t){n(t,1,0,"common-eye-slash")},null)}function An(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"jr-icon",[["name","common-eye"]],null,null,null,o.b,o.a)),l["\u0275did"](1,114688,null,0,i.a,[],{name:[0,"name"]},null)],function(n,t){n(t,1,0,"common-eye")},null)}function Nn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"span",[["class","visibility"]],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](2,{"visibility--deleted":0,"visibility--private":1}),(n()(),l["\u0275and"](16777216,null,null,1,null,Ln)),l["\u0275did"](4,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,An)),l["\u0275did"](6,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,1,0,"visibility",n(t,2,0,e.comment.visibilityStatus===e.VisibilityStatus.DELETED,e.comment.visibilityStatus===e.VisibilityStatus.PRIVATE)),n(t,4,0,e.comment.visibilityStatus===e.VisibilityStatus.PRIVATE),n(t,6,0,e.comment.visibilityStatus===e.VisibilityStatus.DELETED||e.comment.visibilityStatus===e.VisibilityStatus.PUBLIC)},null)}function Un(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"span",[["class","badge badge--tiny badge--uppercase"]],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](2,{"badge--green":0,"badge--orange":1}),(n()(),l["\u0275eld"](3,0,null,null,1,"span",[["class","badge__label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](4,null,["",""]))],function(n,t){var e=t.component;n(t,1,0,"badge badge--tiny badge--uppercase",n(t,2,0,e.comment.owner.subscription==e.UserSubscription.PREMIUM,e.comment.owner.subscription==e.UserSubscription.PREMIUM_PRO))},function(n,t){var e=t.component;n(t,4,0,e.UserSubscriptionDisplayNames[e.comment.owner.subscription])})}function Fn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"span",[["class","badge badge--green badge--tiny badge--uppercase"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"span",[["class","badge__label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u0440\u0435\u0448\u0435\u043d\u0438\u0435"]))],null,null)}function Vn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"span",[["class","badge badge--blue badge--tiny badge--uppercase"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"span",[["class","badge__label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0439"]))],null,null)}function Hn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"jr-comment-menu",[],[[4,"display",null],[4,"height",null],[4,"width",null],[4,"z-index",null],[4,"visibility",null],[4,"position",null],[4,"left",null],[4,"right",null],[4,"top",null],[4,"bottom",null],[4,"marginLeft",null],[4,"marginright",null],[4,"marginTop",null],[4,"marginBottom",null]],[["window","resize"],["document","click"],["document","contextmenu"]],function(n,t,e){var o=!0;return"window:resize"===t&&(o=!1!==l["\u0275nov"](n,1).adjustMenuPosition()&&o),"document:click"===t&&(o=!1!==l["\u0275nov"](n,1).closeMenu(e)&&o),"document:contextmenu"===t&&(o=!1!==l["\u0275nov"](n,1).closeContextMenu(e)&&o),o},on,z)),l["\u0275did"](1,4210688,null,0,b.a,[l.ElementRef,l.ChangeDetectorRef],{dropdownMenuHandler:[0,"dropdownMenuHandler"]},null),l["\u0275did"](2,770048,null,0,G,[u.a,M.a,V.a,B.a,j.a,D.a,h.a,l.ChangeDetectorRef],{comment:[0,"comment"]},null)],function(n,t){var e=t.component;n(t,1,0,e.dropdownMenuHandler),n(t,2,0,e.comment)},function(n,t){n(t,0,1,[l["\u0275nov"](t,1).display,l["\u0275nov"](t,1).height,l["\u0275nov"](t,1).width,l["\u0275nov"](t,1).zIndex,l["\u0275nov"](t,1).visibility,l["\u0275nov"](t,1).position,l["\u0275nov"](t,1).left,l["\u0275nov"](t,1).right,l["\u0275nov"](t,1).top,l["\u0275nov"](t,1).bottom,l["\u0275nov"](t,1).offsetLeft,l["\u0275nov"](t,1).offsetRight,l["\u0275nov"](t,1).offsetTop,l["\u0275nov"](t,1).offsetBottom])})}function jn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,8,"div",[["class","more-setting"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,5,"button",[["class","button menu-button"],["type","button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.dropdownMenuHandler.toggleMenu(e)&&l),l},null,null)),l["\u0275did"](2,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](3,{"menu-button--open":0}),l["\u0275did"](4,212992,null,0,_.a,[l.ElementRef],{dropdownMenuHandler:[0,"dropdownMenuHandler"]},null),(n()(),l["\u0275eld"](5,0,null,null,1,"jr-icon",[["name","common-more"]],null,null,null,o.b,o.a)),l["\u0275did"](6,114688,null,0,i.a,[],{name:[0,"name"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Hn)),l["\u0275did"](8,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,"button menu-button",n(t,3,0,e.dropdownMenuHandler.isMenuShown)),n(t,4,0,e.dropdownMenuHandler),n(t,6,0,"common-more"),n(t,8,0,e.dropdownMenuHandler.isMenuShown)},null)}function Bn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","comment-body"]],[[24,"@flyInOut",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"div",[["class","view-text"]],null,null,null,null,null)),l["\u0275did"](2,9060352,null,0,sn.a,[l.ElementRef,l.NgZone,l.PLATFORM_ID,un.a],{innerHtml:[0,"innerHtml"]},null)],function(n,t){n(t,2,0,t.component.comment.message)},function(n,t){n(t,0,0,t.parent.context.ngIf.isAnimationEnabled?"on":"off")})}function Gn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","col-12 col-sm-auto left-symbols"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" \u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c "," "," "])),l["\u0275pad"](2,3),l["\u0275ppd"](3,2)],null,function(n,t){var e=t.component;n(t,1,0,t.parent.parent.context.ngIf.messageLimit-e.editedMessageFormControl.value.length,l["\u0275unv"](t,1,1,n(t,3,0,l["\u0275nov"](t.parent.parent.parent,0),t.parent.parent.context.ngIf.messageLimit-e.editedMessageFormControl.value.length,n(t,2,0,"\u0441\u0438\u043c\u0432\u043e\u043b","\u0441\u0438\u043c\u0432\u043e\u043b\u0430","\u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"))))})}function zn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","col-12 col-sm-auto excess-symbols"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" \u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u0438\u0435 \u043b\u0438\u043c\u0438\u0442\u0430 \u043d\u0430 "," "," "])),l["\u0275pad"](2,3),l["\u0275ppd"](3,2)],null,function(n,t){var e=t.component;n(t,1,0,e.editedMessageFormControl.value.length-e.messageLimit,l["\u0275unv"](t,1,1,n(t,3,0,l["\u0275nov"](t.parent.parent.parent,0),e.editedMessageFormControl.value.length-t.parent.parent.context.ngIf.messageLimit,n(t,2,0,"\u0441\u0438\u043c\u0432\u043e\u043b","\u0441\u0438\u043c\u0432\u043e\u043b\u0430","\u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"))))})}function qn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,18,"div",[],[[24,"@flyInOut",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,7,"jr-rich-editor",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,rn.b,rn.a)),l["\u0275prd"](512,null,an.a,an.a,[u.a]),l["\u0275prd"](512,null,cn.a,cn.a,[u.a,an.a]),l["\u0275did"](4,245760,null,0,dn.a,[u.a,l.Renderer2,cn.a,an.a],{autosize:[0,"autosize"],thumbnailImageOnly:[1,"thumbnailImageOnly"]},null),l["\u0275prd"](1024,null,mn.NG_VALUE_ACCESSOR,function(n){return[n]},[dn.a]),l["\u0275did"](6,540672,null,0,mn.FormControlDirective,[[8,null],[8,null],[6,mn.NG_VALUE_ACCESSOR],[2,mn["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,mn.NgControl,null,[mn.FormControlDirective]),l["\u0275did"](8,16384,null,0,mn.NgControlStatus,[[4,mn.NgControl]],null,null),(n()(),l["\u0275eld"](9,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Gn)),l["\u0275did"](11,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,zn)),l["\u0275did"](13,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](14,0,null,null,4,"div",[["class","col text-right comment-edit-buttons"]],null,null,null,null,null)),(n()(),l["\u0275eld"](15,0,null,null,1,"button",[["class","button button--link button--wide comment-edit-discard"],["type","button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.closeEditPanel()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u043c\u0435\u043d\u0430 "])),(n()(),l["\u0275eld"](17,0,null,null,1,"button",[["class","button button--success button--md-wide"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.editComment()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,[" \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c "]))],function(n,t){var e=t.component;n(t,4,0,!0,!0),n(t,6,0,e.editedMessageFormControl),n(t,11,0,e.editedMessageFormControl.value.length>.9*t.parent.context.ngIf.messageLimit&&e.editedMessageFormControl.value.length<=t.parent.context.ngIf.messageLimit),n(t,13,0,e.editedMessageFormControl.value.length>t.parent.context.ngIf.messageLimit)},function(n,t){var e=t.component;n(t,0,0,t.parent.context.ngIf.isAnimationEnabled?"on":"off"),n(t,1,0,l["\u0275nov"](t,8).ngClassUntouched,l["\u0275nov"](t,8).ngClassTouched,l["\u0275nov"](t,8).ngClassPristine,l["\u0275nov"](t,8).ngClassDirty,l["\u0275nov"](t,8).ngClassValid,l["\u0275nov"](t,8).ngClassInvalid,l["\u0275nov"](t,8).ngClassPending),n(t,17,0,e.editedMessageFormControl.invalid)})}function $n(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"span",[["class","answer"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.answerToThisComment()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"]))],null,null)}function Wn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"div",[["class","comment-foot"]],[[24,"@flyInOut",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,5,"div",[["class","row no-gutters"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,$n)),l["\u0275did"](3,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](4,0,null,null,2,"div",[["class","col text-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,"jr-likes-panel",[],null,null,null,x,P)),l["\u0275did"](6,770048,null,0,E,[u.a,M.a,h.a,l.ChangeDetectorRef],{discussion:[0,"discussion"],comment:[1,"comment"]},null)],function(n,t){var e=t.component;n(t,3,0,t.parent.context.ngIf.isMeAuthorized&&!e.replyData),n(t,6,0,e.discussionInfo,e.comment)},function(n,t){n(t,0,0,t.parent.context.ngIf.isAnimationEnabled?"on":"off")})}function Kn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","comment-layout"]],[[24,"@flyInOut",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"jr-comment",[],null,null,null,Xn,Dn)),l["\u0275did"](2,245760,null,0,bn,[u.a,hn.a,M.a,j.a,B.a,D.a,l.ChangeDetectorRef],{comment:[0,"comment"]},null)],function(n,t){n(t,2,0,t.context.$implicit)},function(n,t){n(t,0,0,t.parent.parent.context.ngIf.isAnimationEnabled?"on":"off")})}function Qn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","comment-children"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Kn)),l["\u0275did"](2,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,2,0,t.component.comment.childrenComments)},null)}function Yn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","comment-answer"]],[[24,"@flyInOut",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"jr-my-reply",[],null,null,null,xn,Sn)),l["\u0275did"](2,245760,null,0,In,[u.a,j.a,M.a,l.ChangeDetectorRef],{replyData:[0,"replyData"]},null)],function(n,t){n(t,2,0,t.component.replyData)},function(n,t){n(t,0,0,t.parent.context.ngIf.isAnimationEnabled?"on":"off")})}function Jn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,35,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,34,"div",[["class","comment"]],null,null,null,null,null)),l["\u0275did"](2,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](3,{verified:0,unverified:1,claim:2,hidden:3,deleted:4,"comment--erased":5}),(n()(),l["\u0275eld"](4,0,null,null,2,"a",[["class","ava"],["tabindex","-1"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),l["\u0275did"](5,278528,null,0,s.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](6,{"background-image":0}),(n()(),l["\u0275eld"](7,0,null,null,18,"div",[["class","comment-head"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,8,"div",[["class","head-left"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,1,"a",[["class","user"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(n()(),l["\u0275ted"](10,null,["",""])),(n()(),l["\u0275eld"](11,0,null,null,1,"span",[["class","more-info"]],null,null,null,null,null)),(n()(),l["\u0275ted"](12,null,[""," \u0443\u0440\u043e\u0432\u0435\u043d\u044c",""])),(n()(),l["\u0275and"](16777216,null,null,1,null,Nn)),l["\u0275did"](14,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Un)),l["\u0275did"](16,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](17,0,null,null,8,"div",[["class","head-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](18,0,null,null,1,"span",[["class","date"]],null,null,null,null,null)),(n()(),l["\u0275ted"](19,null,["",""])),(n()(),l["\u0275and"](16777216,null,null,1,null,Fn)),l["\u0275did"](21,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Vn)),l["\u0275did"](23,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,jn)),l["\u0275did"](25,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Bn)),l["\u0275did"](27,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,qn)),l["\u0275did"](29,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Wn)),l["\u0275did"](31,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Qn)),l["\u0275did"](33,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Yn)),l["\u0275did"](35,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,"comment",n(t,3,0,t.context.ngIf.isMeModerator&&e.comment.status===e.CommentStatus.VERIFIED,t.context.ngIf.isMeModerator&&e.comment.status===e.CommentStatus.UNVERIFIED,t.context.ngIf.isMeModerator&&e.comment.status===e.CommentStatus.CLAIM,t.context.ngIf.isMeModerator&&e.comment.visibilityStatus===e.VisibilityStatus.PRIVATE,t.context.ngIf.isMeModerator&&e.comment.visibilityStatus===e.VisibilityStatus.DELETED,e.comment.isErased)),n(t,5,0,n(t,6,0,"url("+e.comment.owner.pictureUrl+")")),n(t,14,0,t.context.ngIf.isMeModerator),n(t,16,0,e.comment.owner.subscription),n(t,21,0,e.comment.attributes.answer),n(t,23,0,e.comment.attributes.useful&&!e.comment.attributes.answer),n(t,25,0,t.context.ngIf.isMeAuthorized&&!e.comment.isErased),n(t,27,0,!e.isEditing),n(t,29,0,e.isEditing),n(t,31,0,!e.isEditing),n(t,33,0,e.comment.childrenComments&&e.comment.childrenComments.length>0),n(t,35,0,e.replyData)},function(n,t){var e=t.component;n(t,4,0,e.userProfileHref),n(t,9,0,e.userProfileHref),n(t,10,0,e.comment.owner.displayName),n(t,12,0,e.comment.owner.level,e.comment.owner.city?", "+e.comment.owner.city:""),n(t,19,0,e.localizedTime)})}function Xn(n){return l["\u0275vid"](2,[l["\u0275pid"](0,_n.a,[]),(n()(),l["\u0275and"](16777216,null,null,2,null,Jn)),l["\u0275did"](2,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,s.AsyncPipe,[l.ChangeDetectorRef])],function(n,t){var e=t.component;n(t,2,0,l["\u0275unv"](t,2,0,l["\u0275nov"](t,3).transform(e.commentPageData$)))},null)}var Zn=e("drJb"),nt=e("I8YW"),tt=e("uB8/"),et=e("MVCs"),lt=e("s34m"),ot=e("VbCB"),it=e("oF3d"),st=e("dzgT"),ut=function(){function n(n,t,e,l,o,i,s,u,r){this.logger=n,this.router=t,this.elementRef=e,this.pageNavigationService=l,this.statiscticService=o,this.commentsWebsocketService=i,this.commentsService=s,this.changeDetector=u,this.platformId=r,this.ELEMENT_ANCHOR="discussion",this.CommentsOrder=lt.a,this.defaultOrder=lt.a.CREATED_TIME_DESC,this.isDestroyed$=new S.Subject,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnChanges=function(n){this.clearComments(),this.isComponentInitialized&&this.initialCommentLoad(this.defaultOrder)},n.prototype.ngOnInit=function(){var n=this;this.loadCommentsMainPageData().pipe(Object(y.a)(this.isDestroyed$)).subscribe(function(t){n.commentsViewRequest=t.commentsViewRequest,n.isMoreAvailable=t.isMoreAvailable,n.isAnimationEnabled=t.isAnimationEnabled,n.changeDetector.markForCheck()}),this.loadCommentsData().pipe(Object(y.a)(this.isDestroyed$)).subscribe(function(t){var e=t[1];n.comments=t[0],n.commentsCount=e,n.changeDetector.markForCheck()}),this.statiscticService.setCurrentCommentsBlock(this.elementRef.nativeElement),this.initialCommentLoad(this.defaultOrder),Object(s.isPlatformBrowser)(this.platformId)&&(this.isComponentInitialized=!0)},n.prototype.loadCommentsData=function(){return Object(st.a)(this.commentsService.comments$,this.commentsService.commentsCount$)},n.prototype.loadCommentsMainPageData=function(){return Object(st.a)(this.commentsService.viewRequest$,this.commentsService.isMoreAvailable$,this.commentsService.animationEnabled$).pipe(Object(vn.a)(function(n){var t=n[0],e=n[1],l=n[2],o=new function(){};return o.commentsViewRequest=t,o.isMoreAvailable=e,o.isAnimationEnabled=l,o}))},n.prototype.initialCommentLoad=function(n){var t=this,e=new ot.a(n,10);this.commentsService.initCommentLoad(e,this.discussion).subscribe(function(){return t.setAnchorToCommentsBlock()}),this.commentsWebsocketService.initWebsocketCommentOperations(),this.commentsService.loadCommentsCount()},n.prototype.setAnchorToCommentsBlock=function(){this.pageNavigationService.addVirtualAnchor(this.ELEMENT_ANCHOR,this.elementRef.nativeElement)},n.prototype.loadMoreComments=function(){var n=this;if(this.isLoading=!0,this.commentsViewRequest.order!==lt.a.POPULAR)this.commentsService.loadMoreComments().subscribe(function(){return n.isLoading=!1});else{var t=new ot.a(lt.a.POPULAR,this.commentsViewRequest.limit+10);this.commentsService.initCommentLoad(t,this.discussion).subscribe(function(){return n.isLoading=!1})}},n.prototype.clearComments=function(){this.commentsWebsocketService.removeAllTopicSubscriptions(),this.commentsService.clearCommentsSource(),this.pageNavigationService.removeVirtualAnchor(this.ELEMENT_ANCHOR)},n.prototype.ngOnDestroy=function(){this.clearComments(),this.statiscticService.setCurrentCommentsBlock(null),this.isDestroyed$.next(),this.isDestroyed$.complete()},n}(),rt=e("ZYCi"),at=l["\u0275crt"]({encapsulation:0,styles:[[".tabs[_ngcontent-%COMP%]{align-self:flex-end;margin-bottom:-1px;border-bottom:0;box-shadow:none}.comments-head[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #42637c;padding:0;margin:0 0 30px;color:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.comments-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .comments-head__title[_ngcontent-%COMP%]{display:inline-block;margin:0;padding:13px 0 14px;line-height:1;font-size:14px;font-weight:600}.comment-layout[_ngcontent-%COMP%]{margin-top:30px}@media (max-width:575px){.comments-head[_ngcontent-%COMP%]   .comments-head__title[_ngcontent-%COMP%], .comments-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:block;text-align:center;font-size:13px}}.light[_nghost-%COMP%]   .comments-head[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .comments-head[_ngcontent-%COMP%]{color:#172b53;border-bottom:1px solid #7a869a}"]],data:{animation:[{type:7,name:"flyInOut",definitions:[{type:0,name:"on",styles:{type:6,styles:{},offset:null},options:void 0},{type:1,expr:"void => on",animation:[{type:6,styles:{height:"0px",transform:"scale(1, 0)",opacity:0,marginTop:0,paddingBottom:0,paddingTop:0},offset:null},{type:4,styles:null,timings:"0.3s"}],options:null},{type:1,expr:"on => void",animation:[{type:4,styles:{type:6,styles:{height:"0px",transform:"scale(1, 0)",opacity:0,marginTop:0,paddingBottom:0,paddingTop:0},offset:null},timings:"0.3s"}],options:null}],options:{}}]}});function ct(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,16,"div",[["class","tabs tabs--small d-flex justify-content-center justify-content-sm-end"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,15,"ul",[["class","tabs__list"],["role","tablist"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,4,"li",[["class","tabs__item"]],null,null,null,null,null)),l["\u0275did"](3,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](4,{"tabs__item--active":0}),(n()(),l["\u0275eld"](5,0,null,null,1,"span",[["class","tabs__button"]],null,[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.initialCommentLoad(o.CommentsOrder.POPULAR)&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435"])),(n()(),l["\u0275eld"](7,0,null,null,4,"li",[["class","tabs__item"]],null,null,null,null,null)),l["\u0275did"](8,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](9,{"tabs__item--active":0}),(n()(),l["\u0275eld"](10,0,null,null,1,"span",[["class","tabs__button"]],null,[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.initialCommentLoad(o.CommentsOrder.CREATED_TIME_DESC)&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u043d\u043e\u0432\u044b\u0435"])),(n()(),l["\u0275eld"](12,0,null,null,4,"li",[["class","tabs__item"]],null,null,null,null,null)),l["\u0275did"](13,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](14,{"tabs__item--active":0}),(n()(),l["\u0275eld"](15,0,null,null,1,"span",[["class","tabs__button"]],null,[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.initialCommentLoad(o.CommentsOrder.CREATED_TIME_ASC)&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0441\u0442\u0430\u0440\u044b\u0435"]))],function(n,t){var e=t.component;n(t,3,0,"tabs__item",n(t,4,0,e.commentsViewRequest.order===e.CommentsOrder.POPULAR)),n(t,8,0,"tabs__item",n(t,9,0,e.commentsViewRequest.order===e.CommentsOrder.CREATED_TIME_DESC)),n(t,13,0,"tabs__item",n(t,14,0,e.commentsViewRequest.order===e.CommentsOrder.CREATED_TIME_ASC))},null)}function dt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"div",[["class","no-content"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","no-content__head"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"jr-icon",[["name","common-comments"]],null,null,null,o.b,o.a)),l["\u0275did"](3,114688,null,0,i.a,[],{name:[0,"name"]},null),(n()(),l["\u0275eld"](4,0,null,null,2,"div",[["class","no-content__body"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,"span",[["class","text-uppercase"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["\u0423 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0435\u0449\u0435 \u043d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"]))],function(n,t){n(t,3,0,"common-comments")},null)}function mt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","comment-layout"]],[[24,"@flyInOut",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"jr-comment",[],null,null,null,Xn,Dn)),l["\u0275did"](2,245760,null,0,bn,[u.a,hn.a,M.a,j.a,B.a,D.a,l.ChangeDetectorRef],{comment:[0,"comment"]},null)],function(n,t){n(t,2,0,t.context.$implicit)},function(n,t){n(t,0,0,t.component.isAnimationEnabled?"on":"off")})}function pt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","text-center comments-more"]],[[24,"@flyInOut",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,6,"button",[["class","button button--info button--md"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.loadMoreComments()&&l),l},null,null)),(n()(),l["\u0275eld"](2,0,null,null,4,"div",[["class","button__icon"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,3,"jr-icon",[["name","common-reload"]],null,null,null,o.b,o.a)),l["\u0275did"](4,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](5,{spinning:0}),l["\u0275did"](6,114688,null,0,i.a,[],{name:[0,"name"]},null),(n()(),l["\u0275ted"](-1,null,[" \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435 "]))],function(n,t){n(t,4,0,n(t,5,0,t.component.isLoading)),n(t,6,0,"common-reload")},function(n,t){n(t,0,0,t.component.isAnimationEnabled?"on":"off")})}function gt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,15,"div",[["class","comments-main__container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,4,"div",[["class","comments-head d-sm-flex justify-content-sm-between"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"div",[["class","comments-head__title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](3,null,["\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 "," "])),(n()(),l["\u0275and"](16777216,null,null,1,null,ct)),l["\u0275did"](5,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](6,0,null,null,7,"div",[["class","comments vertical-gutter-bottom"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,2,"div",[["class","comment-layout"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,1,"jr-my-reply",[],null,null,null,xn,Sn)),l["\u0275did"](9,245760,null,0,In,[u.a,j.a,M.a,l.ChangeDetectorRef],{minHeight:[0,"minHeight"],previewEditor:[1,"previewEditor"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,dt)),l["\u0275did"](11,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,mt)),l["\u0275did"](13,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,pt)),l["\u0275did"](15,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,5,0,e.commentsViewRequest),n(t,9,0,180,!0),n(t,11,0,void 0!==e.comments&&0===e.comments.length),n(t,13,0,e.comments),n(t,15,0,e.isMoreAvailable)},function(n,t){var e=t.component;n(t,3,0,void 0===e.commentsCount?"":"("+e.commentsCount+")")})}function ht(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"jr-loader",[],null,null,null,Zn.b,Zn.a)),l["\u0275did"](1,49152,null,1,nt.a,[u.a],null,null),l["\u0275qud"](335544320,1,{content:0})],null,null)}function ft(n){return l["\u0275vid"](2,[(n()(),l["\u0275and"](16777216,null,null,1,null,gt)),l["\u0275did"](1,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),l["\u0275and"](0,[["loading",2]],null,0,null,ht))],function(n,t){n(t,1,0,t.component.comments,l["\u0275nov"](t,2))},null)}var vt=e("YquS");e.d(t,"b",function(){return Ct}),e.d(t,"c",function(){return bt}),e.d(t,"a",function(){return _t});var Ct=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;width:100%;padding-top:3px;background:0 0}jr-comments-main[_ngcontent-%COMP%]{display:block;max-width:760px;margin-left:auto;margin-right:auto;padding-bottom:25px}"]],data:{}});function Ot(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","share-and-rating"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,6,"div",[["class","share-and-rating__container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,2,"div",[["class","share-and-rating__share"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"jr-sharing",[],null,null,null,c,a)),l["\u0275did"](4,245760,null,0,r,[u.a,l.PLATFORM_ID,s.DOCUMENT],null,null),(n()(),l["\u0275eld"](5,0,null,null,2,"div",[["class","share-and-rating__rating"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,1,"jr-likes-panel",[],null,null,null,x,P)),l["\u0275did"](7,770048,null,0,E,[u.a,M.a,h.a,l.ChangeDetectorRef],{discussion:[0,"discussion"]},null)],function(n,t){var e=t.component;n(t,4,0),n(t,7,0,e.discussion)},null)}function bt(n){return l["\u0275vid"](2,[(n()(),l["\u0275and"](16777216,null,null,1,null,Ot)),l["\u0275did"](1,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](2,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"jr-comments-main",[],null,null,null,ft,at)),l["\u0275did"](4,770048,null,0,ut,[u.a,rt.n,l.ElementRef,tt.a,et.a,it.a,j.a,l.ChangeDetectorRef,l.PLATFORM_ID],{discussion:[0,"discussion"],defaultOrder:[1,"defaultOrder"]},null)],function(n,t){var e=t.component;n(t,1,0,!e.onlyComments),n(t,4,0,e.discussion,e.defaultCommentsOrder)},null)}var _t=l["\u0275ccf"]("jr-discussion",vt.a,function(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"jr-discussion",[],null,null,null,bt,Ct)),l["\u0275did"](1,770048,null,0,vt.a,[u.a,l.PLATFORM_ID,s.DOCUMENT,l.ElementRef,l.Renderer2,rt.a,B.a,j.a,V.a,l.ChangeDetectorRef],null,null)],function(n,t){n(t,1,0)},null)},{discussion:"discussion",discussionTopic:"discussionTopic",onlyComments:"onlyComments",defaultCommentsOrder:"defaultCommentsOrder",showSubscriptionLabels:"showSubscriptionLabels"},{onCommentAdded:"onCommentAdded",onCommentDeleted:"onCommentDeleted"},[])},"9fSo":function(n,t,e){"use strict";var l;e.d(t,"a",function(){return l}),function(n){n.UNKNOWN="UNKNOWN",n.USER="USER",n.QUEST="QUEST",n.LECTURE="LECTURE",n.TASK="TASK",n.VIDEO="VIDEO",n.GROUP="GROUP",n.POST="POST",n.ARTICLE="ARTICLE",n.STORY="STORY",n.PAGE="PAGE",n.QUESTION="QUESTION",n.QUIZ="QUIZ"}(l||(l={}))},Bdkt:function(n,t,e){"use strict"},Bo09:function(n,t,e){"use strict";e.d(t,"a",function(){return l}),e("7X0/");var l=function(){function n(n){this.elementRef=n,this.subscriptionsToClose=[]}return n.prototype.ngOnInit=function(){var n=this;this.subscriptionsToClose.push(this.dropdownMenuHandler.$menuToggled.subscribe(function(t){return n.toggleMenu(t)}))},n.prototype.toggleMenu=function(n){this.dropdownMenuHandler.targetElement=n.target,this.dropdownMenuHandler.buttonElement=this.elementRef.nativeElement,this.dropdownMenuHandler.isMenuShown=!this.dropdownMenuHandler.isMenuShown},n.prototype.ngOnDestroy=function(){this.subscriptionsToClose.forEach(function(n){return n.unsubscribe()}),this.dropdownMenuHandler.destroy()},n}()},FCKb:function(n,t,e){"use strict";var l=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])};return function(t,e){function l(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(l.prototype=e.prototype,new l)}}(),o=e("nzqU"),i=e("mbIT"),s=e("Y4kR"),u=e("cSoz"),r=e("zzsZ"),a={};t.combineLatest=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=null,l=null;return o.isScheduler(n[n.length-1])&&(l=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&i.isArray(n[0])&&(n=n[0]),r.fromArray(n,l).lift(new c(e))};var c=function(){function n(n){this.resultSelector=n}return n.prototype.call=function(n,t){return t.subscribe(new d(n,this.resultSelector))},n}();t.CombineLatestOperator=c;var d=function(n){function t(t,e){var l=n.call(this,t)||this;return l.resultSelector=e,l.active=0,l.values=[],l.observables=[],l}return l(t,n),t.prototype._next=function(n){this.values.push(a),this.observables.push(n)},t.prototype._complete=function(){var n=this.observables,t=n.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var e=0;e<t;e++){var l=n[e];this.add(u.subscribeToResult(this,l,l,e))}}},t.prototype.notifyComplete=function(n){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(n,t,e,l,o){var i=this.values,s=this.toRespond?i[e]===a?--this.toRespond:this.toRespond:0;i[e]=t,0===s&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},t.prototype._tryResultSelector=function(n){var t;try{t=this.resultSelector.apply(this,n)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(s.OuterSubscriber);t.CombineLatestSubscriber=d},HgFO:function(n,t,e){"use strict";e.d(t,"a",function(){return l});var l=function(n){return n[n.BOLD=0]="BOLD",n[n.ITALIC=1]="ITALIC",n[n.UNDERLINE=2]="UNDERLINE",n[n.STRIKE_THROUGH=3]="STRIKE_THROUGH",n[n.INSERT_URL=4]="INSERT_URL",n[n.INSERT_IMAGE=5]="INSERT_IMAGE",n[n.CODE=6]="CODE",n}({})},I65S:function(n,t,e){"use strict";var l=e("nzqU"),o=e("zzsZ"),i=e("aJGj"),s=e("yFcd");t.of=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n[n.length-1];switch(l.isScheduler(e)?n.pop():e=void 0,n.length){case 0:return i.empty(e);case 1:return e?o.fromArray(n,e):s.scalar(n[0]);default:return o.fromArray(n,e)}}},I7SJ:function(n,t,e){"use strict";e.d(t,"a",function(){return l});var l=function(){function n(){}return n.update=function(n,t){n.count=t.count,n.status=t.status},n}()},LYuz:function(n,t,e){"use strict";e.d(t,"a",function(){return l}),e("oilu"),e("gFDQ"),e("y2HU");var l=function(){function n(n,t,e){this.logger=n,this.exceptionService=t,this.externalNotificationAdapter=e,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.handleRequestErrorInfo=function(n,t){var e;switch(this.logger.error("\u0421\u0435\u0440\u0432\u0435\u0440 \u0432\u0435\u0440\u043d\u0443\u043b \u043e\u0448\u0438\u0431\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0430: ",n),n.code){case"INVALID_ARGUMENT":e="\u041e\u0448\u0438\u0431\u043e\u0447\u043d\u044b\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442";break;case"SENDING_COMMENT_IS_FORBIDDEN":e="\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c";break;case"LEVEL_0_USERS_CANNOT_SEND_COMMENTS":e="\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 0-\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438";break;case"COMMENTS_DAILY_LIMIT_IS_EXCEEDED":e="\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d \u0434\u043d\u0435\u0432\u043d\u043e\u0439 \u043b\u0438\u043c\u0438\u0442 \u043d\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 (\u043b\u0438\u043c\u0438\u0442 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0443\u0440\u043e\u0432\u043d\u044f)";break;case"ACCESS_RULE_VIOLATION_MUTE":e=n.message;break;case"AUTHORIZATION_ERROR":e="\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438";break;default:return void this.exceptionService.handleRequestErrorInfo(n,t)}this.externalNotificationAdapter.showError(e,t)},n}()},MLWW:function(n,t,e){"use strict";e.d(t,"a",function(){return l});var l=function(n){return n[n.THUMBNAIL_LEFT=0]="THUMBNAIL_LEFT",n[n.THUMBNAIL_RIGHT=1]="THUMBNAIL_RIGHT",n[n.SMALL=2]="SMALL",n[n.LARGE=3]="LARGE",n[n.FULL=4]="FULL",n}({})},MiBj:function(n,t,e){"use strict";var l;e.d(t,"a",function(){return l}),function(n){n.LIKE="LIKE",n.HOT="HOT",n.FOLLOW="FOLLOW",n.FAVORITE="FAVORITE",n.SOLUTION="SOLUTION",n.HELPFUL="HELPFUL",n.ARTICLE="ARTICLE",n.OSCAR="OSCAR"}(l||(l={})),function(n){n.values=function(){return t.map(function(n){return n.value})},n.getDisplayName=function(n){return t.find(function(t){return t.value===n}).displayName};var t=[{value:n.LIKE,displayName:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"},{value:n.HOT,displayName:"\u041e\u0447\u0435\u043d\u044c \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"},{value:n.FOLLOW,displayName:"\u0421\u043b\u0435\u0434\u0438\u0442\u044c"},{value:n.FAVORITE,displayName:"\u0412 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438"},{value:n.SOLUTION,displayName:"\u0420\u0435\u0448\u0435\u043d\u0438\u0435"},{value:n.HELPFUL,displayName:"\u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0439"},{value:n.ARTICLE,displayName:"\u0422\u044f\u043d\u0435\u0442 \u043d\u0430 \u0441\u0442\u0430\u0442\u044c\u044e"},{value:n.OSCAR,displayName:"\u0410\u0432\u0442\u043e\u0440 \u043f\u0438\u0448\u0438 \u0435\u0449\u0435"}]}(l||(l={}))},OTB5:function(n,t,e){"use strict";var l;e.d(t,"a",function(){return l}),function(n){n.UNVERIFIED="UNVERIFIED",n.VERIFIED="VERIFIED",n.CLAIM="CLAIM"}(l||(l={}))},"Pn+I":function(n,t,e){"use strict";var l=e("bG0t"),o=(e("J4K4"),e("gFDQ"),e("y2HU"),e("F/XL")),i=e("67Y/"),s=e("9Z1F"),u=e("oHtu");e("3P9I"),e("zFH7"),e("LYuz"),e.d(t,"a",function(){return r});var r=function(){function n(n,t,e,l,o,i){this.logger=n,this.dateTimeService=t,this.discussionBackendClient=e,this.discussionExceptionService=l,this.externalNotificationAdapter=o,this.commentsService=i,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.sendEditRequest=function(n,t,e,l){var u=this,r=new function(n,t,e){this.message=n,this.status=t,this.visibilityStatus=e}(t,e,l);return this.discussionBackendClient.adminUpdateComment(n.id,r).pipe(Object(i.a)(function(t){return n.adminUpdate(t),u.logger.info("\u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",n),!0}),Object(s.a)(function(n){return u.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"),Object(o.a)(!1)}))},n.prototype.sendDeleteRequest=function(n){var t=this;return this.discussionBackendClient.adminDeleteComment(n.id).pipe(Object(i.a)(function(){return n.visibilityStatus=l.a.DELETED,t.logger.info("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043f\u043e\u043c\u0435\u0447\u0435\u043d \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f",n),!0}),Object(s.a)(function(n){return t.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"),Object(o.a)(!1)}))},n.prototype.deleteAllUserComments=function(n,t){var e=this;this.discussionBackendClient.deleteAllUserComments(n.id,u.a.MODERATOR_ERASE_COMMENT_MESSAGE,t).subscribe(function(){var l="\u0412\u0441\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f "+n.displayName+" \u0437\u0430 "+(t?t+" \u0434\u043d\u0435\u0439":"\u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f")+" \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u044b \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f";e.externalNotificationAdapter.showSuccess(l),e.logger.info(l)},function(n){e.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432")})},n.prototype.addUserToMutedList=function(n){var t=this,e=new function(){};e.id=n.id,e.message="\u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u043c \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0431\u0449\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0430\u0439\u0442\u0435",e.endDate=1e3*this.dateTimeService.getMomentObject().add(3,"days").unix(),this.discussionBackendClient.addUserToMutedList(e).subscribe(function(){var e="\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e "+n.displayName+"\u0431\u044b\u043b\u043e \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u043d\u0430 3 \u0434\u043d\u044f";t.externalNotificationAdapter.showSuccess(e),t.logger.info(e)},function(n){t.discussionExceptionService.handleRequestErrorInfo(n)})},n}()},TcM7:function(n,t,e){"use strict";var l;e.d(t,"a",function(){return l}),function(n){n.DISLIKE="DISLIKE",n.WRONG="WRONG",n.SPAM="SPAM",n.ABUSE="ABUSE",n.FOUL="FOUL",n.TROLLING="TROLLING",n.OFFTOPIC="OFFTOPIC",n.DUPLICATE="DUPLICATE",n.DIRTY="DIRTY",n.OUTDATED="OUTDATED",n.BORING="BORING",n.UNCLEAR="UNCLEAR",n.HARD="HARD",n.EASY="EASY",n.FAKE="FAKE",n.SHAM="SHAM",n.AWFUL="AWFUL"}(l||(l={})),function(n){n.values=function(){return t.map(function(n){return n.value})},n.getDisplayName=function(n){return t.find(function(t){return t.value===n}).displayName};var t=[{value:n.DISLIKE,displayName:"\u041d\u0435 \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"},{value:n.WRONG,displayName:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442"},{value:n.SPAM,displayName:"\u0421\u043f\u0430\u043c/\u0420\u0435\u043a\u043b\u0430\u043c\u0430"},{value:n.ABUSE,displayName:"\u041e\u0441\u043a\u043e\u0440\u0431\u043b\u0435\u043d\u0438\u0435"},{value:n.FOUL,displayName:"\u041d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b"},{value:n.TROLLING,displayName:"\u0422\u0440\u043e\u043b\u043b\u0438\u043d\u0433"},{value:n.OFFTOPIC,displayName:"\u041f\u043e\u0441\u0442 \u043d\u0435 \u043f\u043e \u0442\u0435\u043c\u0435 \u0433\u0440\u0443\u043f\u043f\u044b"},{value:n.DUPLICATE,displayName:"\u0414\u0443\u0431\u043b\u0438\u043a\u0430\u0442/\u0423\u0436\u0435 \u0441\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u043b\u0438"},{value:n.DIRTY,displayName:"\u041f\u043b\u043e\u0445\u043e \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d"},{value:n.OUTDATED,displayName:"\u0423\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u0439"},{value:n.BORING,displayName:"\u0421\u043a\u0443\u0447\u043d\u043e"},{value:n.UNCLEAR,displayName:"\u041d\u0435\u043f\u043e\u043d\u044f\u0442\u043d\u043e"},{value:n.HARD,displayName:"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0441\u043b\u043e\u0436\u043d\u043e"},{value:n.EASY,displayName:"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043f\u0440\u043e\u0441\u0442\u043e"},{value:n.FAKE,displayName:"\u0424\u0435\u0439\u043a"},{value:n.SHAM,displayName:"\u041d\u0435 \u0432\u0435\u0440\u044e!"},{value:n.AWFUL,displayName:"\u041e\u0447\u0435\u043d\u044c \u043f\u043b\u043e\u0445\u043e/\u0423\u0436\u0430\u0441\u043d\u043e"}]}(l||(l={}))},"U+74":function(n,t,e){"use strict";e.d(t,"a",function(){return i});var l=e("9fSo"),o=(e("gFDQ"),e("Dy+N"),e("F/XL")),i=function(){function n(n,t){this.logger=n,this.meProfileService=t,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.setCurrentDiscussionInfo=function(n){this.currentDiscussionInfo=n},n.prototype.getDiscussionInfo=function(){return this.currentDiscussionInfo},n.prototype.getDiscussionTopicInfo=function(){return this.currentDiscussionTopicInfo},n.prototype.setDiscussionTopicInfo=function(n){this.currentDiscussionTopicInfo=n},n.prototype.isMeOwnerOfQuestionTopic=function(){return this.currentDiscussionInfo.type===l.a.QUESTION&&this.currentDiscussionTopicInfo?this.meProfileService.isCurrentUserHasId(this.currentDiscussionTopicInfo.userInfo.id):Object(o.a)(!1)},n}()},"U+aR":function(n,t,e){"use strict";e.d(t,"a",function(){return s}),e("gFDQ");var l=e("F/XL"),o=e("67Y/"),i=e("9Z1F"),s=(e("zFH7"),e("LYuz"),function(){function n(n,t,e,l){this.logger=n,this.router=t,this.discussionBackendClient=e,this.discussionExceptionService=l,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.resolve=function(n,t){var e=this,s=n.params.discussionId;return this.discussionBackendClient.loadDiscussionInfo(s).pipe(Object(o.a)(function(n){return e.logger.info("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u0434\u0438\u0441\u043a\u0443\u0441\u0441\u0438\u0438 "+s,n),n}),Object(i.a)(function(n){return e.discussionExceptionService.handleRequestErrorInfo(n,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0438\u0441\u043a\u0443\u0441\u0441\u0438\u0438"),Object(l.a)(null)}))},n}())},"VF+C":function(n,t,e){"use strict";e.d(t,"a",function(){return l}),e("7X0/");var l=function(){function n(n,t){this.elementRef=n,this.changeDetector=t,this.menuPosition="auto",this.menuOffset="3px",this.display="block",this.height="auto",this.width="auto",this.zIndex="1000",this.visibility="hidden",this.position="fixed",this.left="0px",this.right="auto",this.top="0px",this.bottom="auto",this.offsetLeft="0",this.offsetRight="0",this.offsetTop="0",this.offsetBottom="0"}return n.prototype.ngAfterViewInit=function(){var n=this;setTimeout(function(){switch(n.menuPosition){case"bottomRight":n.onBottomRight();break;case"bottomLeft":n.onBottomLeft();break;case"topRight":n.onTopRight();break;case"topLeft":n.onTopLeft();break;case"leftBottom":n.onLeftBottom();break;default:n.adjustMenuPosition()}n.changeDetector.markForCheck()})},n.prototype.onBottomRight=function(){this.left="0px",this.right="auto",this.top="100%",this.bottom="auto",this.offsetTop=this.menuOffset,this.makeMenuVisible()},n.prototype.onBottomLeft=function(){this.left="auto",this.right="0px",this.top="100%",this.bottom="auto",this.offsetTop=this.menuOffset,this.makeMenuVisible()},n.prototype.onTopRight=function(){this.left="0px",this.right="auto",this.top="auto",this.bottom="100%",this.offsetBottom=this.menuOffset,this.makeMenuVisible()},n.prototype.onTopLeft=function(){this.left="auto",this.right="0px",this.top="auto",this.bottom="100%",this.offsetBottom=this.menuOffset,this.makeMenuVisible()},n.prototype.onLeftBottom=function(){this.left="auto",this.right="100%",this.top="0px",this.bottom="auto",this.offsetRight=this.menuOffset,this.makeMenuVisible()},n.prototype.makeMenuVisible=function(){this.position="absolute",this.visibility="visible"},n.prototype.adjustMenuPosition=function(){if("auto"===this.menuPosition){var n=this.dropdownMenuHandler.buttonElement.getBoundingClientRect(),t=this.elementRef.nativeElement.firstElementChild.getBoundingClientRect(),e=document.documentElement.scrollHeight,l=document.documentElement.scrollWidth,o=e-pageYOffset-n.bottom-10>t.height,i=l-pageXOffset-n.left-10>t.width;o?i?this.onBottomRight():this.onBottomLeft():i?this.onTopRight():this.onTopLeft()}},n.prototype.closeMenu=function(n){n.target!==this.dropdownMenuHandler.targetElement&&(this.dropdownMenuHandler.isMenuShown=!1)},n.prototype.closeContextMenu=function(n){this.closeMenu(n)},n}()},VbCB:function(n,t,e){"use strict";e.d(t,"a",function(){return l});var l=function(n,t,e,l){this.order=n,this.limit=t,this.lastTimestamp=e,this.lastCommentId=l}},Vi6O:function(n,t,e){"use strict";var l=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])};return function(t,e){function l(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(l.prototype=e.prototype,new l)}}();t.InnerSubscriber=function(n){function t(t,e,l){var o=n.call(this)||this;return o.parent=t,o.outerValue=e,o.outerIndex=l,o.index=0,o}return l(t,n),t.prototype._next=function(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)},t.prototype._error=function(n){this.parent.notifyError(n,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(e("FWf1").Subscriber)},X3mJ:function(n,t,e){"use strict";e.d(t,"a",function(){return l});var l=function(){}},Y4kR:function(n,t,e){"use strict";var l=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])};return function(t,e){function l(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(l.prototype=e.prototype,new l)}}();t.OuterSubscriber=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return l(t,n),t.prototype.notifyNext=function(n,t,e,l,o){this.destination.next(t)},t.prototype.notifyError=function(n,t){this.destination.error(n)},t.prototype.notifyComplete=function(n){this.destination.complete()},t}(e("FWf1").Subscriber)},YquS:function(n,t,e){"use strict";var l,o=e("Ip0R"),i=e("CcnG"),s=(e("Bdkt"),e("gFDQ"),e("s34m"));!function(n){n.OWNER_WITH_SUBSCRIPTION="OWNER_WITH_SUBSCRIPTION"}(l||(l={})),e("3P9I"),e("U+74"),e("y2HU");var u=e("ds6q"),r=e("ny24");e.d(t,"a",function(){return a});var a=function(){function n(n,t,e,l,o,r,a,c,d,m){this.logger=n,this.platformId=t,this.document=e,this.elementRef=l,this.renderer=o,this.route=r,this.discussionService=a,this.commentsService=c,this.externalNotificationAdapter=d,this.changeDetector=m,this.defaultCommentsOrder=s.a.CREATED_TIME_DESC,this.onCommentAdded=new i.EventEmitter,this.onCommentDeleted=new i.EventEmitter,this.isDestroyed$=new u.Subject,this.logger.debug(this.constructor.name+" is created.")}return n.prototype.ngOnChanges=function(n){this.discussionService.setCurrentDiscussionInfo(this.discussion),this.discussionService.setDiscussionTopicInfo(this.discussionTopic)},n.prototype.ngOnInit=function(){var n=this;this.showSubscriptionLabels&&(this.commentsService.COMMENT_PROJECTION=l.OWNER_WITH_SUBSCRIPTION),this.route.data.pipe(Object(r.a)(this.isDestroyed$)).subscribe(function(t){t.discussionInfo&&(n.initDiscussionBlockAsWidget(t.discussionInfo),n.changeDetector.markForCheck())}),this.commentsService.commentAdding$.pipe(Object(r.a)(this.isDestroyed$)).subscribe(function(){return n.onCommentAdded.next()}),this.commentsService.commentDeletion$.pipe(Object(r.a)(this.isDestroyed$)).subscribe(function(){return n.onCommentDeleted.next()})},n.prototype.initDiscussionBlockAsWidget=function(n){var t=this;this.discussion=n,this.discussionService.setCurrentDiscussionInfo(n),this.externalNotificationAdapter.sendNotificationsToExternalSite(),this.renderer.addClass(this.document.documentElement,"iframe"),Object(o.isPlatformBrowser)(this.platformId)&&this.enableSyncingHeightWithParent(),this.route.queryParamMap.pipe(Object(r.a)(this.isDestroyed$)).subscribe(function(n){"sale"===n.get("layout")&&(t.onlyComments=!0,t.commentsService.COMMENT_PROJECTION=l.OWNER_WITH_SUBSCRIPTION,t.defaultCommentsOrder=s.a.POPULAR)})},n.prototype.enableSyncingHeightWithParent=function(){var n=this,t=window.frameElement,e=document.body;t&&(e.style.overflowY="hidden",setInterval(function(){n.lastWindowHeight!==n.elementRef.nativeElement.scrollHeight&&(n.lastWindowHeight=n.elementRef.nativeElement.scrollHeight,t.style.height=n.lastWindowHeight+"px")},200))},n.prototype.ngOnDestroy=function(){this.isDestroyed$.next(),this.isDestroyed$.complete()},n}()},bG0t:function(n,t,e){"use strict";var l;e.d(t,"a",function(){return l}),function(n){n.UNKNOWN="UNKNOWN",n.RESTRICTED="RESTRICTED",n.PUBLIC="PUBLIC",n.PROTECTED="PROTECTED",n.PRIVATE="PRIVATE",n.DISABLED="DISABLED",n.DELETED="DELETED"}(l||(l={})),function(n){n.values=function(){return t.map(function(n){return n.status})},n.getVisibilityStatuses=function(){var t=[];return t.push(n.RESTRICTED,n.PUBLIC,n.PROTECTED,n.PRIVATE,n.DISABLED,n.DELETED),t},n.getDisplayName=function(n){var e=t.find(function(t){return t.status===n});return e?e.displayName:null};var t=[{status:n.UNKNOWN,displayName:"\u041d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d"},{status:n.RESTRICTED,displayName:"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u0439"},{status:n.PUBLIC,displayName:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d"},{status:n.PROTECTED,displayName:"\u0417\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u044b\u0439"},{status:n.PRIVATE,displayName:"\u0421\u043a\u0440\u044b\u0442\u044b\u0439"},{status:n.DISABLED,displayName:"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d"},{status:n.DELETED,displayName:"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439"}]}(l||(l={}))},cSoz:function(n,t,e){"use strict";var l=e("Vi6O"),o=e("6qA3");t.subscribeToResult=function(n,t,e,i){var s=new l.InnerSubscriber(n,e,i);return o.subscribeTo(t)(s)}},dzgT:function(n,t,e){"use strict";e.d(t,"a",function(){return c});var l=e("mrSG"),o=e("nkY7"),i=e("isby"),s=e("MGBS"),u=e("zotm"),r=e("IUTb"),a={};function c(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=null,l=null;return Object(o.a)(n[n.length-1])&&(l=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&Object(i.a)(n[0])&&(n=n[0]),Object(r.a)(n,l).lift(new d(e))}var d=function(){function n(n){this.resultSelector=n}return n.prototype.call=function(n,t){return t.subscribe(new m(n,this.resultSelector))},n}(),m=function(n){function t(t,e){var l=n.call(this,t)||this;return l.resultSelector=e,l.active=0,l.values=[],l.observables=[],l}return l.__extends(t,n),t.prototype._next=function(n){this.values.push(a),this.observables.push(n)},t.prototype._complete=function(){var n=this.observables,t=n.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var e=0;e<t;e++){var l=n[e];this.add(Object(u.a)(this,l,l,e))}}},t.prototype.notifyComplete=function(n){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(n,t,e,l,o){var i=this.values,s=this.toRespond?i[e]===a?--this.toRespond:this.toRespond:0;i[e]=t,0===s&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},t.prototype._tryResultSelector=function(n){var t;try{t=this.resultSelector.apply(this,n)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(s.a)},hDTF:function(n,t,e){"use strict";var l;e.d(t,"a",function(){return l}),function(n){n.UNKNOWN="UNKNOWN",n.NEW="NEW",n.ACTIVE="ACTIVE",n.SOLVED="SOLVED",n.ARCHIVE="ARCHIVE",n.DUBLICATE="DUBLICATE",n.DELETED="DELETED"}(l||(l={})),function(n){n.values=function(){return t.map(function(n){return n.value})},n.getDisplayName=function(n){return t.find(function(t){return t.value===n}).displayName};var t=[{value:n.UNKNOWN,displayName:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"},{value:n.NEW,displayName:"\u041d\u043e\u0432\u044b\u0439"},{value:n.ACTIVE,displayName:"\u041e\u0431\u0441\u0443\u0436\u0434\u0430\u0435\u0442\u0441\u044f"},{value:n.SOLVED,displayName:"\u0420\u0435\u0448\u0435\u043d"},{value:n.ARCHIVE,displayName:"\u0417\u0430\u0431\u0440\u043e\u0448\u0435\u043d"},{value:n.DUBLICATE,displayName:"\u0414\u0443\u0431\u043b\u0438\u043a\u0430\u0442"},{value:n.DELETED,displayName:"\u0423\u0434\u0430\u043b\u0435\u043d"}]}(l||(l={}))},hPRa:function(n,t,e){"use strict";var l=e("CcnG"),o=function(){function n(){this.filesChangeEmitter=new l.EventEmitter}return n.prototype.onDrop=function(n){n.preventDefault();var t=n.dataTransfer.files;t.length>0&&this.filesChangeEmitter.emit(t)},n.prototype.allowDrop=function(n){n.preventDefault()},n}(),i=e("Ip0R");e("gIcY"),e("yOV5"),e("ucEb"),e.d(t,"a",function(){return s}),e.d(t,"b",function(){return d});var s=l["\u0275crt"]({encapsulation:0,styles:[[".drag-an-drop[_ngcontent-%COMP%]{display:block;background-color:#26272b;border:2px dashed #636366;text-align:center;font-size:14px;line-height:1.4;color:#7d7e7f;padding:40px 0;position:relative;-webkit-font-smoothing:antialiased}.drag-an-drop[_ngcontent-%COMP%]:hover{background-color:rgba(100,144,176,.2);border-color:#6490b0;color:#6490b0}.drag-an-drop[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:12px}.drag-an-drop[_ngcontent-%COMP%]   div.ico[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;text-align:center;font-size:20px;margin-right:10px}.inputfile[_ngcontent-%COMP%]{display:block;position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;filter:alpha(opacity=0);cursor:pointer}.preview-cover[_ngcontent-%COMP%]{display:block;width:100%;background-color:#213747;padding:8px 15px;border:1px solid #426179;text-align:center;position:relative}.preview-cover[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;width:auto;height:auto;max-width:100%;max-height:200px}.preview-cover[_ngcontent-%COMP%]   .button--danger[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:15px}.light[_nghost-%COMP%]   .drag-an-drop[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .drag-an-drop[_ngcontent-%COMP%]{background-color:#f7f9fb;border:2px dashed #bcc7d3;color:#7d7e7f}.light[_nghost-%COMP%]   .drag-an-drop[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .drag-an-drop[_ngcontent-%COMP%]:hover{background-color:#f7f9fb;border-color:#a1aab3;color:#6490b0}.light[_nghost-%COMP%]   .preview-cover[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .preview-cover[_ngcontent-%COMP%]{background-color:#f7f9fb;border:1px solid #a1aab3}"]],data:{}});function u(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","preview-cover"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"img",[["height","200"]],[[8,"src",4]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"button",[["class","button button--danger"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.clearImage()&&l),l},null,null)),(n()(),l["\u0275ted"](-1,null,["\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"]))],null,function(n,t){n(t,1,0,t.component.imageUrl)})}function r(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"label",[["class","drag-an-drop"]],[[1,"for",0]],[[null,"jrDropFilesArea"],[null,"drop"],[null,"dragover"]],function(n,t,e){var o=!0,i=n.component;return"drop"===t&&(o=!1!==l["\u0275nov"](n,1).onDrop(e)&&o),"dragover"===t&&(o=!1!==l["\u0275nov"](n,1).allowDrop(e)&&o),"jrDropFilesArea"===t&&(o=!1!==i.onFilesAccept(e)&&o),o},null,null)),l["\u0275did"](1,16384,null,0,o,[],null,{filesChangeEmitter:"jrDropFilesArea"}),(n()(),l["\u0275eld"](2,0,null,null,0,"input",[["accept","image/*"],["class","inputfile"],["name","file"],["type","file"]],[[8,"id",0]],[[null,"change"]],function(n,t,e){var l=!0;return"change"===t&&(l=!1!==n.component.onFilesAccept(e.target.files)&&l),l},null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"div",[["class","ico"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,0,"span",[["class","icon-upload"]],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,[" "," "]))],null,function(n,t){var e=t.component;n(t,0,0,e.inputId),n(t,2,0,e.inputId),n(t,5,0,e.labelText)})}function a(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","loader"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Loading..."]))],null,null)}function c(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","alert alert-danger"],["role","alert"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" \u0424\u0430\u0439\u043b "," \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u043c "]))],null,function(n,t){n(t,1,0,t.component.wrongFileDropped)})}function d(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,u)),l["\u0275did"](1,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,r)),l["\u0275did"](3,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,a)),l["\u0275did"](5,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,c)),l["\u0275did"](7,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,1,0,e.imageUrl),n(t,3,0,!e.imageUrl&&!e.isLoading),n(t,5,0,e.isLoading),n(t,7,0,e.wrongFileDropped)},null)}},ij4C:function(n,t,e){"use strict";e.d(t,"a",function(){return l});var l=function(){function n(){}return n.prototype.transform=function(t,e){return e[t%100>4&&t%100<20?2:n.CASES[t%10<5?t%10:5]]},n.CASES=[2,0,1,1,1,2],n}()},nzqU:function(n,t,e){"use strict";t.isScheduler=function(n){return n&&"function"==typeof n.schedule}},oF3d:function(n,t,e){"use strict";e.d(t,"a",function(){return i}),e("gFDQ"),e("Dy+N"),e("cLgh");var l=e("/PH2"),o=e("oHtu"),i=(e("3P9I"),e("U+74"),function(){function n(n,t,e,l,o){this.logger=n,this.meProfileService=t,this.websocketStompService=e,this.discussionService=l,this.commentsService=o,this.TOPIC_COMMENT_ADDED="/topic/discussion{discussionId}/comments/added",this.TOPIC_COMMENT_UPDATED="/topic/discussion{discussionId}/comments/updated",this.TOPIC_COMMENT_DELETED="/topic/discussion{discussionId}/comments/deleted",this.subscriptionsToTopics=[],this.logger.debug(this.constructor.name+" is created.")}return n.prototype.initWebsocketCommentOperations=function(){this.initCommentAdding(),this.initCommentUpdating(),this.initCommentDeleting()},n.prototype.removeAllTopicSubscriptions=function(){this.subscriptionsToTopics.forEach(function(n){return n.unsubscribe()}),this.subscriptionsToTopics=[]},n.prototype.initCommentAdding=function(){var n=this,t=this.TOPIC_COMMENT_ADDED.replace("{discussionId}",this.discussionService.getDiscussionInfo().id.toString()),e=this.websocketStompService.createSubscriptionToMessages(t,{}).pipe(Object(l.a)(this.meProfileService.getCurrentMeProfile())).subscribe(function(t){var e=o.a.of(t[0].body,t[1]);e.isUpdatedAsync=!0,n.commentsService.addComment(e)});this.subscriptionsToTopics.push(e)},n.prototype.initCommentUpdating=function(){var n=this,t=this.TOPIC_COMMENT_UPDATED.replace("{discussionId}",this.discussionService.getDiscussionInfo().id.toString()),e=this.websocketStompService.createSubscriptionToMessages(t,{}).subscribe(function(t){n.commentsService.getCommentById(t.body.id).subscribe(function(n){n&&(n.update(t.body),n.isUpdatedAsync=!0)})});this.subscriptionsToTopics.push(e)},n.prototype.initCommentDeleting=function(){var n=this,t=this.TOPIC_COMMENT_DELETED.replace("{discussionId}",this.discussionService.getDiscussionInfo().id.toString()),e=this.websocketStompService.createSubscriptionToMessages(t,{}).subscribe(function(t){n.commentsService.getCommentById(t.body).subscribe(function(t){t&&n.commentsService.deleteComment(t)})});this.subscriptionsToTopics.push(e)},n}())},oHtu:function(n,t,e){"use strict";e.d(t,"a",function(){return o});var l=e("I7SJ"),o=function(){function n(){}return n.of=function(t,e){var l=new n;return l.id=t.id,l.message=t.message,l.time=t.time,l.owner=t.owner,l.answerTo=t.answerTo,l.parentCommentId=t.parentCommentId,l.status=t.status,l.likes=t.likes,l.attributes=t.attributes,l.visibilityStatus=t.visibilityStatus,l.childrenComments=t.childrenComments?t.childrenComments.map(function(t){return n.of(t,e)}):[],l.isMeOwner=e?e.id===t.owner.id:null,l.isErased=t.message===n.AUTHOR_ERASE_COMMENT_MESSAGE||t.message===n.MODERATOR_ERASE_COMMENT_MESSAGE,l},n.prototype.update=function(t){this.message=t.message,l.a.update(this.likes,t.likes),this.attributes=t.attributes,this.status=t.status,this.visibilityStatus=t.visibilityStatus,this.isErased=t.message===n.AUTHOR_ERASE_COMMENT_MESSAGE},n.prototype.adminUpdate=function(t){this.message=t.message,this.status=t.status,this.visibilityStatus=t.visibilityStatus,this.isErased=t.message===n.MODERATOR_ERASE_COMMENT_MESSAGE},n.AUTHOR_ERASE_COMMENT_MESSAGE="<span><i>/* \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0443\u0434\u0430\u043b\u0435\u043d */</i></span>",n.MODERATOR_ERASE_COMMENT_MESSAGE="<span><i>/* \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0443\u0434\u0430\u043b\u0435\u043d */</i></span>",n}()},s34m:function(n,t,e){"use strict";var l;e.d(t,"a",function(){return l}),function(n){n.CREATED_TIME_ASC="CREATED_TIME_ASC",n.CREATED_TIME_DESC="CREATED_TIME_DESC",n.POPULAR="POPULAR"}(l||(l={}))},wCGo:function(n,t,e){"use strict";e.d(t,"a",function(){return l});var l=function(){function n(n){this._element=n,this.autosize=!0}return n.prototype.onInput=function(n){this.adjust()},n.prototype.ngAfterContentChecked=function(){this.autosize&&this.adjust()},n.prototype.ngOnInit=function(){var n=this;this.autosize&&setTimeout(function(){return n.adjust()})},n.prototype.adjust=function(){var n=this._element.nativeElement.scrollHeight;this.autosize&&this.lastHeight!==n&&(this._element.nativeElement.style.height=n+2*this._element.nativeElement.clientTop+"px",this.lastHeight=n)},n}()},wbUM:function(n,t,e){"use strict";e.d(t,"a",function(){return l});var l=function(){this.message="",this.parentCommentId=null,this.replyToComment=null}},y2HU:function(n,t,e){"use strict";e.d(t,"a",function(){return o});var l=e("Ip0R"),o=(e("gFDQ"),e("FAJc"),function(){function n(n,t,e){this.logger=n,this.platformId=t,this.notificationService=e,this.logger.debug(this.constructor.name+" is created."),Object(l.isPlatformBrowser)(this.platformId)&&(this.notifications=window.top.NOTIFICATIONS)}return n.prototype.sendNotificationsToExternalSite=function(){this.sendToExternalSite=!0},n.prototype.showError=function(n,t){if(this.sendToExternalSite){var e=t?t+": "+n:n;this.notifications&&this.notifications.addHtmlMessageToContainer("danger",e,3e3),this.logger.info("Error window on external site was shown:",e)}else this.notificationService.showError(n,t)},n.prototype.showSuccess=function(n,t){if(this.sendToExternalSite){var e=t?t+": "+n:n;this.notifications&&this.notifications.addHtmlMessageToContainer("success",e,3e3),this.logger.info("Success window on external site was shown:",e)}else this.notificationService.showSuccess(n,t)},n}())},yFcd:function(n,t,e){"use strict";var l=e("Q1FS");t.scalar=function(n){var t=new l.Observable(function(t){t.next(n),t.complete()});return t._isScalar=!0,t.value=n,t}},yOV5:function(n,t,e){"use strict";e.d(t,"a",function(){return l}),e("ucEb");var l=function(){function n(n,t){this.fileUploadService=n,this.cdr=t,this.labelText="\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0435\u0433\u043e \u043c\u044b\u0448\u044c\u044e",this.inputId="file",this.propagateChange=function(n){}}return n.prototype.writeValue=function(n){this.imageUrl=n||""},n.prototype.registerOnChange=function(n){this.propagateChange=n},n.prototype.registerOnTouched=function(n){},n.prototype.setDisabledState=function(n){},n.prototype.clearImage=function(){this.imageUrl="",this.propagateChange(this.imageUrl)},n.prototype.onFilesAccept=function(n){n[0].type.startsWith("image")?(this.wrongFileDropped=null,this.uploadImage(n[0])):this.wrongFileDropped=n[0].name},n.prototype.uploadImage=function(n){var t=this;this.isLoading=!0,this.fileUploadService.uploadNewImage(n).subscribe(function(n){t.imageUrl=n,t.propagateChange(t.imageUrl)},null,function(){t.isLoading=!1,t.cdr.markForCheck()})},n}()},zFH7:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var l=e("t/Na"),o=e("3lvd"),i=(e("CQiu"),e("gFDQ"),function(){function n(n,t){this.logger=n,this.httpClient=t,this.DISCUSSION_URL_PATH="/discussions/discussion{discussionId}",this.DISCUSSION_LIKES_URL_PATH="/discussions/discussion{discussionId}/likes",this.DISCUSSION_COMMENTS_URL_PATH="/discussions/discussion{discussionId}/comments",this.DISCUSSION_COMMENTS_COUNT_URL_PATH="/discussions/discussion{discussionId}/comments/count",this.DISCUSSION_COMMENT_URL_PATH="/discussions/discussion{discussionId}/comments/{commentId}",this.DISCUSSION_COMMENT_LIKES_URL_PATH="/discussions/discussion{discussionId}/comments/{commentId}/likes",this.ADMIN_DISCUSSION_COMMENT_URL_PATH="/admin/comments/comment{id}",this.ADMIN_DISCUSSION_COMMENT_DELETE_ALL_URL_PATH="/admin/comments",this.ADMIN_ADD_USER_TO_MUTED_LIST_URL_PATH="/admin/users/muted",this.logger.debug(this.constructor.name+" is created.")}return n.prototype.loadDiscussionInfo=function(n){var t=o.a.apiUrl+this.DISCUSSION_URL_PATH.replace("{discussionId}",n.toString());return this.httpClient.get(t)},n.prototype.voteDiscussion=function(n,t){var e=o.a.apiUrl+this.DISCUSSION_LIKES_URL_PATH.replace("{discussionId}",n.toString());return this.httpClient.post(e,t)},n.prototype.loadComments=function(n,t,e){var i=o.a.apiUrl+this.DISCUSSION_COMMENTS_URL_PATH.replace("{discussionId}",n.toString()),s=new l.i;return null!=t.order&&(s=s.set("order",t.order)),null!=t.limit&&(s=s.set("limit",t.limit.toString())),null!=t.lastTimestamp&&(s=s.set("last_time",t.lastTimestamp.toString())),null!=t.lastCommentId&&(s=s.set("last_comment_id",t.lastCommentId.toString())),null!=e&&(s=s.set("projection",e)),this.httpClient.get(i,s)},n.prototype.loadCommentsCount=function(n,t){var e=o.a.apiUrl+this.DISCUSSION_COMMENTS_COUNT_URL_PATH.replace("{discussionId}",n.toString()),i=new l.i;return i=i.set("firstLevelOnly",t?"true":"false"),this.httpClient.get(e,i)},n.prototype.loadComment=function(n,t,e){var i=o.a.apiUrl+this.DISCUSSION_COMMENT_URL_PATH.replace("{discussionId}",n.toString()).replace("{commentId}",t.toString()),s=new l.i;return null!=e&&(s=s.set("projection",e)),this.httpClient.get(i,s)},n.prototype.addComment=function(n,t,e){var i=o.a.apiUrl+this.DISCUSSION_COMMENTS_URL_PATH.replace("{discussionId}",n.toString()),s=new l.i;return null!=e&&(s=s.set("projection",e)),this.httpClient.post(i,t,s)},n.prototype.editComment=function(n,t,e){var i=o.a.apiUrl+this.DISCUSSION_COMMENT_URL_PATH.replace("{discussionId}",n.toString()).replace("{commentId}",t.id.toString()),s=new l.i;return null!=e&&(s=s.set("projection",e)),this.httpClient.post(i,t,s)},n.prototype.deleteComment=function(n,t){var e=o.a.apiUrl+this.DISCUSSION_COMMENT_URL_PATH.replace("{discussionId}",n.toString()).replace("{commentId}",t.toString());return this.httpClient.delete(e)},n.prototype.voteComment=function(n,t,e){var l=o.a.apiUrl+this.DISCUSSION_COMMENT_LIKES_URL_PATH.replace("{discussionId}",n.toString()).replace("{commentId}",t.toString());return this.httpClient.post(l,e)},n.prototype.addUserToMutedList=function(n){return this.httpClient.post(o.a.apiUrl+this.ADMIN_ADD_USER_TO_MUTED_LIST_URL_PATH,n)},n.prototype.adminUpdateComment=function(n,t){var e=o.a.apiUrl+this.ADMIN_DISCUSSION_COMMENT_URL_PATH.replace("{id}",n.toString());return this.httpClient.post(e,t)},n.prototype.adminDeleteComment=function(n){var t=o.a.apiUrl+this.ADMIN_DISCUSSION_COMMENT_URL_PATH.replace("{id}",n.toString());return this.httpClient.delete(t)},n.prototype.deleteAllUserComments=function(n,t,e){var i=o.a.apiUrl+this.ADMIN_DISCUSSION_COMMENT_DELETE_ALL_URL_PATH,s=new l.i;return null!=n&&(s=s.set("id",n.toString())),null!=t&&(s=s.set("eraseMessage",t)),null!=e&&(s=s.set("days",e.toString())),this.httpClient.delete(i,null,s)},n}())}}]);